!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("msdf-bmfont-xml"),require("fs"),require("util.promisify")):"function"==typeof define&&define.amd?define("SC",["msdf-bmfont-xml","fs","util.promisify"],e):"object"==typeof exports?exports.SC=e(require("msdf-bmfont-xml"),require("fs"),require("util.promisify")):t.SC=e(t["msdf-bmfont-xml"],t.fs,t["util.promisify"])}(this,function(__WEBPACK_EXTERNAL_MODULE_161__,__WEBPACK_EXTERNAL_MODULE_162__,__WEBPACK_EXTERNAL_MODULE_163__){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/dist",e(e.s=166)}([function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(184),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";function r(t,e){return A()(t,e)}function i(t){return void 0!==t&&null!==t}function a(t){return k()(t)}function o(t){return b()(t)}function s(t){return"function"==typeof t}function u(t,e){t.prototype=v()(e.prototype)}function c(){return(++C).toString()}function l(t){return y()(t)}function f(t){return _()(t)}function h(t){return null===t?"[object Null]":t.getType?t.getType():t.constructor.name||Object.prototype.toString.call(t)}function d(t,e){return s(t.equals)?t.equals(e):t===e}n.d(e,"i",function(){return i}),n.d(e,"j",function(){return a}),n.d(e,"h",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"k",function(){return f}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return h}),n.d(e,"f",function(){return d}),n.d(e,"d",function(){return r});var p=n(116),v=n.n(p),m=n(189),_=n.n(m),g=n(118),y=n.n(g),x=n(203),b=n.n(x),w=n(204),k=n.n(w),S=n(206),A=n.n(S),C=0},function(t,e){var n={};t.exports=n,function(){n._nextId=0,n._seed=0,n.extend=function(t,e){var r,i,a;"boolean"==typeof e?(r=2,a=e):(r=1,a=!0),i=Array.prototype.slice.call(arguments,r);for(var o=0;o<i.length;o++){var s=i[o];if(s)for(var u in s)a&&s[u]&&s[u].constructor===Object?t[u]&&t[u].constructor!==Object?t[u]=s[u]:(t[u]=t[u]||{},n.extend(t[u],a,s[u])):t[u]=s[u]}return t},n.clone=function(t,e){return n.extend({},e,t)},n.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},n.values=function(t){var e=[];if(Object.keys){for(var n=Object.keys(t),r=0;r<n.length;r++)e.push(t[n[r]]);return e}for(var i in t)e.push(t[i]);return e},n.shadeColor=function(t,e){var n=parseInt(t.slice(1),16),r=Math.round(2.55*e),i=(n>>16)+r,a=(n>>8&255)+r,o=(255&n)+r;return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(a<255?a<1?0:a:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},n.shuffle=function(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(n.random()*(e+1)),i=t[e];t[e]=t[r],t[r]=i}return t},n.choose=function(t){return t[Math.floor(n.random()*t.length)]},n.isElement=function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.clamp=function(t,e,n){return t<e?e:t>n?n:t},n.sign=function(t){return t<0?-1:1},n.now=function(){var t=window.performance||{};return t.now=function(){return t.now||t.webkitNow||t.msNow||t.oNow||t.mozNow||function(){return+new Date}}(),t.now()},n.random=function(e,n){return e=void 0!==e?e:0,n=void 0!==n?n:1,e+t()*(n-e)},n.colorToNumber=function(t){return t=t.replace("#",""),3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},n.log=function(t,e){if(console&&console.log&&console.warn)switch(e){case"warn":console.warn("Matter.js:",t);break;case"error":console.log("Matter.js:",t)}},n.nextId=function(){return n._nextId++},n.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1};var t=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280}}()},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(72)("wks"),i=n(53),a=n(6).Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(6),i=n(4),a=n(25),o=n(26),s=function(t,e,n){var u,c,l,f=t&s.F,h=t&s.G,d=t&s.S,p=t&s.P,v=t&s.B,m=t&s.W,_=h?i:i[e]||(i[e]={}),g=_.prototype,y=h?r:d?r[e]:(r[e]||{}).prototype;h&&(n=e);for(u in n)(c=!f&&y&&void 0!==y[u])&&u in _||(l=c?y[u]:n[u],_[u]=h&&"function"!=typeof y[u]?n[u]:v&&c?a(l,r):m&&y[u]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):p&&"function"==typeof l?a(Function.call,l):l,p&&((_.virtual||(_.virtual={}))[u]=l,t&s.R&&g&&!g[u]&&o(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){"use strict";function r(t){return"[object Array]"===S.call(t)}function i(t){return"[object ArrayBuffer]"===S.call(t)}function a(t){return"undefined"!=typeof FormData&&t instanceof FormData}function o(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t){return void 0===t}function l(t){return null!==t&&"object"==typeof t}function f(t){return"[object Date]"===S.call(t)}function h(t){return"[object File]"===S.call(t)}function d(t){return"[object Blob]"===S.call(t)}function p(t){return"[object Function]"===S.call(t)}function v(t){return l(t)&&p(t.pipe)}function m(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function _(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function y(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),r(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function x(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=x(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)y(arguments[n],t);return e}function b(t,e,n){return y(e,function(e,r){t[r]=n&&"function"==typeof e?w(e,n):e}),t}var w=n(132),k=n(248),S=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:i,isBuffer:k,isFormData:a,isArrayBufferView:o,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:h,isBlob:d,isFunction:p,isStream:v,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:y,merge:x,extend:b,trim:_}},function(t,e,n){t.exports=n(229)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(84),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,n){function r(a,o){try{var s=e[a](o),u=s.value}catch(t){return void n(t)}if(!s.done)return i.default.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(){i()(this,t)}return o()(t,null,[{key:"renderContext",get:function(){return this._renderContext},set:function(t){this._renderContext=t}},{key:"activeScene",get:function(){return this._activeScene},set:function(t){this._activeScene=t}},{key:"activeProject",get:function(){return this._activeProject},set:function(t){this._activeProject=t}},{key:"activeGame",get:function(){return this._activeGame},set:function(t){this._activeGame=t}},{key:"activeProjectPath",get:function(){return this._activeProjectPath},set:function(t){this._activeProjectPath=t}}]),t}();e.a=s},function(t,e){var n={};t.exports=n,function(){n.create=function(t,e){return{x:t||0,y:e||0}},n.clone=function(t){return{x:t.x,y:t.y}},n.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},n.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return{x:t.x*n-t.y*r,y:t.x*r+t.y*n}},n.rotateAbout=function(t,e,n,r){var i=Math.cos(e),a=Math.sin(e);r||(r={});var o=n.x+((t.x-n.x)*i-(t.y-n.y)*a);return r.y=n.y+((t.x-n.x)*a+(t.y-n.y)*i),r.x=o,r},n.normalise=function(t){var e=n.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.cross=function(t,e){return t.x*e.y-t.y*e.x},n.cross3=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},n.add=function(t,e,n){return n||(n={}),n.x=t.x+e.x,n.y=t.y+e.y,n},n.sub=function(t,e,n){return n||(n={}),n.x=t.x-e.x,n.y=t.y-e.y,n},n.mult=function(t,e){return{x:t.x*e,y:t.y*e}},n.div=function(t,e){return{x:t.x/e,y:t.y/e}},n.perp=function(t,e){return e=!0===e?-1:1,{x:e*-t.y,y:e*t.x}},n.neg=function(t){return{x:-t.x,y:-t.y}},n.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]}()},function(t,e){var n={};t.exports=n,function(){n.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&n.update(e,t),e},n.update=function(t,e,n){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var r=0;r<e.length;r++){var i=e[r];i.x>t.max.x&&(t.max.x=i.x),i.x<t.min.x&&(t.min.x=i.x),i.y>t.max.y&&(t.max.y=i.y),i.y<t.min.y&&(t.min.y=i.y)}n&&(n.x>0?t.max.x+=n.x:t.min.x+=n.x,n.y>0?t.max.y+=n.y:t.min.y+=n.y)},n.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},n.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},n.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},n.shift=function(t,e){var n=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+n,t.min.y=e.y,t.max.y=e.y+r}}()},function(t,e,n){t.exports=!n(36)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(16),i=n(108),a=n(70),o=Object.defineProperty;e.f=n(14)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(17);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a);n(34).a.addRule("vector2",["x","y"]);var s=function(){function t(e,n){i()(this,t),this.x=0,this.y=0,this.set(e,n)}return o()(t,[{key:"set",value:function(t,e){this.x=t||0,this.y=e||0}},{key:"objectify",value:function(){return{x:this.x,y:this.y}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"unload",value:function(){}},{key:"magnitude",value:function(){return Math.sqrt(this.sqrMagnitude())}},{key:"sqrMagnitude",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalLeft",value:function(){return new t(this.y,-1*this.x)}},{key:"normalRight",value:function(){return new t(-1*this.y,this.x)}},{key:"normalize",value:function(){return t.normalize(this)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"distanceTo",value:function(e){return t.distance(this,e)}},{key:"multiply",value:function(e){return t.multiply(this,e)}},{key:"subtract",value:function(e){return t.subtract(this,e)}},{key:"add",value:function(e){return t.add(this,e)}},{key:"toString",value:function(){return"{x: "+this.x+"; y: "+this.y+"}"}}],[{key:"restore",value:function(e){return new t(e.x,e.y)}},{key:"add",value:function(e,n){return new t(e.x+n.x,e.y+n.y)}},{key:"subtract",value:function(e,n){return new t(e.x-n.x,e.y-n.y)}},{key:"multiply",value:function(e,n){return new t(e.x*n.x,e.y*n.y)}},{key:"normalize",value:function(t){var e=1/t.magnitude();return t.x*=e,t.y*=e,t}},{key:"distance",value:function(e,n){return Math.sqrt(t.sqrDistance(e,n))}},{key:"sqrDistance",value:function(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},{key:"transformMat4",value:function(e,n){return new t(n[0]*e.x+n[4]*e.y+n[12],n[1]*e.x+n[5]*e.y+n[13])}},{key:"transformMat3",value:function(e,n){return new t(n[0]*e.x+n[3]*e.y+n[6],n[1]*e.x+n[4]*e.y+n[7])}}]),t}();e.a=s},function(t,e,n){t.exports={default:n(174),__esModule:!0}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),e=e||{},this._context=e.context||"Default"}return o()(t,[{key:"log",value:function(t){console.log(this._context+" | "+t)}},{key:"warn",value:function(t){console.warn(this._context+" | "+t)}},{key:"error",value:function(t){console.error(this._context+" | "+t)}}]),t}();e.b=s;var u=new s("Debug")},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(34),u=n(2),c=n(60);s.a.addRule("color",["r","g","b","a"]);var l=function(){function t(e,n,r,a,o){i()(this,t),this.r=0,this.g=0,this.b=0,this.a=1,this.setSpecial(e,n,r,a,o)}return o()(t,null,[{key:"CornflowerBlue",get:function(){return t.fromRGB(100,149,237)}},{key:"Scarlet",get:function(){return t.fromRGB(255,36,0)}},{key:"Red",get:function(){return t.fromRGB(255,0,0)}},{key:"Green",get:function(){return t.fromRGB(0,255,0)}},{key:"Blue",get:function(){return t.fromRGB(0,0,255)}},{key:"White",get:function(){return t.fromRGB(255,255,255)}},{key:"Black",get:function(){return t.fromRGB(0,0,0)}},{key:"Gray",get:function(){return t.fromRGB(80,80,80)}},{key:"Nephritis",get:function(){return t.fromRGB(39,174,96)}},{key:"Wisteria",get:function(){return t.fromRGB(142,68,173)}},{key:"Amethyst",get:function(){return t.fromRGB(155,89,182)}},{key:"Carrot",get:function(){return t.fromRGB(230,126,34)}},{key:"Pumpkin",get:function(){return t.fromRGB(211,84,0)}},{key:"Orange",get:function(){return t.fromRGB(243,156,18)}},{key:"SunFlower",get:function(){return t.fromRGB(241,196,15)}},{key:"Alizarin",get:function(){return t.fromRGB(231,76,60)}}]),o()(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.a,!1)}},{key:"setSpecial",value:function(t,e,n,r,i){var a=this,o=1;!0===i&&(a=this.toRGBA(),o=255),t=Object(u.h)(t)?t:a.r,e=Object(u.h)(e)?e:a.g,n=Object(u.h)(n)?n:a.b,r=Object(u.h)(r)?r:a.a,this.r=c.a.clamp(t,0,o)/o,this.g=c.a.clamp(e,0,o)/o,this.b=c.a.clamp(n,0,o)/o,this.a=c.a.clamp(r,0,1)}},{key:"set",value:function(t,e,n,r){this.setSpecial(t,e,n,r,!1)}},{key:"setAsRGBA",value:function(t,e,n,r){this.setSpecial(t,e,n,r,!0)}},{key:"equalsIgnoreAlpha",value:function(t){return Object(u.h)(t.r)&&Object(u.h)(t.g)&&Object(u.h)(t.b)?t.r===this.r&&t.g===this.g&&t.b===this.b:null}},{key:"equals",value:function(t){return Object(u.h)(t.a)?this.equalsIgnoreAlpha(t)&&t.a===this.a:null}},{key:"objectify",value:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}}},{key:"toRGBA",value:function(){return{r:255*this.r,g:255*this.g,b:255*this.b,a:this.a}}},{key:"toHex",value:function(){var e=this.toRGBA();return t.rgbToHex(e.r,e.g,e.b)}},{key:"toArray",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toFloat32Array",value:function(){return new Float32Array([this.r,this.g,this.b,this.a])}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t(e.r,e.g,e.b,e.a,!1)}},{key:"fromRGBA",value:function(e,n,r,i){return Object(u.h)(e)&&Object(u.h)(n)&&Object(u.h)(r)&&Object(u.h)(i)?new t(e,n,r,i,!0):null}},{key:"fromHex",value:function(e){if(!Object(u.j)(e))return null;var n=t.hexToRGBA(e);return n?t.fromRGBA(n.r,n.g,n.b,n.a):null}},{key:"fromRGB",value:function(e,n,r){return t.fromRGBA(e,n,r,1)}},{key:"random",value:function(e){return e=Object(u.h)(e)?e:1,t.fromRGBA(255*Math.random(),255*Math.random(),255*Math.random(),e)}},{key:"rgbToHex",value:function(t,e,n){return Object(u.h)(t)&&Object(u.h)(e)&&Object(u.h)(n)?(t=c.a.clamp(t,0,255),e=c.a.clamp(e,0,255),n=c.a.clamp(n,0,255),"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)):""}},{key:"hexToRGBA",value:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d]?)$/i;t=t.replace(e,function(t,e,n,r,i){return e+e+n+n+r+r+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:"undefined"!=n[4]?parseInt(n[4],16)/255:1}:null}}]),t}();e.a=l},function(t,e,n){t.exports={default:n(271),__esModule:!0}},function(t,e,n){var r={};t.exports=r;var i=n(12),a=n(3);!function(){r.create=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],a={x:i.x,y:i.y,index:r,body:e,isInternal:!1};n.push(a)}return n},r.fromPath=function(t,e){var n=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,i=[];return t.replace(n,function(t,e,n){i.push({x:parseFloat(e),y:parseFloat(n)})}),r.create(i,e)},r.centre=function(t){for(var e,n,a,o=r.area(t,!0),s={x:0,y:0},u=0;u<t.length;u++)a=(u+1)%t.length,e=i.cross(t[u],t[a]),n=i.mult(i.add(t[u],t[a]),e),s=i.add(s,n);return i.div(s,6*o)},r.mean=function(t){for(var e={x:0,y:0},n=0;n<t.length;n++)e.x+=t[n].x,e.y+=t[n].y;return i.div(e,t.length)},r.area=function(t,e){for(var n=0,r=t.length-1,i=0;i<t.length;i++)n+=(t[r].x-t[i].x)*(t[r].y+t[i].y),r=i;return e?n/2:Math.abs(n)/2},r.inertia=function(t,e){for(var n,r,a=0,o=0,s=t,u=0;u<s.length;u++)r=(u+1)%s.length,n=Math.abs(i.cross(s[r],s[u])),a+=n*(i.dot(s[r],s[r])+i.dot(s[r],s[u])+i.dot(s[u],s[u])),o+=n;return e/6*(a/o)},r.translate=function(t,e,n){var r;if(n)for(r=0;r<t.length;r++)t[r].x+=e.x*n,t[r].y+=e.y*n;else for(r=0;r<t.length;r++)t[r].x+=e.x,t[r].y+=e.y;return t},r.rotate=function(t,e,n){if(0!==e){for(var r=Math.cos(e),i=Math.sin(e),a=0;a<t.length;a++){var o=t[a],s=o.x-n.x,u=o.y-n.y;o.x=n.x+(s*r-u*i),o.y=n.y+(s*i+u*r)}return t}},r.contains=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=t[(n+1)%t.length];if((e.x-r.x)*(i.y-r.y)+(e.y-r.y)*(r.x-i.x)>0)return!1}return!0},r.scale=function(t,e,n,a){if(1===e&&1===n)return t;a=a||r.centre(t);for(var o,s,u=0;u<t.length;u++)o=t[u],s=i.sub(o,a),t[u].x=a.x+s.x*e,t[u].y=a.y+s.y*n;return t},r.chamfer=function(t,e,n,r,o){e=e||[8],e.length||(e=[e]),n=void 0!==n?n:-1,r=r||2,o=o||14;for(var s=[],u=0;u<t.length;u++){var c=t[u-1>=0?u-1:t.length-1],l=t[u],f=t[(u+1)%t.length],h=e[u<e.length?u:e.length-1];if(0!==h){var d=i.normalise({x:l.y-c.y,y:c.x-l.x}),p=i.normalise({x:f.y-l.y,y:l.x-f.x}),v=Math.sqrt(2*Math.pow(h,2)),m=i.mult(a.clone(d),h),_=i.normalise(i.mult(i.add(d,p),.5)),g=i.sub(l,i.mult(_,v)),y=n;-1===n&&(y=1.75*Math.pow(h,.32)),y=a.clamp(y,r,o),y%2==1&&(y+=1);for(var x=Math.acos(i.dot(d,p)),b=x/y,w=0;w<y;w++)s.push(i.add(i.rotate(m,b*w),g))}else s.push(l)}return s},r.clockwiseSort=function(t){var e=r.mean(t);return t.sort(function(t,n){return i.angle(e,t)-i.angle(e,n)}),t},r.isConvex=function(t){var e,n,r,i,a=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(n=(e+1)%o,r=(e+2)%o,i=(t[n].x-t[e].x)*(t[r].y-t[n].y),i-=(t[n].y-t[e].y)*(t[r].x-t[n].x),i<0?a|=1:i>0&&(a|=2),3===a)return!1;return 0!==a||null},r.hull=function(t){var e,n,r=[],a=[];for(t=t.slice(0),t.sort(function(t,e){var n=t.x-e.x;return 0!==n?n:t.y-e.y}),n=0;n<t.length;n++){for(e=t[n];a.length>=2&&i.cross3(a[a.length-2],a[a.length-1],e)<=0;)a.pop();a.push(e)}for(n=t.length-1;n>=0;n--){for(e=t[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}return r.pop(),a.pop(),r.concat(a)}}()},function(t,e,n){var r={};t.exports=r;var i=n(30),a=n(3),o=n(39);!function(){r.create=function(t){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite"},t)},r.setModified=function(t,e,n,i){if(t.isModified=e,n&&t.parent&&r.setModified(t.parent,e,n,i),i)for(var a=0;a<t.composites.length;a++){var o=t.composites[a];r.setModified(o,e,n,i)}},r.add=function(t,e){var n=[].concat(e);i.trigger(t,"beforeAdd",{object:e});for(var o=0;o<n.length;o++){var s=n[o];switch(s.type){case"body":if(s.parent!==s){a.log("Composite.add: skipped adding a compound body part (you must add its parent instead)","warn");break}r.addBody(t,s);break;case"constraint":r.addConstraint(t,s);break;case"composite":r.addComposite(t,s);break;case"mouseConstraint":r.addConstraint(t,s.constraint)}}return i.trigger(t,"afterAdd",{object:e}),t},r.remove=function(t,e,n){var a=[].concat(e);i.trigger(t,"beforeRemove",{object:e});for(var o=0;o<a.length;o++){var s=a[o];switch(s.type){case"body":r.removeBody(t,s,n);break;case"constraint":r.removeConstraint(t,s,n);break;case"composite":r.removeComposite(t,s,n);break;case"mouseConstraint":r.removeConstraint(t,s.constraint)}}return i.trigger(t,"afterRemove",{object:e}),t},r.addComposite=function(t,e){return t.composites.push(e),e.parent=t,r.setModified(t,!0,!0,!1),t},r.removeComposite=function(t,e,n){var i=a.indexOf(t.composites,e);if(-1!==i&&(r.removeCompositeAt(t,i),r.setModified(t,!0,!0,!1)),n)for(var o=0;o<t.composites.length;o++)r.removeComposite(t.composites[o],e,!0);return t},r.removeCompositeAt=function(t,e){return t.composites.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addBody=function(t,e){return t.bodies.push(e),r.setModified(t,!0,!0,!1),t},r.removeBody=function(t,e,n){var i=a.indexOf(t.bodies,e);if(-1!==i&&(r.removeBodyAt(t,i),r.setModified(t,!0,!0,!1)),n)for(var o=0;o<t.composites.length;o++)r.removeBody(t.composites[o],e,!0);return t},r.removeBodyAt=function(t,e){return t.bodies.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addConstraint=function(t,e){return t.constraints.push(e),r.setModified(t,!0,!0,!1),t},r.removeConstraint=function(t,e,n){var i=a.indexOf(t.constraints,e);if(-1!==i&&r.removeConstraintAt(t,i),n)for(var o=0;o<t.composites.length;o++)r.removeConstraint(t.composites[o],e,!0);return t},r.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),r.setModified(t,!0,!0,!1),t},r.clear=function(t,e,n){if(n)for(var i=0;i<t.composites.length;i++)r.clear(t.composites[i],e,!0);return e?t.bodies=t.bodies.filter(function(t){return t.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,r.setModified(t,!0,!0,!1),t},r.allBodies=function(t){for(var e=[].concat(t.bodies),n=0;n<t.composites.length;n++)e=e.concat(r.allBodies(t.composites[n]));return e},r.allConstraints=function(t){for(var e=[].concat(t.constraints),n=0;n<t.composites.length;n++)e=e.concat(r.allConstraints(t.composites[n]));return e},r.allComposites=function(t){for(var e=[].concat(t.composites),n=0;n<t.composites.length;n++)e=e.concat(r.allComposites(t.composites[n]));return e},r.get=function(t,e,n){var i,a;switch(n){case"body":i=r.allBodies(t);break;case"constraint":i=r.allConstraints(t);break;case"composite":i=r.allComposites(t).concat(t)}return i?(a=i.filter(function(t){return t.id.toString()===e.toString()}),0===a.length?null:a[0]):null},r.move=function(t,e,n){return r.remove(t,e),r.add(n,e),t},r.rebase=function(t){for(var e=r.allBodies(t).concat(r.allConstraints(t)).concat(r.allComposites(t)),n=0;n<e.length;n++)e[n].id=a.nextId();return r.setModified(t,!0,!0,!1),t},r.translate=function(t,e,n){for(var i=n?r.allBodies(t):t.bodies,a=0;a<i.length;a++)o.translate(i[a],e);return r.setModified(t,!0,!0,!1),t},r.rotate=function(t,e,n,i){for(var a=Math.cos(e),s=Math.sin(e),u=i?r.allBodies(t):t.bodies,c=0;c<u.length;c++){var l=u[c],f=l.position.x-n.x,h=l.position.y-n.y;o.setPosition(l,{x:n.x+(f*a-h*s),y:n.y+(f*s+h*a)}),o.rotate(l,e)}return r.setModified(t,!0,!0,!1),t},r.scale=function(t,e,n,i,a){for(var s=a?r.allBodies(t):t.bodies,u=0;u<s.length;u++){var c=s[u],l=c.position.x-i.x,f=c.position.y-i.y;o.setPosition(c,{x:i.x+l*e,y:i.y+f*n}),o.scale(c,e,n)}return r.setModified(t,!0,!0,!1),t}}()},function(t,e,n){var r=n(42);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(15),i=n(52);t.exports=n(14)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(138),u=n(144),c=n(149),l=n(62),f=n(21),h=n(59),d=function(){function t(){i()(this,t)}return o()(t,null,[{key:"isElectron",value:function(){return window&&window.process&&window.process.type}},{key:"isGame",value:function(t){return t instanceof s.a}},{key:"isGameScene",value:function(t){return t instanceof u.a}},{key:"isSprite",value:function(t){return t instanceof c.a}},{key:"isTexture2D",value:function(t){return t instanceof l.a}},{key:"isColor",value:function(t){return t instanceof f.a}},{key:"isFileContext",value:function(t){return t instanceof h.a}}]),t}();e.a=d},function(t,e,n){"use strict";e.__esModule=!0;var r=n(93),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(275),a=r(i),o=n(116),s=r(o),u=n(93),c=r(u);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,c.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(a.default?(0,a.default)(t,e):t.__proto__=e)}},function(t,e,n){var r={};t.exports=r;var i=n(3);!function(){r.on=function(t,e,n){for(var r,i=e.split(" "),a=0;a<i.length;a++)r=i[a],t.events=t.events||{},t.events[r]=t.events[r]||[],t.events[r].push(n);return n},r.off=function(t,e,n){if(!e)return void(t.events={});"function"==typeof e&&(n=e,e=i.keys(t.events).join(" "));for(var r=e.split(" "),a=0;a<r.length;a++){var o=t.events[r[a]],s=[];if(n&&o)for(var u=0;u<o.length;u++)o[u]!==n&&s.push(o[u]);t.events[r[a]]=s}},r.trigger=function(t,e,n){var r,a,o,s;if(t.events){n||(n={}),r=e.split(" ");for(var u=0;u<r.length;u++)if(a=r[u],o=t.events[a]){s=i.clone(n,!1),s.name=a,s.source=t;for(var c=0;c<o.length;c++)o[c].apply(t,[s])}}}}()},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(111),i=n(75);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(19),u=n.n(s),c=n(2),l=u()("attributeDictionarySingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._rules={},this._inheritance={}}return o()(t,[{key:"addRule",value:function(t,e,n){return!!Object(c.i)(t)&&(t=t.toLowerCase(),Object(c.i)(this._rules[t])||(this._rules[t]={}),this._rules[t][e]=n,!0)}},{key:"getRule",value:function(t,e){if(t=t.toLowerCase(),this._rules[t]&&this._rules[t][e])return this._rules[t][e];if(this._inheritance[t])for(var n=0;n<this._inheritance[t].length;++n){var r=this.getRule(this._inheritance[t][n],e);if(null!=r)return r}return null}},{key:"inherit",value:function(t,e){t=t.toLowerCase(),e=e.toLowerCase(),Object(c.i)(this._inheritance[t])||(this._inheritance[t]=[]),this._inheritance[t].push(e)}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(19),u=n.n(s),c=n(2),l=u()("setterDictionarySingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._rules={}}return o()(t,[{key:"addRule",value:function(t,e){return!!Object(c.i)(t)&&(t=t.toLowerCase(),this._rules[t]=e,!0)}},{key:"getRule",value:function(t){if(t=t.toLowerCase(),this._rules[t])return this._rules[t]}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,n){"use strict";var r=n(93),i=n.n(r),a=n(90),o=n.n(a),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(11),h=n(20),d=n(148),p=n(2),v=n(27),m=function(){function t(e,n,r,i){if(u()(this,t),!Object(p.i)(e)||!Object(p.i)(n))throw new Error("Vertex and Fragment scripts are required to create a shader, discarding..");if(!Object(p.i)(f.a.renderContext))throw new Error("The WebGL render context is not yet set, can't create shader.");this.uniforms=r||{},this.attributes=i||{},this._gl=f.a.renderContext.getContext(),this._program=null,this._vertexScript=e,this._fragmentScript=n,this._textureCount=1,this._uid=Object(p.b)(),this._logger=new h.b("Shader"),this.setup()}return l()(t,[{key:"setup",value:function(){if(this.compile()){var t=f.a.activeGame.getShaderManager();t?t.useShader(this):this._gl.useProgram(this._program),this.cacheUniformLocations(o()(this.uniforms)),this.cacheAttributeLocations(o()(this.attributes))}else this._logger.error("Shader setup failed")}},{key:"compile",value:function(){var t=d.a.createProgramFromScripts(this._gl,this._vertexScript,this._fragmentScript);return Object(p.i)(t)?(this._program=t,!0):(t=null,!1)}},{key:"getUID",value:function(){return this._uid}},{key:"cacheUniformLocations",value:function(t){for(var e=0;e<t.length;++e){"object"===i()(this.uniforms[t[e]])?this.uniforms[t[e]]._location=this._gl.getUniformLocation(this._program,t[e]):this._logger.warn("Shader's uniform "+t[e]+" is not an object.")}}},{key:"cacheAttributeLocations",value:function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this._gl.getAttribLocation(this._program,t[e])}},{key:"syncUniforms",value:function(){this._textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])}},{key:"syncUniform",value:function(t){var e=t._location,n=t.value,r=this._gl;switch(t.type){case"b":case"bool":r.uniform1i(e,n?1:0);break;case"i":case"1i":r.uniform1i(e,n);break;case"2i":r.uniform2i(e,n[0],n[1]);break;case"3i":r.uniform3i(e,n[0],n[1],n[2]);break;case"4i":r.uniform4i(e,n[0],n[1],n[2],n[3]);break;case"f":case"1f":r.uniform1f(e,n);break;case"2f":r.uniform2f(e,n[0],n[1]);break;case"3f":r.uniform3f(e,n[0],n[1],n[2]);break;case"4f":r.uniform4f(e,n[0],n[1],n[2],n[3]);break;case"m2":case"mat2":r.uniformMatrix2fv(e,t.transpose,n);break;case"m3":case"mat3":r.uniformMatrix3fv(e,t.transpose,n);break;case"m4":case"mat4":r.uniformMatrix4fv(e,t.transpose,n);break;case"tex":if(!v.a.isTexture2D(t.value)||!t.value.isReady()){this._logger.warn("Could not assign texture uniform because the texture isn't ready.");break}r.activeTexture(r["TEXTURE"+this._textureCount]);var i=t.value.getImageData()._glTextures[r.id];Object(p.i)(i);break;default:this._logger.warn("Unknown uniform type: "+t.type)}}},{key:"getProgram",value:function(){return this._program}},{key:"initSampler2D",value:function(t){if(!v.a.isTexture2D(t.value)||!t.value.isReady())return void this._logger.warn("Could not initialize sampler2D because the texture isn't ready.")}},{key:"unload",value:function(){this._gl.deleteProgram(this._program)}}]),t}();e.a=m},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n.d(e,"a",function(){return A});var r=n(210),i=n.n(r),a=n(84),o=n.n(a),s=n(9),u=n.n(s),c=n(10),l=n.n(c),f=n(231),h=n.n(f),d=n(0),p=n.n(d),v=n(1),m=n.n(v),_=n(19),g=n.n(_),y=n(11),x=n(59),b=n(246),w=n.n(b),k=g()("contentLoaderSingleton"),S=function(){function t(e){if(p()(this,t),k!==e)throw new Error("Cannot instantiate directly.");this._fileLoaded={},this._fileAlias={},this._imgLoaded={},this._imgAlias={},this._audioLoaded={},this._audioAlias={},this._loadingPaths=new h.a,this._loadingAliases=new h.a}return m()(t,[{key:"clear",value:function(){this._imgLoaded={},this._imgAlias={},this._audioLoaded={},this._audioAlias={},this._fileLoaded={},this._fileAlias={}}},{key:"fileExistsAsync",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var n,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._enrichRelativePath(e),t.prev=1,t.next=4,w.a.head(n);case 4:if(r=t.sent,200==r.status){t.next=7;break}throw new Error("Something didn't work as expected with "+r.request.responseURL+" file request.\n"+r.statusText+". Status code: "+r.status);case 7:return t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),console.warn(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}},t,this,[[1,10]])}));return t}()},{key:"isImageAliasCached",value:function(t){return this._imgAlias.hasOwnProperty(t)}},{key:"isFileAliasCached",value:function(t){return this._fileAlias.hasOwnProperty(t)}},{key:"isAudioAliasCached",value:function(t){return this._audioAlias.hasOwnProperty(t)}},{key:"isImageCached",value:function(t){return this._imgLoaded.hasOwnProperty(t)}},{key:"isFileCached",value:function(t){return this._fileLoaded.hasOwnProperty(t)}},{key:"isAudioCached",value:function(t){return this._audioLoaded.hasOwnProperty(t)}},{key:"getImage",value:function(t){if(this.isImageAliasCached(t))return this._imgLoaded[this._imgAlias[t]]}},{key:"getSourcePath",value:function(t){if(this.isImageAliasCached(t))return this._imgAlias[t]}},{key:"getFile",value:function(t){if(this.isFileAliasCached(t))return this._fileLoaded[this._fileAlias[t]]}},{key:"getAudio",value:function(t){if(this.isAudioAliasCached(t))return this._audioLoaded[this._audioAlias[t]]}},{key:"_filterByPathAndAlias",value:function(t){var e=new h.a,n=t.filter(function(t){return"string"==typeof t.path&&"string"==typeof t.alias&&!e.has(t.path)&&!e.has(t.alias)&&(e.add(t.path),e.add(t.alias),!0)});return e.clear(),n}},{key:"_isLoading",value:function(t,e){return this._loadingPaths.has(t)?(console.warn("Already loading "+t+"... Discarding."),!0):!!this._loadingAliases.has(e)&&(console.warn("Alias "+e+" is already in use. Discarding "+t+"."),!0)}},{key:"_setupLoadingQueue",value:function(t){if(!Array.isArray(t))return[];var e=this._filterByPathAndAlias(t);return t.length!=e.length&&console.warn("Some files have been filtered out from loading due to invalid/duplicate paths or aliases."),e}},{key:"loadAll",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var n,r,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},e.images=e.images||[],e.files=e.files||[],e.audios=e.audios||[],n=this.loadAllImages(e.images),r=this.loadAllFiles(e.files),i=this.loadAllAudios(e.audios),t.next=9,o.a.all([n,r,i]);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAllImages",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var n=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._setupLoadingQueue(e),t.next=3,o.a.all(e.map(function(){var t=l()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadImage(e.path,e.alias);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAllFiles",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var n=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._setupLoadingQueue(e),t.next=3,o.a.all(e.map(function(){var t=l()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadFile(e.path,e.alias);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAllAudios",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var n=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._setupLoadingQueue(e),t.next=3,o.a.all(e.map(function(){var t=l()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadAudio(e.path,e.alias);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadImage",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,n){var r,a,o,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._assertPathAliasValidity(e,n),a=i()(r,2),e=a[0],n=a[1],o=this._enrichRelativePath(e),!this.isImageCached(o)){t.next=8;break}return console.warn("Image "+o+" is already in cache. Reusing."),t.abrupt("return",this._imgLoaded[o]);case 8:return t.next=10,this._tryToLoadImage(o,n);case 10:if(null!=(s=t.sent)){t.next=13;break}return t.abrupt("return",!1);case 13:return this._cacheImage(o,n,s),t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAudio",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,n){var r,a,o,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._assertPathAliasValidity(e,n),a=i()(r,2),e=a[0],n=a[1],o=this._enrichRelativePath(e),!this.isAudioCached(o)){t.next=8;break}return console.warn("Audio "+o+" is already in cache. Reusing."),t.abrupt("return",this._audioLoaded[o]);case 8:return t.next=10,this._tryToLoadAudio(o,n);case 10:if(null!=(s=t.sent)){t.next=13;break}return t.abrupt("return",!1);case 13:return this._cacheAudio(o,n,s),t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadFile",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,n){var r,a,o,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._assertPathAliasValidity(e,n),a=i()(r,2),e=a[0],n=a[1],o=this._enrichRelativePath(e),!this.isFileCached(o)){t.next=8;break}return console.warn("File "+o+" is already in cache. Reusing."),t.abrupt("return",this._fileLoaded[o]);case 8:return t.next=10,this._tryToLoadFile(o,n);case 10:if(null!=(s=t.sent)){t.next=13;break}return t.abrupt("return",!1);case 13:return this._cacheFile(o,n,s),t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"_enrichRelativePath",value:function(t){return y.a.activeProjectPath&&t.indexOf(y.a.activeProjectPath)<0&&(t=y.a.activeProjectPath+t),t}},{key:"_assertPathAliasValidity",value:function(t,e){var n="string"!=typeof t?"":t;return[n,"string"!=typeof e?n:e]}},{key:"_cacheImage",value:function(t,e,n){this._imgLoaded[t]=n,this._imgAlias[e]=t}},{key:"_cacheAudio",value:function(t,e,n){this._audioLoaded[t]=n,this._audioAlias[e]=t}},{key:"_cacheFile",value:function(t,e,n){this._fileLoaded[t]=n,this._fileAlias[e]=t}},{key:"_tryToLoadImage",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._isLoading(e,n)||this.isImageAliasCached(n)||this.isImageCached(e))){t.next=2;break}return t.abrupt("return",null);case 2:return this._loadingPaths.add(e),this._loadingAliases.add(n),t.prev=4,t.next=7,this._loadImage(e);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.error(t.t0.name,t.t0.message),t.abrupt("return",null);case 14:return t.prev=14,this._loadingPaths.delete(e),this._loadingAliases.delete(n),t.finish(14);case 18:case"end":return t.stop()}},t,this,[[4,10,14,18]])}));return t}()},{key:"_tryToLoadAudio",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._isLoading(e,n)||this.isAudioAliasCached(n)||this.isAudioCached(e))){t.next=2;break}return t.abrupt("return",null);case 2:return this._loadingPaths.add(e),this._loadingAliases.add(n),t.prev=4,t.next=7,this._loadAudio(e);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.error(t.t0),t.abrupt("return",null);case 14:return t.prev=14,this._loadingPaths.delete(e),this._loadingAliases.delete(n),t.finish(14);case 18:case"end":return t.stop()}},t,this,[[4,10,14,18]])}));return t}()},{key:"_tryToLoadFile",value:function(){function t(t,n){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._isLoading(e,n)||this.isFileAliasCached(n)||this.isFileCached(e))){t.next=2;break}return t.abrupt("return",null);case 2:return this._loadingPaths.add(e),this._loadingAliases.add(n),t.prev=4,t.next=7,this._loadFile(e);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.error(t.t0),t.abrupt("return",null);case 14:return t.prev=14,this._loadingPaths.delete(e),this._loadingAliases.delete(n),t.finish(14);case 18:case"end":return t.stop()}},t,this,[[4,10,14,18]])}));return t}()},{key:"_loadImage",value:function(t){return new o.a(function(e,n){var r=new Image;r.src=t,r.onload=function(){return e(r)},r.onerror=function(){return n(new Error("Image is not defined. Unable to load it."))}})}},{key:"_loadFile",value:function(t){return new o.a(function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var i=x.a.fromXHR(r,t);e(i)}else 4===r.readyState&&200!=r.status&&n(new Error("Could not load file."))},r.send(null)})}},{key:"_loadAudio",value:function(t){return new o.a(function(e,n){var r=new Audio;r.src=t,r.oncanplaythrough=function(){return e(r)},r.onerror=function(){return n(new Error("Audio is not defined. Unable to load it."))}})}}],[{key:"instance",get:function(){return this[k]||(this[k]=new t(k)),this[k]}}]),t}(),A=S.instance},function(t,e){t.exports={}},function(t,e,n){var r={};t.exports=r;var i=n(23),a=n(12),o=n(40),s=(n(63),n(3)),u=n(13),c=n(67);!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(e){var n={id:s.nextId(),type:"body",label:"Body",parts:[],angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:1.5}},r=s.extend(n,e);return t(r,e),r},r.nextGroup=function(t){return t?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var t=function(t,e){r.set(t,{bounds:t.bounds||u.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),i.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),u.update(t.bounds,t.vertices,t.velocity),r.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var n=t.isStatic?"#eeeeee":s.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"]),o=s.shadeColor(n,-20);t.render.fillStyle=t.render.fillStyle||n,t.render.strokeStyle=t.render.strokeStyle||o,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};r.set=function(t,e,n){var i;"string"==typeof e&&(i=e,e={},e[i]=n);for(i in e)if(n=e[i],e.hasOwnProperty(i))switch(i){case"isStatic":r.setStatic(t,n);break;case"isSleeping":o.set(t,n);break;case"mass":r.setMass(t,n);break;case"density":r.setDensity(t,n);break;case"inertia":r.setInertia(t,n);break;case"vertices":r.setVertices(t,n);break;case"position":r.setPosition(t,n);break;case"angle":r.setAngle(t,n);break;case"velocity":r.setVelocity(t,n);break;case"angularVelocity":r.setAngularVelocity(t,n);break;case"parts":r.setParts(t,n);break;default:t[i]=n}},r.setStatic=function(t,e){for(var n=0;n<t.parts.length;n++){var r=t.parts[n];r.isStatic=e,e&&(r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0)}},r.setMass=function(t,e){t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},r.setDensity=function(t,e){r.setMass(t,e*t.area),t.density=e},r.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},r.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=i.create(e,t),t.axes=c.fromVertices(t.vertices),t.area=i.area(t.vertices),r.setMass(t,t.density*t.area);var n=i.centre(t.vertices);i.translate(t.vertices,n,-1),r.setInertia(t,r._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),u.update(t.bounds,t.vertices,t.velocity)},r.setParts=function(t,n,a){var o;for(n=n.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,o=0;o<n.length;o++){var s=n[o];s!==t&&(s.parent=t,t.parts.push(s))}if(1!==t.parts.length){if(a=void 0===a||a){var u=[];for(o=0;o<n.length;o++)u=u.concat(n[o].vertices);i.clockwiseSort(u);var c=i.hull(u),l=i.centre(c);r.setVertices(t,c),i.translate(t.vertices,l)}var f=e(t);t.area=f.area,t.parent=t,t.position.x=f.centre.x,t.position.y=f.centre.y,t.positionPrev.x=f.centre.x,t.positionPrev.y=f.centre.y,r.setMass(t,f.mass),r.setInertia(t,f.inertia),r.setPosition(t,f.centre)}},r.setPosition=function(t,e){var n=a.sub(e,t.position);t.positionPrev.x+=n.x,t.positionPrev.y+=n.y;for(var r=0;r<t.parts.length;r++){var o=t.parts[r];o.position.x+=n.x,o.position.y+=n.y,i.translate(o.vertices,n),u.update(o.bounds,o.vertices,t.velocity)}},r.setAngle=function(t,e){var n=e-t.angle;t.anglePrev+=n;for(var r=0;r<t.parts.length;r++){var o=t.parts[r];o.angle+=n,i.rotate(o.vertices,n,t.position),c.rotate(o.axes,n),u.update(o.bounds,o.vertices,t.velocity),r>0&&a.rotateAbout(o.position,n,t.position,o.position)}},r.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=a.magnitude(t.velocity)},r.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},r.translate=function(t,e){r.setPosition(t,a.add(t.position,e))},r.rotate=function(t,e){r.setAngle(t,t.angle+e)},r.scale=function(t,n,a,o){for(var s=0;s<t.parts.length;s++){var l=t.parts[s];i.scale(l.vertices,n,a,t.position),l.axes=c.fromVertices(l.vertices),t.isStatic||(l.area=i.area(l.vertices),r.setMass(l,t.density*l.area),i.translate(l.vertices,{x:-l.position.x,y:-l.position.y}),r.setInertia(l,i.inertia(l.vertices,l.mass)),i.translate(l.vertices,{x:l.position.x,y:l.position.y})),u.update(l.bounds,l.vertices,t.velocity)}if(t.circleRadius&&(n===a?t.circleRadius*=n:t.circleRadius=null),!t.isStatic){var f=e(t);t.area=f.area,r.setMass(t,f.mass),r.setInertia(t,f.inertia)}},r.update=function(t,e,n,r){var o=Math.pow(e*n*t.timeScale,2),s=1-t.frictionAir*n*t.timeScale,l=t.position.x-t.positionPrev.x,f=t.position.y-t.positionPrev.y;t.velocity.x=l*s*r+t.force.x/t.mass*o,t.velocity.y=f*s*r+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*s*r+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=a.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var h=0;h<t.parts.length;h++){var d=t.parts[h];i.translate(d.vertices,t.velocity),h>0&&(d.position.x+=t.velocity.x,d.position.y+=t.velocity.y),0!==t.angularVelocity&&(i.rotate(d.vertices,t.angularVelocity,t.position),c.rotate(d.axes,t.angularVelocity),h>0&&a.rotateAbout(d.position,t.angularVelocity,t.position,d.position)),u.update(d.bounds,d.vertices,t.velocity)}},r.applyForce=function(t,e,n){t.force.x+=n.x,t.force.y+=n.y;var r={x:e.x-t.position.x,y:e.y-t.position.y};t.torque+=r.x*n.y-r.y*n.x};var e=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===t.parts.length?0:1;n<t.parts.length;n++){var r=t.parts[n];e.mass+=r.mass,e.area+=r.area,e.inertia+=r.inertia,e.centre=a.add(e.centre,a.mult(r.position,r.mass!==1/0?r.mass:1))}return e.centre=a.div(e.centre,e.mass!==1/0?e.mass:t.parts.length),e}}()},function(t,e,n){var r={};t.exports=r;var i=n(30);!function(){r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(t,e){for(var n=e*e*e,i=0;i<t.length;i++){var a=t[i],o=a.speed*a.speed+a.angularSpeed*a.angularSpeed;if(0===a.force.x&&0===a.force.y){var s=Math.min(a.motion,o),u=Math.max(a.motion,o);a.motion=r._minBias*s+(1-r._minBias)*u,a.sleepThreshold>0&&a.motion<r._motionSleepThreshold*n?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold&&r.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}else r.set(a,!1)}},r.afterCollisions=function(t,e){for(var n=e*e*e,i=0;i<t.length;i++){var a=t[i];if(a.isActive){var o=a.collision,s=o.bodyA.parent,u=o.bodyB.parent;if(!(s.isSleeping&&u.isSleeping||s.isStatic||u.isStatic)&&(s.isSleeping||u.isSleeping)){var c=s.isSleeping&&!s.isStatic?s:u,l=c===s?u:s;!c.isStatic&&l.motion>r._motionWakeThreshold*n&&r.set(c,!1)}}}},r.set=function(t,e){var n=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,n||i.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,n&&i.trigger(t,"sleepEnd"))}}()},function(t,e,n){var r={};t.exports=r;var i=n(23),a=n(12),o=n(40),s=n(13),u=n(67),c=n(3);!function(){r.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var n=e.bodyA?a.add(e.bodyA.position,e.pointA):e.pointA,r=e.bodyB?a.add(e.bodyB.position,e.pointB):e.pointB,i=a.magnitude(a.sub(n,r));e.length=e.length||i||1e-6;var o={visible:!0,lineWidth:2,strokeStyle:"#666"};return e.render=c.extend(o,e.render),e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||1,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e},r.solveAll=function(t,e){for(var n=0;n<t.length;n++)r.solve(t[n],e)},r.solve=function(t,e){var n=t.bodyA,r=t.bodyB,i=t.pointA,o=t.pointB;n&&!n.isStatic&&(t.pointA=a.rotate(i,n.angle-t.angleA),t.angleA=n.angle),r&&!r.isStatic&&(t.pointB=a.rotate(o,r.angle-t.angleB),t.angleB=r.angle);var s=i,u=o;if(n&&(s=a.add(n.position,i)),r&&(u=a.add(r.position,o)),s&&u){var c=a.sub(s,u),l=a.magnitude(c);0===l&&(l=1e-6);var f=(l-t.length)/l,h=a.div(c,l),d=a.mult(c,.5*f*t.stiffness*e*e);if(!(Math.abs(1-l/t.length)<.001*e)){var p,v,m,_,g,y,x,b;n&&!n.isStatic?(m={x:s.x-n.position.x+d.x,y:s.y-n.position.y+d.y},n.velocity.x=n.position.x-n.positionPrev.x,n.velocity.y=n.position.y-n.positionPrev.y,n.angularVelocity=n.angle-n.anglePrev,p=a.add(n.velocity,a.mult(a.perp(m),n.angularVelocity)),g=a.dot(m,h),x=n.inverseMass+n.inverseInertia*g*g):(p={x:0,y:0},x=n?n.inverseMass:0),r&&!r.isStatic?(_={x:u.x-r.position.x-d.x,y:u.y-r.position.y-d.y},r.velocity.x=r.position.x-r.positionPrev.x,r.velocity.y=r.position.y-r.positionPrev.y,r.angularVelocity=r.angle-r.anglePrev,v=a.add(r.velocity,a.mult(a.perp(_),r.angularVelocity)),y=a.dot(_,h),b=r.inverseMass+r.inverseInertia*y*y):(v={x:0,y:0},b=r?r.inverseMass:0);var w=a.sub(v,p),k=a.dot(h,w)/(x+b);k>0&&(k=0);var S,A={x:h.x*k,y:h.y*k};n&&!n.isStatic&&(S=a.cross(m,A)*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.x-=d.x,n.constraintImpulse.y-=d.y,n.constraintImpulse.angle+=S,n.position.x-=d.x,n.position.y-=d.y,n.angle+=S),r&&!r.isStatic&&(S=a.cross(_,A)*r.inverseInertia*(1-t.angularStiffness),r.constraintImpulse.x+=d.x,r.constraintImpulse.y+=d.y,r.constraintImpulse.angle-=S,r.position.x+=d.x,r.position.y+=d.y,r.angle-=S)}}},r.postSolveAll=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.constraintImpulse;if(0!==r.x||0!==r.y||0!==r.angle){o.set(n,!1);for(var c=0;c<n.parts.length;c++){var l=n.parts[c];i.translate(l.vertices,r),c>0&&(l.position.x+=r.x,l.position.y+=r.y),0!==r.angle&&(i.rotate(l.vertices,r.angle,n.position),u.rotate(l.axes,r.angle),c>0&&a.rotateAbout(l.position,r.angle,n.position,l.position)),s.update(l.bounds,l.vertices,n.velocity)}r.angle=0,r.x=0,r.y=0}}}}()},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(15).f,i=n(31),a=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={WEBGL:"webgl",EXECUTION_PHASES:{WAITING:0,UPDATE:10,SCENE_UPDATE:11,LATE_UPDATE:12,RENDER:13,SCENE_RENDER:14,LATE_RENDER:15},CONTENT_EXTENSIONS:{ATLAS:".atl"},EVENTS:{CONTENT_ASSET_LOADED:"editor_updatePropertyEditorView",INPUT:{GAMEPAD_CONNECTED:"input_gamepadConnected",GAMEPAD_DISCONNECTED:"input_gamepadDisconnected"}}}},function(t,e,n){n(213);for(var r=n(6),i=n(26),a=n(38),o=n(5)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},function(t,e,n){"use strict";var r=n(216)(!0);n(83)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(25),i=n(222),a=n(223),o=n(16),s=n(76),u=n(125),c={},l={},e=t.exports=function(t,e,n,f,h){var d,p,v,m,_=h?function(){return t}:u(t),g=r(n,f,e?2:1),y=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(a(_)){for(d=s(t.length);d>y;y++)if((m=e?g(o(p=t[y])[0],p[1]):g(t[y]))===c||m===l)return m}else for(v=_.call(t);!(p=v.next()).done;)if((m=i(v,g,p.value,e))===c||m===l)return m};e.BREAK=c,e.RETURN=l},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator__=__webpack_require__(124),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass__),__WEBPACK_IMPORTED_MODULE_7_common_logger__=__webpack_require__(20),__WEBPACK_IMPORTED_MODULE_8_common_utils__=__webpack_require__(2),Objectify=function(){function Objectify(){__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck___default()(this,Objectify)}return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass___default()(Objectify,null,[{key:"array",value:function(t){var e=[];return t.forEach(function(t){if(Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.g)(t.objectify))try{var n=Objectify.create(t);n&&e.push(n)}catch(t){Objectify._logger.error("Failed to objectify element: "+t)}}),e}},{key:"restoreArray",value:function(){function t(t){return e.apply(this,arguments)}var e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.mark(function t(e){var n,r,i,a,o,s,u,c;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=!0,i=!1,a=void 0,t.prev=4,o=__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator___default()(e);case 6:if(r=(s=o.next()).done){t.next=16;break}if(u=s.value,!u._otype){t.next=13;break}return t.next=11,Objectify.restore(u,u._otype);case 11:c=t.sent,n.push(c);case 13:r=!0,t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),i=!0,a=t.t0;case 22:t.prev=22,t.prev=23,!r&&o.return&&o.return();case 25:if(t.prev=25,!i){t.next=28;break}throw a;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return t.abrupt("return",n);case 31:case"end":return t.stop()}},t,this,[[4,18,22,30],[23,,25,29]])}));return t}()},{key:"createDataString",value:function(t,e){return e?__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(Objectify.create(t),null,4):__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(Objectify.create(t))}},{key:"hasObjectify",value:function(t){return Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.i)(t)&&Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.g)(t.objectify)}},{key:"create",value:function(t){var e=Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.c)(t),n=void 0;return n=Objectify.hasObjectify(t)?t.objectify():JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t)),n._otype=e,n}},{key:"restore",value:function(){function restore(t,e){return _ref2.apply(this,arguments)}var _ref2=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.mark(function _callee2(data,typeName){var type;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_context2.prev=0,type=Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.i)(typeName)?typeName:data._otype,!(type=eval(type))||!type.restore){_context2.next=7;break}return _context2.next=6,type.restore(data);case 6:return _context2.abrupt("return",_context2.sent);case 7:_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(0),Objectify._logger.error("Failed to restore element: "+_context2.t0);case 12:case"end":return _context2.stop()}},_callee2,this,[[0,9]])}));return restore}()},{key:"restoreFromString",value:function(t,e){return Objectify.restore(JSON.parse(t),e)}},{key:"extend",value:function(t,e){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(e).forEach(function(n){t[n]=e[n]}),t}}]),Objectify}();__webpack_exports__.a=Objectify,Objectify._logger=new __WEBPACK_IMPORTED_MODULE_7_common_logger__.b("Objectify")},function(t,e,n){var r=t.exports={};r.version="master",r.Body=n(39),r.Composite=n(24),r.World=n(102),r.Contact=n(101),r.Detector=n(65),r.Grid=n(64),r.Pairs=n(103),r.Pair=n(51),r.Query=n(167),r.Resolver=n(104),r.SAT=n(66),r.Constraint=n(41),r.MouseConstraint=n(168),r.Common=n(3),r.Engine=n(106),r.Events=n(30),r.Mouse=n(105),r.Runner=n(169),r.Sleeping=n(40),r.Metrics=n(107),r.Bodies=n(68),r.Composites=n(170),r.Axes=n(67),r.Bounds=n(13),r.Svg=n(171),r.Vector=n(12),r.Vertices=n(23),r.Render=n(63),r.RenderPixi=n(172),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,r.Engine.run=r.Runner.run},function(t,e,n){var r={};t.exports=r;var i=n(101);!function(){r.create=function(t,e){var n=t.bodyA,i=t.bodyB,a=t.parentA,o=t.parentB,s={id:r.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:e,timeUpdated:e,inverseMass:a.inverseMass+o.inverseMass,friction:Math.min(a.friction,o.friction),frictionStatic:Math.max(a.frictionStatic,o.frictionStatic),restitution:Math.max(a.restitution,o.restitution),slop:Math.max(a.slop,o.slop)};return r.update(s,t,e),s},r.update=function(t,e,n){var a=t.contacts,o=e.supports,s=t.activeContacts,u=e.parentA,c=e.parentB;if(t.collision=e,t.inverseMass=u.inverseMass+c.inverseMass,t.friction=Math.min(u.friction,c.friction),t.frictionStatic=Math.max(u.frictionStatic,c.frictionStatic),t.restitution=Math.max(u.restitution,c.restitution),t.slop=Math.max(u.slop,c.slop),s.length=0,e.collided){for(var l=0;l<o.length;l++){var f=o[l],h=i.id(f),d=a[h];d?s.push(d):s.push(a[h]=i.create(f))}t.separation=e.depth,r.setActive(t,!0,n)}else!0===t.isActive&&r.setActive(t,!1,n)},r.setActive=function(t,e,n){e?(t.isActive=!0,t.timeUpdated=n):(t.isActive=!1,t.activeContacts.length=0)},r.id=function(t,e){return t.id<e.id?t.id+"_"+e.id:e.id+"_"+t.id}}()},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!0},function(t,e,n){var r=n(110),i=n(79);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(16),i=n(179),a=n(79),o=n(78)("IE_PROTO"),s=function(){},u=function(){var t,e=n(69)("iframe"),r=a.length;for(e.style.display="none",n(114).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[a[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(75);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(44),i=n(5)("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),i))?n:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e,n,r){i()(this,t),this.headers=e,this.content=n,this.filepath=r}return o()(t,null,[{key:"fromXHR",value:function(e,n){var r={};return e.getAllResponseHeaders().split("\r\n").forEach(function(t){var e=t.indexOf(":");if(-1!==e){var n=t.slice(0,e).toLowerCase().trim(),i=t.slice(e+1).trim();r[n]=i}}),new t(r,e.responseText,n)}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(){i()(this,t)}return o()(t,null,[{key:"PI",get:function(){return Math.PI}},{key:"PI2",get:function(){return 2*t.PI}},{key:"PI4",get:function(){return 4*t.PI}},{key:"PIo2",get:function(){return t.PI/2}},{key:"PIo4",get:function(){return t.PI/4}}]),o()(t,null,[{key:"clamp",value:function(t,e,n){return t<e?e:t>n?n:t}},{key:"degToRad",value:function(t){return.0174532925*t}},{key:"radToDeg",value:function(t){return 57.295779513*t}},{key:"normalize",value:function(t,e,n,r,i){var a=t,o=e,s=n,u=r,c=i,l=s-o;return 0===l?(console.error("Division by 0 not allowed. Returning 0."),0):(a-o)/l*(c-u)+u}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(11),h=n(95),d=n(92),p=n(18),v=n(150),m=n(96),_=n(49),g=n(33),y=n(2);g.a.addRule("gameobject","transform",{ownContainer:!0}),g.a.addRule("gameobject","_parent",{visible:!1});var x=function(){function t(e){u()(this,t),e=e||{},this.name=e.name||"GameObject",this.enabled=!0,e.transform&&(e.transform.gameObject=this),this.transform=e.transform||new h.a({gameObject:this}),this._uid=Object(y.b)(),this._parent=e.parent||null,this._children=e.children||[],this._components=e.components||[],this._transformMatrix=new d.a}return l()(t,[{key:"equals",value:function(t){return t.getUID?this._uid===t.getUID():this===t}},{key:"getBaseWidth",value:function(){return 1}},{key:"getBaseHeight",value:function(){return 1}},{key:"getIndex",value:function(){return Object(y.i)(this._parent)?Object(y.d)(this._parent.getChildren(),this):Object(y.d)(f.a.activeScene.getGameObjects(),this)}},{key:"getType",value:function(){return"GameObject"}},{key:"getUID",value:function(){return this._uid}},{key:"propagatePropertyUpdate",value:function(t,e){for(var n=0;n<this._components.length;++n)this._components[n]["onGameObject"+t+"Updated"]&&this._components[n]["onGameObject"+t+"Updated"](e)}},{key:"getMatrix",value:function(){return this._transformMatrix.identity(),this._transformMatrix.translate([this.transform.getPosition().x,this.transform.getPosition().y,0]),this._transformMatrix.asArray()}},{key:"getParent",value:function(){return this._parent}},{key:"removeParent",value:function(){this._parent?this._parent.removeChild(this):f.a.activeScene.removeGameObject(this),this._parent=null}},{key:"setParent",value:function(t){t?(null!==this.getParent()?this.getParent().removeChild(this):f.a.activeScene&&f.a.activeScene.removeGameObject(this),t.addChild(this)):f.a.activeScene&&f.a.activeScene.addGameObject(this)}},{key:"removeChild",value:function(t){for(var e=this._children.length-1;e>=0;e--)if(this._children[e].getUID()===t.getUID())return this._children.splice(e,1)}},{key:"getChildren",value:function(){return this._children}},{key:"addChild",value:function(t,e){t.removeParent(),t._parent=this,Object(y.i)(e)?this._children.splice(e,0,t):this._children.push(t)}},{key:"getHierarchyHash",value:function(){return this._parent?this._parent.getHierarchyHash()+"."+this._uid:this._uid+""}},{key:"isChild",value:function(t){var e=t.getHierarchyHash().split("."),n=e.indexOf(this._uid+"");return e.indexOf(t.getUID()+"")>n&&n>=0}},{key:"addComponent",value:function(t){Object(y.g)(t.setGameObject)&&t.setGameObject(this),t.gameObject=this,t.transform=this.transform,this._components.push(t)}},{key:"update",value:function(t){this.enabled&&(this._children.forEach(function(e){e.update&&e.update(t)}),this._components.forEach(function(e){e.update&&e.update(t)}))}},{key:"render",value:function(t,e){this.enabled&&(this._children.forEach(function(n){n.render&&n.render(t,e)}),this._components.forEach(function(n){n.render&&n.render(t,e)}))}},{key:"getComponents",value:function(){return this._components}},{key:"getBoundary",value:function(t){var e=this.getMatrix(),n=new v.a(p.a.transformMat4(new p.a(0,0),e),p.a.transformMat4(new p.a(1,0),e),p.a.transformMat4(new p.a(1,1),e),p.a.transformMat4(new p.a(0,1),e));return t&&(n.topLeft.x-=t,n.topLeft.y-=t,n.topRight.x+=t,n.topRight.y-=t,n.bottomRight.x+=t,n.bottomRight.y+=t,n.bottomLeft.x-=t,n.bottomLeft.y+=t),n}},{key:"getRectangleBoundary",value:function(t){var e=this.getBoundary(t),n=Math.min(e.topLeft.x,e.topRight.x,e.bottomLeft.x,e.bottomRight.x),r=Math.max(e.topLeft.x,e.topRight.x,e.bottomLeft.x,e.bottomRight.x),i=Math.min(e.topLeft.y,e.topRight.y,e.bottomLeft.y,e.bottomRight.y),a=Math.max(e.topLeft.y,e.topRight.y,e.bottomLeft.y,e.bottomRight.y);return new m.a(n,i,r-n,a-i)}},{key:"collidesWith",value:function(t,e,n){return this.getBoundary(e).overlapsWith(t.getBoundary(n))}},{key:"collidesWithPoint",value:function(t,e){var n=this.getBoundary(e),r=new v.a(new p.a(t.x,t.y),new p.a(t.x+1,t.y),new p.a(t.x+1,t.y+1),new p.a(t.x,t.y+1));return v.a.overlap(n,r)}},{key:"objectify",value:function(){return{name:this.name,transform:this.transform.objectify(),children:_.a.array(this._children),components:_.a.array(this._components)}}},{key:"unload",value:function(){for(var t=0;t<this._components.length;++t)Object(y.g)(this._components[t].unload)&&this._components[t].unload()}}],[{key:"restore",value:function(){function e(t){return n.apply(this,arguments)}var n=o()(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=n.name,e.t2=h.a.restore(n.transform),e.next=5,_.a.restoreArray(n.children);case 5:return e.t3=e.sent,e.next=8,_.a.restoreArray(n.components);case 8:return e.t4=e.sent,e.t5={name:e.t1,transform:e.t2,children:e.t3,components:e.t4},e.abrupt("return",new e.t0(e.t5));case 11:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=x},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(37),h=n(11),d=n(2),p=function(){function t(e){if(u()(this,t),!Object(d.i)(e))throw new Error("Cannot create Texture2D without an image source");this._uid=Object(d.b)(),this._source=e,this._texture=null,this._textureSrc=e.src,this._gl=h.a.renderContext.getContext(),this._texture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._texture),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._gl.UNSIGNED_BYTE,this._source),this._hasLoaded=!0}return l()(t,[{key:"getUID",value:function(){return this._uid}},{key:"bind",value:function(){this._gl.bindTexture(this._gl.TEXTURE_2D,this._texture)}},{key:"setImageData",value:function(t){this._source=t,this._textureSrc=t.src}},{key:"getImageData",value:function(){return this._source}},{key:"getTextureSrc",value:function(){return this._textureSrc}},{key:"getWidth",value:function(){return this._source.width}},{key:"getHeight",value:function(){return this._source.height}},{key:"getTexture",value:function(){return this._texture}},{key:"isReady",value:function(){return this._hasLoaded}},{key:"unload",value:function(){}}],[{key:"fromPath",value:function(){function e(t){return n.apply(this,arguments)}var n=o()(i.a.mark(function e(n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.loadImage(n);case 2:if(!1!==(r=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new t(r));case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=p},function(t,e,n){var r={};t.exports=r;var i=n(3),a=n(24),o=n(13),s=n(30),u=n(64),c=n(12);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(i.now())},1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(t){var e={controller:r,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#fafafa",wireframeBackground:"#222",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},a=i.extend(e,t);return a.canvas&&(a.canvas.width=a.options.width||a.canvas.width,a.canvas.height=a.options.height||a.canvas.height),a.mouse=t.mouse,a.engine=t.engine,a.canvas=a.canvas||n(a.options.width,a.options.height),a.context=a.canvas.getContext("2d"),a.textures={},a.bounds=a.bounds||{min:{x:0,y:0},max:{x:a.canvas.width,y:a.canvas.height}},1!==a.options.pixelRatio&&r.setPixelRatio(a,a.options.pixelRatio),i.isElement(a.element)?a.element.appendChild(a.canvas):i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),a},r.run=function(e){!function n(i){e.frameRequestId=t(n),r.world(e)}()},r.stop=function(t){e(t.frameRequestId)},r.setPixelRatio=function(t,e){var n=t.options,r=t.canvas;"auto"===e&&(e=l(r)),n.pixelRatio=e,r.setAttribute("data-pixel-ratio",e),r.width=n.width*e,r.height=n.height*e,r.style.width=n.width+"px",r.style.height=n.height+"px",t.context.scale(e,e)},r.world=function(t){var e,n=t.engine,i=n.world,l=t.canvas,f=t.context,d=t.options,p=a.allBodies(i),v=a.allConstraints(i),m=d.wireframes?d.wireframeBackground:d.background,_=[],g=[],y={timestamp:n.timing.timestamp};if(s.trigger(t,"beforeRender",y),t.currentBackground!==m&&h(t,m),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,l.width,l.height),f.globalCompositeOperation="source-over",d.hasBounds){var x=t.bounds.max.x-t.bounds.min.x,b=t.bounds.max.y-t.bounds.min.y,w=x/d.width,k=b/d.height;for(e=0;e<p.length;e++){var S=p[e];o.overlaps(S.bounds,t.bounds)&&_.push(S)}for(e=0;e<v.length;e++){var A=v[e],C=A.bodyA,E=A.bodyB,P=A.pointA,T=A.pointB;C&&(P=c.add(C.position,A.pointA)),E&&(T=c.add(E.position,A.pointB)),P&&T&&((o.contains(t.bounds,P)||o.contains(t.bounds,T))&&g.push(A))}f.scale(1/w,1/k),f.translate(-t.bounds.min.x,-t.bounds.min.y)}else g=v,_=p;!d.wireframes||n.enableSleeping&&d.showSleeping?r.bodies(t,_,f):(d.showConvexHulls&&r.bodyConvexHulls(t,_,f),r.bodyWireframes(t,_,f)),d.showBounds&&r.bodyBounds(t,_,f),(d.showAxes||d.showAngleIndicator)&&r.bodyAxes(t,_,f),d.showPositions&&r.bodyPositions(t,_,f),d.showVelocity&&r.bodyVelocity(t,_,f),d.showIds&&r.bodyIds(t,_,f),d.showSeparations&&r.separations(t,n.pairs.list,f),d.showCollisions&&r.collisions(t,n.pairs.list,f),d.showVertexNumbers&&r.vertexNumbers(t,_,f),d.showMousePosition&&r.mousePosition(t,t.mouse,f),r.constraints(g,f),d.showBroadphase&&n.broadphase.controller===u&&r.grid(t,n.broadphase,f),d.showDebug&&r.debug(t,f),d.hasBounds&&f.setTransform(d.pixelRatio,0,0,d.pixelRatio,0,0),s.trigger(t,"afterRender",y)},r.debug=function(t,e){var n=e,r=t.engine,i=r.world,o=r.metrics,s=t.options,c=a.allBodies(i);if(r.timing.timestamp-(t.debugTimestamp||0)>=500){var l="";o.timing&&(l+="fps: "+Math.round(o.timing.fps)+"    "),o.extended&&(o.timing&&(l+="delta: "+o.timing.delta.toFixed(3)+"    ",l+="correction: "+o.timing.correction.toFixed(3)+"    "),l+="bodies: "+c.length+"    ",r.broadphase.controller===u&&(l+="buckets: "+o.buckets+"    "),l+="\n",l+="collisions: "+o.collisions+"    ",l+="pairs: "+r.pairs.list.length+"    ",l+="broad: "+o.broadEff+"    ",l+="mid: "+o.midEff+"    ",l+="narrow: "+o.narrowEff+"    "),t.debugString=l,t.debugTimestamp=r.timing.timestamp}if(t.debugString){n.font="12px Arial",s.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var f=t.debugString.split("\n"),h=0;h<f.length;h++)n.fillText(f[h],50,50+18*h)}},r.constraints=function(t,e){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(i.render.visible&&i.pointA&&i.pointB){var a=i.bodyA,o=i.bodyB;a?(n.beginPath(),n.moveTo(a.position.x+i.pointA.x,a.position.y+i.pointA.y)):(n.beginPath(),n.moveTo(i.pointA.x,i.pointA.y)),o?n.lineTo(o.position.x+i.pointB.x,o.position.y+i.pointB.y):n.lineTo(i.pointB.x,i.pointB.y),n.lineWidth=i.render.lineWidth,n.strokeStyle=i.render.strokeStyle,n.stroke()}}},r.bodyShadows=function(t,e,n){for(var r=n,i=(t.engine,0);i<e.length;i++){var a=e[i];if(a.render.visible){if(a.circleRadius)r.beginPath(),r.arc(a.position.x,a.position.y,a.circleRadius,0,2*Math.PI),r.closePath();else{r.beginPath(),r.moveTo(a.vertices[0].x,a.vertices[0].y);for(var o=1;o<a.vertices.length;o++)r.lineTo(a.vertices[o].x,a.vertices[o].y);r.closePath()}var s=a.position.x-.5*t.options.width,u=a.position.y-.2*t.options.height,c=Math.abs(s)+Math.abs(u);r.shadowColor="rgba(0,0,0,0.15)",r.shadowOffsetX=.05*s,r.shadowOffsetY=.05*u,r.shadowBlur=1+12*Math.min(1,c/1e3),r.fill(),r.shadowColor=null,r.shadowOffsetX=null,r.shadowOffsetY=null,r.shadowBlur=null}}},r.bodies=function(t,e,n){var r,i,a,o,s=n,u=(t.engine,t.options),c=u.showInternalEdges||!u.wireframes;for(a=0;a<e.length;a++)if(r=e[a],r.render.visible)for(o=r.parts.length>1?1:0;o<r.parts.length;o++)if(i=r.parts[o],i.render.visible){if(u.showSleeping&&r.isSleeping?s.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(s.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!u.wireframes){var l=i.render.sprite,h=f(t,l.texture);s.translate(i.position.x,i.position.y),s.rotate(i.angle),s.drawImage(h,h.width*-l.xOffset*l.xScale,h.height*-l.yOffset*l.yScale,h.width*l.xScale,h.height*l.yScale),s.rotate(-i.angle),s.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)s.beginPath(),s.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(i.vertices[0].x,i.vertices[0].y);for(var d=1;d<i.vertices.length;d++)!i.vertices[d-1].isInternal||c?s.lineTo(i.vertices[d].x,i.vertices[d].y):s.moveTo(i.vertices[d].x,i.vertices[d].y),i.vertices[d].isInternal&&!c&&s.moveTo(i.vertices[(d+1)%i.vertices.length].x,i.vertices[(d+1)%i.vertices.length].y);s.lineTo(i.vertices[0].x,i.vertices[0].y),s.closePath()}u.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb"):(s.fillStyle=i.render.fillStyle,s.lineWidth=i.render.lineWidth,s.strokeStyle=i.render.strokeStyle,s.fill()),s.stroke()}s.globalAlpha=1}},r.bodyWireframes=function(t,e,n){var r,i,a,o,s,u=n,c=t.options.showInternalEdges;for(u.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.render.visible)for(s=r.parts.length>1?1:0;s<r.parts.length;s++){for(i=r.parts[s],u.moveTo(i.vertices[0].x,i.vertices[0].y),o=1;o<i.vertices.length;o++)!i.vertices[o-1].isInternal||c?u.lineTo(i.vertices[o].x,i.vertices[o].y):u.moveTo(i.vertices[o].x,i.vertices[o].y),i.vertices[o].isInternal&&!c&&u.moveTo(i.vertices[(o+1)%i.vertices.length].x,i.vertices[(o+1)%i.vertices.length].y);u.lineTo(i.vertices[0].x,i.vertices[0].y)}u.lineWidth=1,u.strokeStyle="#bbb",u.stroke()},r.bodyConvexHulls=function(t,e,n){var r,i,a,o=n;for(o.beginPath(),i=0;i<e.length;i++)if(r=e[i],r.render.visible&&1!==r.parts.length){for(o.moveTo(r.vertices[0].x,r.vertices[0].y),a=1;a<r.vertices.length;a++)o.lineTo(r.vertices[a].x,r.vertices[a].y);o.lineTo(r.vertices[0].x,r.vertices[0].y)}o.lineWidth=1,o.strokeStyle="rgba(255,255,255,0.2)",o.stroke()},r.vertexNumbers=function(t,e,n){var r,i,a,o=n;for(r=0;r<e.length;r++){var s=e[r].parts;for(a=s.length>1?1:0;a<s.length;a++){var u=s[a];for(i=0;i<u.vertices.length;i++)o.fillStyle="rgba(255,255,255,0.2)",o.fillText(r+"_"+i,u.position.x+.8*(u.vertices[i].x-u.position.x),u.position.y+.8*(u.vertices[i].y-u.position.y))}}},r.mousePosition=function(t,e,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},r.bodyBounds=function(t,e,n){var r=n,i=(t.engine,t.options);r.beginPath();for(var a=0;a<e.length;a++){if(e[a].render.visible)for(var o=e[a].parts,s=o.length>1?1:0;s<o.length;s++){var u=o[s];r.rect(u.bounds.min.x,u.bounds.min.y,u.bounds.max.x-u.bounds.min.x,u.bounds.max.y-u.bounds.min.y)}}i.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(t,e,n){var r,i,a,o,s=n,u=(t.engine,t.options);for(s.beginPath(),i=0;i<e.length;i++){var c=e[i],l=c.parts;if(c.render.visible)if(u.showAxes)for(a=l.length>1?1:0;a<l.length;a++)for(r=l[a],o=0;o<r.axes.length;o++){var f=r.axes[o];s.moveTo(r.position.x,r.position.y),s.lineTo(r.position.x+20*f.x,r.position.y+20*f.y)}else for(a=l.length>1?1:0;a<l.length;a++)for(r=l[a],o=0;o<r.axes.length;o++)s.moveTo(r.position.x,r.position.y),s.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}u.wireframes?s.strokeStyle="indianred":(s.strokeStyle="rgba(0,0,0,0.8)",s.globalCompositeOperation="overlay"),s.lineWidth=1,s.stroke(),s.globalCompositeOperation="source-over"},r.bodyPositions=function(t,e,n){var r,i,a,o,s=n,u=(t.engine,t.options);for(s.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.render.visible)for(o=0;o<r.parts.length;o++)i=r.parts[o],s.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),s.closePath();for(u.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),a=0;a<e.length;a++)r=e[a],r.render.visible&&(s.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},r.bodyVelocity=function(t,e,n){var r=n;r.beginPath();for(var i=0;i<e.length;i++){var a=e[i];a.render.visible&&(r.moveTo(a.position.x,a.position.y),r.lineTo(a.position.x+2*(a.position.x-a.positionPrev.x),a.position.y+2*(a.position.y-a.positionPrev.y)))}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(t,e,n){var r,i,a=n;for(r=0;r<e.length;r++)if(e[r].render.visible){var o=e[r].parts;for(i=o.length>1?1:0;i<o.length;i++){var s=o[i];a.font="12px Arial",a.fillStyle="rgba(255,255,255,0.5)",a.fillText(s.id,s.position.x+10,s.position.y-10)}}},r.collisions=function(t,e,n){var r,i,a,o,s=n,u=t.options;for(s.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.isActive)for(i=r.collision,o=0;o<r.activeContacts.length;o++){var c=r.activeContacts[o],l=c.vertex;s.rect(l.x-1.5,l.y-1.5,3.5,3.5)}for(u.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.isActive&&(i=r.collision,r.activeContacts.length>0)){var f=r.activeContacts[0].vertex.x,h=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(f=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,h=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?s.moveTo(f-8*i.normal.x,h-8*i.normal.y):s.moveTo(f+8*i.normal.x,h+8*i.normal.y),s.lineTo(f,h)}u.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},r.separations=function(t,e,n){var r,i,a,o,s,u=n,c=t.options;for(u.beginPath(),s=0;s<e.length;s++)if(r=e[s],r.isActive){i=r.collision,a=i.bodyA,o=i.bodyB;var l=1;o.isStatic||a.isStatic||(l=.5),o.isStatic&&(l=0),u.moveTo(o.position.x,o.position.y),u.lineTo(o.position.x-i.penetration.x*l,o.position.y-i.penetration.y*l),l=1,o.isStatic||a.isStatic||(l=.5),a.isStatic&&(l=0),u.moveTo(a.position.x,a.position.y),u.lineTo(a.position.x+i.penetration.x*l,a.position.y+i.penetration.y*l)}c.wireframes?u.strokeStyle="rgba(255,165,0,0.5)":u.strokeStyle="orange",u.stroke()},r.grid=function(t,e,n){var r=n;t.options.wireframes?r.strokeStyle="rgba(255,180,0,0.1)":r.strokeStyle="rgba(255,180,0,0.5)",r.beginPath();for(var a=i.keys(e.buckets),o=0;o<a.length;o++){var s=a[o];if(!(e.buckets[s].length<2)){var u=s.split(",");r.rect(.5+parseInt(u[0],10)*e.bucketWidth,.5+parseInt(u[1],10)*e.bucketHeight,e.bucketWidth,e.bucketHeight)}}r.lineWidth=1,r.stroke()},r.inspector=function(t,e){var n,r=(t.engine,t.selected),i=t.render,a=i.options;if(a.hasBounds){var o=i.bounds.max.x-i.bounds.min.x,s=i.bounds.max.y-i.bounds.min.y,u=o/i.options.width,c=s/i.options.height;e.scale(1/u,1/c),e.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var l=0;l<r.length;l++){var f=r[l].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),f.type){case"body":n=f.bounds,e.beginPath(),e.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var h=f.pointA;f.bodyA&&(h=f.pointB),e.beginPath(),e.arc(h.x,h.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",n=t.selectBounds,e.beginPath(),e.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),a.hasBounds&&e.setTransform(1,0,0,1,0,0)};var n=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},l=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},f=function(t,e){var n=t.textures[e];return n||(n=t.textures[e]=new Image,n.src=e,n)},h=function(t,e){var n=e;/(jpg|gif|png)$/.test(e)&&(n="url("+e+")"),t.canvas.style.background=n,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e,n){var r={};t.exports=r;var i=n(51),a=n(65),o=n(3);!function(){r.create=function(t){var e={controller:r,detector:a.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(e,t)},r.update=function(n,r,i,a){var o,h,d,p,v,m=i.world,_=n.buckets,g=!1,y=i.metrics;for(y.broadphaseTests=0,o=0;o<r.length;o++){var x=r[o];if((!x.isSleeping||a)&&!(x.bounds.max.x<m.bounds.min.x||x.bounds.min.x>m.bounds.max.x||x.bounds.max.y<m.bounds.min.y||x.bounds.min.y>m.bounds.max.y)){var b=e(n,x);if(!x.region||b.id!==x.region.id||a){y.broadphaseTests+=1,x.region&&!a||(x.region=b);var w=t(b,x.region);for(h=w.startCol;h<=w.endCol;h++)for(d=w.startRow;d<=w.endRow;d++){v=s(h,d),p=_[v];var k=h>=b.startCol&&h<=b.endCol&&d>=b.startRow&&d<=b.endRow,S=h>=x.region.startCol&&h<=x.region.endCol&&d>=x.region.startRow&&d<=x.region.endRow;!k&&S&&S&&p&&l(n,p,x),(x.region===b||k&&!S||a)&&(p||(p=u(_,v)),c(n,p,x))}x.region=b,g=!0}}}g&&(n.pairsList=f(n))},r.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]};var t=function(t,e){var r=Math.min(t.startCol,e.startCol),i=Math.max(t.endCol,e.endCol),a=Math.min(t.startRow,e.startRow),o=Math.max(t.endRow,e.endRow);return n(r,i,a,o)},e=function(t,e){var r=e.bounds,i=Math.floor(r.min.x/t.bucketWidth),a=Math.floor(r.max.x/t.bucketWidth),o=Math.floor(r.min.y/t.bucketHeight),s=Math.floor(r.max.y/t.bucketHeight);return n(i,a,o,s)},n=function(t,e,n,r){return{id:t+","+e+","+n+","+r,startCol:t,endCol:e,startRow:n,endRow:r}},s=function(t,e){return t+","+e},u=function(t,e){return t[e]=[]},c=function(t,e,n){for(var r=0;r<e.length;r++){var a=e[r];if(!(n.id===a.id||n.isStatic&&a.isStatic)){var o=i.id(n,a),s=t.pairs[o];s?s[2]+=1:t.pairs[o]=[n,a,1]}}e.push(n)},l=function(t,e,n){e.splice(o.indexOf(e,n),1);for(var r=0;r<e.length;r++){var a=e[r],s=i.id(n,a),u=t.pairs[s];u&&(u[2]-=1)}},f=function(t){var e,n,r=[];e=o.keys(t.pairs);for(var i=0;i<e.length;i++)n=t.pairs[e[i]],n[2]>0?r.push(n):delete t.pairs[e[i]];return r}}()},function(t,e,n){var r={};t.exports=r;var i=n(66),a=n(51),o=n(13);!function(){r.collisions=function(t,e){for(var n=[],s=e.pairs.table,u=e.metrics,c=0;c<t.length;c++){var l=t[c][0],f=t[c][1];if((!l.isStatic&&!l.isSleeping||!f.isStatic&&!f.isSleeping)&&(r.canCollide(l.collisionFilter,f.collisionFilter)&&(u.midphaseTests+=1,o.overlaps(l.bounds,f.bounds))))for(var h=l.parts.length>1?1:0;h<l.parts.length;h++)for(var d=l.parts[h],p=f.parts.length>1?1:0;p<f.parts.length;p++){var v=f.parts[p];if(d===l&&v===f||o.overlaps(d.bounds,v.bounds)){var m,_=a.id(d,v),g=s[_];m=g&&g.isActive?g.collision:null;var y=i.collides(d,v,m);u.narrowphaseTests+=1,y.reused&&(u.narrowReuseCount+=1),y.collided&&(n.push(y),u.narrowDetections+=1)}}}return n},r.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)}}()},function(t,e,n){var r={};t.exports=r;var i=n(23),a=n(12);!function(){r.collides=function(e,r,o){var s,u,c,l,f=o,h=!1;if(f){var d=e.parent,p=r.parent,v=d.speed*d.speed+d.angularSpeed*d.angularSpeed+p.speed*p.speed+p.angularSpeed*p.angularSpeed;h=f&&f.collided&&v<.2,l=f}else l={collided:!1,bodyA:e,bodyB:r};if(f&&h){var m=l.axisBody,_=m===e?r:e,g=[m.axes[f.axisNumber]];if(c=t(m.vertices,_.vertices,g),l.reused=!0,c.overlap<=0)return l.collided=!1,l}else{if(s=t(e.vertices,r.vertices,e.axes),s.overlap<=0)return l.collided=!1,l;if(u=t(r.vertices,e.vertices,r.axes),u.overlap<=0)return l.collided=!1,l;s.overlap<u.overlap?(c=s,l.axisBody=e):(c=u,l.axisBody=r),l.axisNumber=c.axisNumber}l.bodyA=e.id<r.id?e:r,l.bodyB=e.id<r.id?r:e,l.collided=!0,l.normal=c.axis,l.depth=c.overlap,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent,e=l.bodyA,r=l.bodyB,a.dot(l.normal,a.sub(r.position,e.position))>0&&(l.normal=a.neg(l.normal)),l.tangent=a.perp(l.normal),l.penetration={x:l.normal.x*l.depth,y:l.normal.y*l.depth};var y=n(e,r,l.normal),x=l.supports||[];if(x.length=0,i.contains(e.vertices,y[0])&&x.push(y[0]),i.contains(e.vertices,y[1])&&x.push(y[1]),x.length<2){var b=n(r,e,a.neg(l.normal));i.contains(r.vertices,b[0])&&x.push(b[0]),x.length<2&&i.contains(r.vertices,b[1])&&x.push(b[1])}return x.length<1&&(x=[y[0]]),l.supports=x,l};var t=function(t,n,r){for(var i,o,s=a._temp[0],u=a._temp[1],c={overlap:Number.MAX_VALUE},l=0;l<r.length;l++){if(o=r[l],e(s,t,o),e(u,n,o),(i=Math.min(s.max-u.min,u.max-s.min))<=0)return c.overlap=i,c;i<c.overlap&&(c.overlap=i,c.axis=o,c.axisNumber=l)}return c},e=function(t,e,n){for(var r=a.dot(e[0],n),i=r,o=1;o<e.length;o+=1){var s=a.dot(e[o],n);s>i?i=s:s<r&&(r=s)}t.min=r,t.max=i},n=function(t,e,n){for(var r,i,o,s,u=Number.MAX_VALUE,c=a._temp[0],l=e.vertices,f=t.position,h=0;h<l.length;h++)i=l[h],c.x=i.x-f.x,c.y=i.y-f.y,(r=-a.dot(n,c))<u&&(u=r,o=i);return i=l[o.index-1>=0?o.index-1:l.length-1],c.x=i.x-f.x,c.y=i.y-f.y,u=-a.dot(n,c),s=i,i=l[(o.index+1)%l.length],c.x=i.x-f.x,c.y=i.y-f.y,r=-a.dot(n,c),r<u&&(s=i),[o,s]}}()},function(t,e,n){var r={};t.exports=r;var i=n(12),a=n(3);!function(){r.fromVertices=function(t){for(var e={},n=0;n<t.length;n++){var r=(n+1)%t.length,o=i.normalise({x:t[r].y-t[n].y,y:t[n].x-t[r].x}),s=0===o.y?1/0:o.x/o.y;s=s.toFixed(3).toString(),e[s]=o}return a.values(e)},r.rotate=function(t,e){if(0!==e)for(var n=Math.cos(e),r=Math.sin(e),i=0;i<t.length;i++){var a,o=t[i];a=o.x*n-o.y*r,o.y=o.x*r+o.y*n,o.x=a}}}()},function(t,e,n){var r={};t.exports=r;var i=n(23),a=n(3),o=n(39),s=n(13),u=n(12);!function(){r.rectangle=function(t,e,n,r,s){s=s||{};var u={label:"Rectangle Body",position:{x:t,y:e},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(s.chamfer){var c=s.chamfer;u.vertices=i.chamfer(u.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete s.chamfer}return o.create(a.extend({},u,s))},r.trapezoid=function(t,e,n,r,s,u){u=u||{},s*=.5;var c,l=(1-2*s)*n,f=n*s,h=f+l,d=h+f;c=s<.5?"L 0 0 L "+f+" "+-r+" L "+h+" "+-r+" L "+d+" 0":"L 0 0 L "+h+" "+-r+" L "+d+" 0";var p={label:"Trapezoid Body",position:{x:t,y:e},vertices:i.fromPath(c)};if(u.chamfer){var v=u.chamfer;p.vertices=i.chamfer(p.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete u.chamfer}return o.create(a.extend({},p,u))},r.circle=function(t,e,n,i,o){i=i||{};var s={label:"Circle Body",circleRadius:n};o=o||25;var u=Math.ceil(Math.max(10,Math.min(o,n)));return u%2==1&&(u+=1),r.polygon(t,e,u,n,a.extend({},s,i))},r.polygon=function(t,e,n,s,u){if(u=u||{},n<3)return r.circle(t,e,s,u);for(var c=2*Math.PI/n,l="",f=.5*c,h=0;h<n;h+=1){var d=f+h*c,p=Math.cos(d)*s,v=Math.sin(d)*s;l+="L "+p.toFixed(3)+" "+v.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:t,y:e},vertices:i.fromPath(l)};if(u.chamfer){var _=u.chamfer;m.vertices=i.chamfer(m.vertices,_.radius,_.quality,_.qualityMin,_.qualityMax),delete u.chamfer}return o.create(a.extend({},m,u))},r.fromVertices=function(t,e,n,r,c,l,f){var h,d,p,v,m,_,g,y,x;for(r=r||{},d=[],c=void 0!==c&&c,l=void 0!==l?l:.01,f=void 0!==f?f:10,window.decomp||a.log("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.","warn"),a.isArray(n[0])||(n=[n]),y=0;y<n.length;y+=1)if(v=n[y],(p=i.isConvex(v))||!window.decomp)v=p?i.clockwiseSort(v):i.hull(v),d.push({position:{x:t,y:e},vertices:v});else{var b=new decomp.Polygon;for(m=0;m<v.length;m++)b.vertices.push([v[m].x,v[m].y]);b.makeCCW(),!1!==l&&b.removeCollinearPoints(l);var w=b.quickDecomp();for(m=0;m<w.length;m++){var k=w[m],S=[];for(_=0;_<k.vertices.length;_++)S.push({x:k.vertices[_][0],y:k.vertices[_][1]});f>0&&i.area(S)<f||d.push({position:i.centre(S),vertices:S})}}for(m=0;m<d.length;m++)d[m]=o.create(a.extend(d[m],r));if(c){for(m=0;m<d.length;m++){var A=d[m];for(_=m+1;_<d.length;_++){var C=d[_];if(s.overlaps(A.bounds,C.bounds)){var E=A.vertices,P=C.vertices;for(g=0;g<A.vertices.length;g++)for(x=0;x<C.vertices.length;x++){var T=u.magnitudeSquared(u.sub(E[(g+1)%E.length],P[x])),D=u.magnitudeSquared(u.sub(E[g],P[(x+1)%P.length]));T<5&&D<5&&(E[g].isInternal=!0,P[x].isInternal=!0)}}}}}return d.length>1?(h=o.create(a.extend({parts:d.slice(0)},r)),o.setPosition(h,{x:t,y:e}),h):d[0]}}()},function(t,e,n){var r=n(17),i=n(6).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(17);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(53)("meta"),i=n(17),a=n(31),o=n(15).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(36)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},h=function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&p.NEED&&u(t)&&!a(t,r)&&l(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:d}},function(t,e,n){var r=n(6),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(6),i=n(4),a=n(54),o=n(73),s=n(15).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(77),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(72)("keys"),i=n(53);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(80),i=n(52),a=n(32),o=n(70),s=n(31),u=n(108),c=Object.getOwnPropertyDescriptor;e.f=n(14)?c:function(t,e){if(t=a(t),e=o(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){"use strict";var r=n(54),i=n(7),a=n(109),o=n(26),s=n(31),u=n(38),c=n(215),l=n(43),f=n(123),h=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,v,m,_,g){c(n,e,v);var y,x,b,w=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",S="values"==m,A=!1,C=t.prototype,E=C[h]||C["@@iterator"]||m&&C[m],P=E||w(m),T=m?S?w("entries"):P:void 0,D="Array"==e?C.entries||E:E;if(D&&(b=f(D.call(new t)))!==Object.prototype&&b.next&&(l(b,k,!0),r||s(b,h)||o(b,h,p)),S&&E&&"values"!==E.name&&(A=!0,P=function(){return E.call(this)}),r&&!g||!d&&!A&&C[h]||o(C,h,P),u[e]=P,u[k]=p,m)if(y={values:S?P:w("values"),keys:_?P:w("keys"),entries:T},g)for(x in y)x in C||a(C,x,y[x]);else i(i.P+i.F*(d||A),e,y);return y}},function(t,e,n){t.exports={default:n(220),__esModule:!0}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(42);t.exports.f=function(t){return new r(t)}},function(t,e,n){var r=n(26);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";(function(e){function r(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i=n(8),a=n(250),o={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(134):void 0!==e&&(t=n(134)),t}(),transformRequest:[function(t,e){return a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){s.headers[t]={}}),i.forEach(["post","put","patch"],function(t){s.headers[t]=i.merge(o)}),t.exports=s}).call(e,n(133))},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(19),u=n.n(s),c=u()("eventManagerSingleton"),l=function(){function t(e){if(i()(this,t),c!==e)throw new Error("Cannot instantiate directly.");this._handlers={}}return o()(t,[{key:"subscribe",value:function(t,e,n){this._handlers.hasOwnProperty(t)||(this._handlers[t]=[]),this._handlers[t].push({callback:e,context:n})}},{key:"removeSubscription",value:function(t,e){if(this._handlers[t]){for(var n=this._handlers[t].length-1;n>=0;n--)this._handlers[t][n].callback==e&&this._handlers[t].splice(n,1);0==this._handlers[t].length&&delete this._handlers[t]}}},{key:"emit",value:function(t){var e=[],n=void 0;if(arguments.length>1)for(n=1;n<arguments.length;n++)e.push(arguments[n]);if(this._handlers.hasOwnProperty(t))for(n=this._handlers[t].length-1;n>=0;n--)this._handlers[t][n].callback?this._handlers[t][n].callback.apply(this._handlers[t][n].context,e):this._handlers[t].splice(n,1)}},{key:"clear",value:function(){this._handlers={}}}],[{key:"instance",get:function(){return this[c]||(this[c]=new t(c)),this[c]}}]),t}(),f=l.instance},function(t,e,n){t.exports={default:n(267),__esModule:!0}},function(t,e,n){var r=n(7),i=n(4),a=n(36);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),(e instanceof Array||e instanceof Float32Array)&&16===e.length?this._matrix=new Float32Array(e):this._matrix=new Float32Array(16)}return o()(t,[{key:"copy",value:function(e){e instanceof t&&e.setFromArray(this.asArray())}},{key:"setFromArray",value:function(t){(t instanceof Array||t instanceof Float32Array)&&16===t.length&&(this._matrix=new Float32Array(t))}},{key:"clone",value:function(){return new t(this._matrix.asArray())}},{key:"asArray",value:function(){return this._matrix}},{key:"invert",value:function(){var t=this._matrix[10]*this._matrix[15],e=this._matrix[14]*this._matrix[11],n=this._matrix[6]*this._matrix[15],r=this._matrix[14]*this._matrix[7],i=this._matrix[6]*this._matrix[11],a=this._matrix[10]*this._matrix[7],o=this._matrix[2]*this._matrix[15],s=this._matrix[14]*this._matrix[3],u=this._matrix[2]*this._matrix[11],c=this._matrix[10]*this._matrix[3],l=this._matrix[2]*this._matrix[7],f=this._matrix[6]*this._matrix[3],h=this._matrix[8]*this._matrix[13],d=this._matrix[12]*this._matrix[9],p=this._matrix[4]*this._matrix[13],v=this._matrix[12]*this._matrix[5],m=this._matrix[4]*this._matrix[9],_=this._matrix[8]*this._matrix[5],g=this._matrix[0]*this._matrix[13],y=this._matrix[12]*this._matrix[1],x=this._matrix[0]*this._matrix[9],b=this._matrix[8]*this._matrix[1],w=this._matrix[0]*this._matrix[5],k=this._matrix[4]*this._matrix[1],S=t*this._matrix[5]+r*this._matrix[9]+i*this._matrix[13]-(e*this._matrix[5]+n*this._matrix[9]+a*this._matrix[13]),A=e*this._matrix[1]+o*this._matrix[9]+c*this._matrix[13]-(t*this._matrix[1]+s*this._matrix[9]+u*this._matrix[13]),C=n*this._matrix[1]+s*this._matrix[5]+l*this._matrix[13]-(r*this._matrix[1]+o*this._matrix[5]+f*this._matrix[13]),E=a*this._matrix[1]+u*this._matrix[5]+f*this._matrix[9]-(i*this._matrix[1]+c*this._matrix[5]+l*this._matrix[9]),P=1/(this._matrix[0]*S+this._matrix[4]*A+this._matrix[8]*C+this._matrix[12]*E),T=new Float32Array(16);return T[0]=P*S,T[1]=P*A,T[2]=P*C,T[3]=P*E,T[4]=P*(e*this._matrix[4]+n*this._matrix[8]+a*this._matrix[12]-(t*this._matrix[4]+r*this._matrix[8]+i*this._matrix[12])),T[5]=P*(t*this._matrix[0]+s*this._matrix[8]+u*this._matrix[12]-(e*this._matrix[0]+o*this._matrix[8]+c*this._matrix[12])),T[6]=P*(r*this._matrix[0]+o*this._matrix[4]+f*this._matrix[12]-(n*this._matrix[0]+s*this._matrix[4]+l*this._matrix[12])),T[7]=P*(i*this._matrix[0]+c*this._matrix[4]+l*this._matrix[8]-(a*this._matrix[0]+u*this._matrix[4]+f*this._matrix[8])),T[8]=P*(h*this._matrix[7]+v*this._matrix[11]+m*this._matrix[15]-(d*this._matrix[7]+p*this._matrix[11]+_*this._matrix[15])),T[9]=P*(d*this._matrix[3]+g*this._matrix[11]+b*this._matrix[15]-(h*this._matrix[3]+y*this._matrix[11]+x*this._matrix[15])),T[10]=P*(p*this._matrix[3]+y*this._matrix[7]+w*this._matrix[15]-(v*this._matrix[3]+g*this._matrix[7]+k*this._matrix[15])),T[11]=P*(_*this._matrix[3]+x*this._matrix[7]+k*this._matrix[11]-(m*this._matrix[3]+b*this._matrix[7]+w*this._matrix[11])),T[12]=P*(p*this._matrix[10]+_*this._matrix[14]+d*this._matrix[6]-(m*this._matrix[14]+h*this._matrix[6]+v*this._matrix[10])),T[13]=P*(x*this._matrix[14]+h*this._matrix[2]+y*this._matrix[10]-(g*this._matrix[10]+b*this._matrix[14]+d*this._matrix[2])),T[14]=P*(g*this._matrix[6]+k*this._matrix[14]+v*this._matrix[2]-(w*this._matrix[14]+p*this._matrix[2]+y*this._matrix[6])),T[15]=P*(w*this._matrix[10]+m*this._matrix[2]+b*this._matrix[6]-(x*this._matrix[6]+k*this._matrix[10]+_*this._matrix[2])),this._matrix=T,this._matrix}},{key:"multiply",value:function(t){var e=this._matrix[0],n=this._matrix[1],r=this._matrix[2],i=this._matrix[3],a=this._matrix[4],o=this._matrix[5],s=this._matrix[6],u=this._matrix[7],c=this._matrix[8],l=this._matrix[9],f=this._matrix[10],h=this._matrix[11],d=this._matrix[12],p=this._matrix[13],v=this._matrix[14],m=this._matrix[15],_=t[0],g=t[1],y=t[2],x=t[3],b=t[4],w=t[5],k=t[6],S=t[7],A=t[8],C=t[9],E=t[10],P=t[11],T=t[12],D=t[13],O=t[14],R=t[15];return this._matrix[0]=e*_+a*g+c*y+d*x,this._matrix[1]=n*_+o*g+l*y+p*x,this._matrix[2]=r*_+s*g+f*y+v*x,this._matrix[3]=i*_+u*g+h*y+m*x,this._matrix[4]=e*b+a*w+c*k+d*S,this._matrix[5]=n*b+o*w+l*k+p*S,this._matrix[6]=r*b+s*w+f*k+v*S,this._matrix[7]=i*b+u*w+h*k+m*S,this._matrix[8]=e*A+a*C+c*E+d*P,this._matrix[9]=n*A+o*C+l*E+p*P,this._matrix[10]=r*A+s*C+f*E+v*P,this._matrix[11]=i*A+u*C+h*E+m*P,this._matrix[12]=e*T+a*D+c*O+d*R,this._matrix[13]=n*T+o*D+l*O+p*R,this._matrix[14]=r*T+s*D+f*O+v*R,this._matrix[15]=i*T+u*D+h*O+m*R,this._matrix}},{key:"identity",value:function(){return this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=0,this._matrix[5]=1,this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=0,this._matrix[9]=0,this._matrix[10]=1,this._matrix[11]=0,this._matrix[12]=0,this._matrix[13]=0,this._matrix[14]=0,this._matrix[15]=1,this._matrix}},{key:"orthographic",value:function(t,e,n,r,i,a){return this._matrix[0]=2/(e-t),this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=0,this._matrix[5]=2/(r-n),this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=0,this._matrix[9]=0,this._matrix[10]=1/(i-a),this._matrix[11]=0,this._matrix[12]=(t+e)/(t-e),this._matrix[13]=(n+r)/(n-r),this._matrix[14]=i/(i-a),this._matrix[15]=1,this._matrix}},{key:"rotate",value:function(t,e){var n=t[0],r=t[1],i=t[2],a=Math.sqrt(n*n+r*r+i*i);n/=a,r/=a,i/=a;var o=n*n,s=r*r,u=i*i,c=Math.cos(e),l=Math.sin(e),f=1-c,h=o+(1-o)*c,d=n*r*f+i*l,p=n*i*f-r*l,v=n*r*f-i*l,m=s+(1-s)*c,_=r*i*f+n*l,g=n*i*f+r*l,y=r*i*f-n*l,x=u+(1-u)*c,b=this._matrix[0],w=this._matrix[1],k=this._matrix[2],S=this._matrix[3],A=this._matrix[4],C=this._matrix[5],E=this._matrix[6],P=this._matrix[7],T=this._matrix[8],D=this._matrix[9],O=this._matrix[10],R=this._matrix[11];return this._matrix[0]=h*b+d*A+p*T,this._matrix[1]=h*w+d*C+p*D,this._matrix[2]=h*k+d*E+p*O,this._matrix[3]=h*S+d*P+p*R,this._matrix[4]=v*b+m*A+_*T,this._matrix[5]=v*w+m*C+_*D,this._matrix[6]=v*k+m*E+_*O,this._matrix[7]=v*S+m*P+_*R,this._matrix[8]=g*b+y*A+x*T,this._matrix[9]=g*w+y*C+x*D,this._matrix[10]=g*k+y*E+x*O,this._matrix[11]=g*S+y*P+x*R,this._matrix}},{key:"scale",value:function(t){var e=t[0],n=t[1],r=t[2];return this._matrix[0]=e*this._matrix[0],this._matrix[1]=e*this._matrix[1],this._matrix[2]=e*this._matrix[2],this._matrix[3]=e*this._matrix[3],this._matrix[4]=n*this._matrix[4],this._matrix[5]=n*this._matrix[5],this._matrix[6]=n*this._matrix[6],this._matrix[7]=n*this._matrix[7],this._matrix[8]=r*this._matrix[8],this._matrix[9]=r*this._matrix[9],this._matrix[10]=r*this._matrix[10],this._matrix[11]=r*this._matrix[11],this._matrix}},{key:"translate",value:function(t){var e=this._matrix[0],n=this._matrix[1],r=this._matrix[2],i=this._matrix[3],a=this._matrix[4],o=this._matrix[5],s=this._matrix[6],u=this._matrix[7],c=this._matrix[8],l=this._matrix[9],f=this._matrix[10],h=this._matrix[11],d=this._matrix[12],p=this._matrix[13],v=this._matrix[14],m=this._matrix[15],_=t[0],g=t[1],y=t[2];return this._matrix[12]=e*_+a*g+c*y+d,this._matrix[13]=n*_+o*g+l*y+p,this._matrix[14]=r*_+s*g+f*y+v,this._matrix[15]=i*_+u*g+h*y+m,this._matrix}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(273),a=r(i),o=n(19),s=r(o),u="function"==typeof s.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(a.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(22),a=r(i),o=n(279),s=r(o);e.default=function t(e,n,r){null===e&&(e=Function.prototype);var i=(0,s.default)(e,n);if(void 0===i){var o=(0,a.default)(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var u=i.get;if(void 0!==u)return u.call(r)}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(33),u=n(2),c=n(18);s.a.addRule("transform","gameObject",{visible:!1});var l=function(){function t(e){i()(this,t),e=e||{},this.gameObject=e.gameObject||null,this._position=e.position||new c.a,this._rotation=e.rotation||0,this._scale=e.scale||new c.a(1,1),this._overridePositionFunction=null,this._overrideRotationFunction=null,this._overrideScaleFunction=null}return o()(t,[{key:"clearPositionGetter",value:function(){this._overridePositionFunction=null}},{key:"clearRotationGetter",value:function(){this._overrideRotationFunction=null}},{key:"clearScaleGetter",value:function(){this._overrideScaleFunction=null}},{key:"overridePositionGetter",value:function(t){this._overridePositionFunction=t}},{key:"overrideScaleGetter",value:function(t){this._overrideScaleFunction=t}},{key:"overrideRotationGetter",value:function(t){this._overrideRotationFunction=t}},{key:"lookAt",value:function(t){var e=this.getPosition().subtract(t).normalize();this.setRotation(Math.atan2(e.y,e.x))}},{key:"setPosition",value:function(t,e){this._position.set(t,e),this.gameObject.propagatePropertyUpdate("Position",this._position)}},{key:"getPosition",value:function(){return Object(u.g)(this._overridePositionFunction)?this._overridePositionFunction():this._position}},{key:"translate",value:function(t,e){var n=this.getPosition();this.setPosition(n.x+(t||0),n.y+(e||0))}},{key:"rotate",value:function(t){this.setRotation(this.getRotation()+(t||0))}},{key:"scale",value:function(t,e){var n=this.getScale();this.setPosition(n.x+(t||0),n.y+(e||0))}},{key:"setRotation",value:function(t){this._rotation=t,this.gameObject.propagatePropertyUpdate("Rotation",this._rotation)}},{key:"getRotation",value:function(){return Object(u.g)(this._overrideRotationFunction)?this._overrideRotationFunction():this._rotation}},{key:"setScale",value:function(t,e){this._scale.set(t,e||t),this.gameObject.propagatePropertyUpdate("Scale",this._scale)}},{key:"getScale",value:function(){return Object(u.g)(this._overrideScaleFunction)?this._overrideScaleFunction():this._scale}},{key:"clone",value:function(){return t.restore(this.objectify())}},{key:"objectify",value:function(){return{position:this._position.objectify(),rotation:this._rotation,scale:this._scale.objectify()}}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t({position:c.a.restore(e.position),rotation:e.rotation,scale:c.a.restore(e.scale)})}}]),t}();e.a=l},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(34),u=n(18);s.a.addRule("rectangle",["x","y","width","height"]);var c=function(){function t(e,n,r,a){i()(this,t),this.x=0,this.y=0,this.width=0,this.height=0,this.set(e,n,r,a)}return o()(t,[{key:"set",value:function(t,e,n,r){this.x=t||0,this.y=e||0,this.width=n||10,this.height=r||10}},{key:"objectify",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}},{key:"unload",value:function(){}},{key:"getVertices",value:function(){return{topLeft:new u.a(this.x,this.y),topRight:new u.a(this.x+this.width,this.y),bottomRight:new u.a(this.x+this.width,this.y+this.height),bottomLeft:new u.a(this.x,this.y+this.height)}}},{key:"intersects",value:function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height}},{key:"contains",value:function(t){return t.x>=this.x&&t.x+t.width<=this.x+this.width&&t.y>=this.y&&t.y+t.height<=this.y+this.height}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.width,e.height)}},{key:"fromBulk",value:function(e,n){return new t(e.x-n/2,e.y-n/2,n,n)}},{key:"fromVectors",value:function(e,n){var r=void 0,i=void 0,a=void 0,o=void 0;return e.x>n.x?(r=n.x,a=Math.abs(e.x-n.x)):(r=e.x,a=Math.abs(n.x-e.x)),e.y>n.y?(i=n.y,o=Math.abs(e.y-n.y)):(i=e.y,o=Math.abs(n.y-e.y)),new t(r,i,a,o)}}]),t}();e.a=c},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(152),u=(n.n(s),function(){function t(){i()(this,t)}return o()(t,null,[{key:"_IS_WIN",get:function(){return navigator.platform.toLowerCase().indexOf("win")>-1}},{key:"TRAILING_SLASH",get:function(){return t._IS_WIN?"\\":"/"}}]),o()(t,null,[{key:"wrapDirectoryPath",value:function(e){return e+(e.endsWith("/")||e.endsWith("\\")?"":t.TRAILING_SLASH)}},{key:"getDirectory",value:function(t){var e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return t.substring(0,e>=0?e:t.length)}},{key:"getDirectoryName",value:function(t){(t.endsWith("/")||t.endsWith("\\"))&&(t=t.substring(0,t.length-1));var e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return t.substring(e+1,t.length)}},{key:"getFilename",value:function(t){var e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return t.substring(e>=0&&e<t.length-1?e+1:0,t.length)}},{key:"getBasename",value:function(t,e){return Object(s.basename)(t,e)}},{key:"getFileExtension",value:function(t){return Object(s.extname)(t)}},{key:"relativeTo",value:function(e,n){return 0===t.wrapDirectoryPath(e).indexOf(t.wrapDirectoryPath(n))}},{key:"makeRelative",value:function(e,n){return n.replace(t.wrapDirectoryPath(e),"")}}]),t}());e.a=u},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(33),h=n(37),d=n(2),p=n(99);f.a.addRule("fontStyle","_fontDescriptionFilePath",{visible:!1}),f.a.addRule("fontStyle","_fontDescription",{visible:!1});var v=function(){function t(e,n,r){u()(this,t),this._fontDescriptionFilePath=n,this._fontDescription=e,this._fontImage=r,this._fontSize=70,this._letterSpacing=0,this._spread=4}return l()(t,[{key:"getFontImage",value:function(){return this._fontImage}},{key:"getFontDescription",value:function(){return this._fontDescription}},{key:"setFontImage",value:function(t){this._fontImage=t}},{key:"setFontDescription",value:function(t){if(!Object(d.i)(t))return void console.error("font description (fontInfo) argument needs to be valid");this._fontDescription=t}},{key:"getFontDescriptionFilePath",value:function(){return this._fontDescriptionFilePath}},{key:"setFontDescriptionFilePath",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.loadFile(e);case 2:if(!1!==(n=t.sent)){t.next=6;break}return console.error("Unable to load the desired font file"),t.abrupt("return");case 6:if(null!=(r=p.a.parse(n))){t.next=9;break}return t.abrupt("return");case 9:this.setFontDescription(r),this._fontDescriptionFilePath=e;case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"getFontSize",value:function(){return this._fontSize}},{key:"setFontSize",value:function(t){this._fontSize=t}},{key:"getScale",value:function(){var t=this.getFontDescription().info.size;if(!t)return null;var e=this.getFontSize()/t;return!e||e<=0?null:e}},{key:"getLetterSpacing",value:function(){return this._letterSpacing}},{key:"setLetterSpacing",value:function(t){this._letterSpacing=t}},{key:"getSpread",value:function(){return this._spread}},{key:"setSpread",value:function(t){this._spread=t}},{key:"findCharID",value:function(t){var e=this.getFontDescription().chars;if(!t||!e||0==e.length)return null;var n=t.charCodeAt(0);if(!n)return null;for(var r=0;r<e.length;r++){var i=e[r].id;if(i&&i===n)return r}return null}},{key:"getKerning",value:function(t,e){var n=this.getFontDescription().kernings;if(!(t&&e&&n&&n.length&&0!==n.length))return 0;for(var r=0;r<n.length;r++){var i=n[r];if(i&&i.first&&i.second&&(i.first===t&&i.second===e))return i.amount}return 0}},{key:"objectify",value:function(){return{fontDescriptionFilePath:this.getFontDescriptionFilePath(),fontDescription:this.getFontDescription(),fontSize:this.getFontSize(),letterSpacing:this.getLetterSpacing(),spread:this.getSpread()}}}],[{key:"restore",value:function(e){var n=new t(e.fontDescription,e.fontDescriptionFilePath);return n.setSpread(e.spread),n.setFontSize(e.fontSize),n.setLetterSpacing(e.letterSpacing),n}}]),t}();e.a=v},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(2),u=n(288),c=n.n(u),l=n(289),f=n.n(l),h=n(27),d=(n(59),function(){function t(){i()(this,t)}return o()(t,null,[{key:"parse",value:function(t){if(!h.a.isFileContext(t))return console.error("Expected FileContext argument"),null;var e=void 0,n=t.headers["content-type"];Object(s.j)(n)||(n="");var r=t.content;if(!Object(s.j)(r)||0===r.trim().length)return console.error("Invalid file context content"),null;try{e=/json/.test(n)||"{"===r.charAt(0)?JSON.parse(r):/xml/.test(n)||"<"===r.charAt(0)?f()(r):c()(r)}catch(t){console.error("Something went wrong while attempting to parse bmfont file.\n"+t),e=null}return e}}]),t}());e.a=d},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(2),u=n(21),c=n(60),l=function(){function t(e,n){i()(this,t),this._color=e||u.a.fromRGBA(0,0,0,1),this._size=n||0,this._maxSize=10}return o()(t,[{key:"getMaxSize",value:function(){return this._maxSize}},{key:"setMaxSize",value:function(t){if(!Object(s.h)(t))throw new Error("The given raw size is invalid");this._maxSize=t}}]),o()(t,[{key:"getColor",value:function(){return this._color}},{key:"setColor",value:function(t){if(t instanceof u.a)return void(this._color=t.clone());if(!(Object(s.h)(t.r)&&Object(s.h)(t.g)&&Object(s.h)(t.b)&&Object(s.h)(t.a)))throw new Error("The given stroke color is invalid");this._color.set(t.r,t.g,t.b,t.a)}},{key:"setOpacity",value:function(t){if(!Object(s.h)(t))throw new Error("The given alpha is invalid");var e=this.getColor();this._color.set(e.r,e.g,e.b,t)}},{key:"getOpacity",value:function(){return this.getColor().a}},{key:"getSize",value:function(){return this._size}},{key:"setSize",value:function(t){if(!Object(s.h)(t))throw new Error("The given size is invalid");t=c.a.clamp(t,0,this.getMaxSize()),this._size=t}},{key:"objectify",value:function(){return{color:this._color.objectify(),size:this.getSize()}}}],[{key:"restore",value:function(e){return new t(u.a.restore(e.color),e.size)}}]),t}();e.a=l},function(t,e){var n={};t.exports=n,function(){n.create=function(t){return{id:n.id(t),vertex:t,normalImpulse:0,tangentImpulse:0}},n.id=function(t){return t.body.id+"_"+t.index}}()},function(t,e,n){var r={};t.exports=r;var i=n(24),a=(n(41),n(3));!function(){r.create=function(t){var e=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return a.extend(e,n,t)}}()},function(t,e,n){var r={};t.exports=r;var i=n(51),a=n(3);!function(){r.create=function(t){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},r.update=function(t,e,n){var r,o,s,u,c=t.list,l=t.table,f=t.collisionStart,h=t.collisionEnd,d=t.collisionActive,p=[];for(f.length=0,h.length=0,d.length=0,u=0;u<e.length;u++)r=e[u],r.collided&&(o=i.id(r.bodyA,r.bodyB),p.push(o),s=l[o],s?(s.isActive?d.push(s):f.push(s),i.update(s,r,n)):(s=i.create(r,n),l[o]=s,f.push(s),c.push(s)));for(u=0;u<c.length;u++)s=c[u],s.isActive&&-1===a.indexOf(p,s.id)&&(i.setActive(s,!1,n),h.push(s))},r.removeOld=function(t,e){var n,r,i,a,o=t.list,s=t.table,u=[];for(a=0;a<o.length;a++)n=o[a],r=n.collision,r.bodyA.isSleeping||r.bodyB.isSleeping?n.timeUpdated=e:e-n.timeUpdated>1e3&&u.push(a);for(a=0;a<u.length;a++)i=u[a]-a,n=o[i],delete s[n.id],o.splice(i,1)},r.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}}()},function(t,e,n){var r={};t.exports=r;var i=n(23),a=n(12),o=n(3),s=n(13);!function(){r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(t){var e,n,r;for(e=0;e<t.length;e++)n=t[e],n.isActive&&(r=n.activeContacts.length,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(t,e){var n,i,o,s,u,c,l,f,h,d=a._temp[0],p=a._temp[1],v=a._temp[2],m=a._temp[3];for(n=0;n<t.length;n++)i=t[n],i.isActive&&!i.isSensor&&(o=i.collision,s=o.parentA,u=o.parentB,c=o.normal,l=a.sub(a.add(u.positionImpulse,u.position,d),a.add(s.positionImpulse,a.sub(u.position,o.penetration,p),v),m),i.separation=a.dot(c,l));for(n=0;n<t.length;n++)i=t[n],!i.isActive||i.isSensor||i.separation<0||(o=i.collision,s=o.parentA,u=o.parentB,c=o.normal,h=(i.separation-i.slop)*e,(s.isStatic||u.isStatic)&&(h*=2),s.isStatic||s.isSleeping||(f=r._positionDampen/s.totalContacts,s.positionImpulse.x+=c.x*h*f,s.positionImpulse.y+=c.y*h*f),u.isStatic||u.isSleeping||(f=r._positionDampen/u.totalContacts,u.positionImpulse.x-=c.x*h*f,u.positionImpulse.y-=c.y*h*f))},r.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var o=0;o<n.parts.length;o++){var u=n.parts[o];i.translate(u.vertices,n.positionImpulse),s.update(u.bounds,u.vertices,n.velocity),u.position.x+=n.positionImpulse.x,u.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,a.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=r._positionWarming,n.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(t){var e,n,r,i,o,s,u,c,l,f,h,d,p,v,m=a._temp[0],_=a._temp[1];for(e=0;e<t.length;e++)if(r=t[e],r.isActive&&!r.isSensor)for(i=r.activeContacts,o=r.collision,s=o.parentA,u=o.parentB,c=o.normal,l=o.tangent,n=0;n<i.length;n++)f=i[n],h=f.vertex,d=f.normalImpulse,p=f.tangentImpulse,0===d&&0===p||(m.x=c.x*d+l.x*p,m.y=c.y*d+l.y*p,s.isStatic||s.isSleeping||(v=a.sub(h,s.position,_),s.positionPrev.x+=m.x*s.inverseMass,s.positionPrev.y+=m.y*s.inverseMass,s.anglePrev+=a.cross(v,m)*s.inverseInertia),u.isStatic||u.isSleeping||(v=a.sub(h,u.position,_),u.positionPrev.x-=m.x*u.inverseMass,u.positionPrev.y-=m.y*u.inverseMass,u.anglePrev-=a.cross(v,m)*u.inverseInertia))},r.solveVelocity=function(t,e){for(var n=e*e,i=a._temp[0],s=a._temp[1],u=a._temp[2],c=a._temp[3],l=a._temp[4],f=a._temp[5],h=0;h<t.length;h++){var d=t[h];if(d.isActive&&!d.isSensor){var p=d.collision,v=p.parentA,m=p.parentB,_=p.normal,g=p.tangent,y=d.activeContacts,x=1/y.length;v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,m.angularVelocity=m.angle-m.anglePrev;for(var b=0;b<y.length;b++){var w=y[b],k=w.vertex,S=a.sub(k,v.position,s),A=a.sub(k,m.position,u),C=a.add(v.velocity,a.mult(a.perp(S),v.angularVelocity),c),E=a.add(m.velocity,a.mult(a.perp(A),m.angularVelocity),l),P=a.sub(C,E,f),T=a.dot(_,P),D=a.dot(g,P),O=Math.abs(D),R=o.sign(D),M=(1+d.restitution)*T,I=o.clamp(d.separation+T,0,1)*r._frictionNormalMultiplier,B=D,j=1/0;O>d.friction*d.frictionStatic*I*n&&(j=O,B=o.clamp(d.friction*R*n,-j,j));var L=a.cross(S,_),F=a.cross(A,_),G=x/(v.inverseMass+m.inverseMass+v.inverseInertia*L*L+m.inverseInertia*F*F);if(M*=G,B*=G,T<0&&T*T>r._restingThresh*n)w.normalImpulse=0;else{var N=w.normalImpulse;w.normalImpulse=Math.min(w.normalImpulse+M,0),M=w.normalImpulse-N}if(D*D>r._restingThreshTangent*n)w.tangentImpulse=0;else{var W=w.tangentImpulse;w.tangentImpulse=o.clamp(w.tangentImpulse+B,-j,j),B=w.tangentImpulse-W}i.x=_.x*M+g.x*B,i.y=_.y*M+g.y*B,v.isStatic||v.isSleeping||(v.positionPrev.x+=i.x*v.inverseMass,v.positionPrev.y+=i.y*v.inverseMass,v.anglePrev+=a.cross(S,i)*v.inverseInertia),m.isStatic||m.isSleeping||(m.positionPrev.x-=i.x*m.inverseMass,m.positionPrev.y-=i.y*m.inverseMass,m.anglePrev-=a.cross(A,i)*m.inverseInertia)}}}}}()},function(t,e,n){var r={};t.exports=r;var i=n(3);!function(){r.create=function(e){var n={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=e||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=n.element.getAttribute("data-pixel-ratio")||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(e){var r=t(e,n.element,n.pixelRatio);e.changedTouches&&(n.button=0,e.preventDefault()),n.absolute.x=r.x,n.absolute.y=r.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=e},n.mousedown=function(e){var r=t(e,n.element,n.pixelRatio);e.changedTouches?(n.button=0,e.preventDefault()):n.button=e.button,n.absolute.x=r.x,n.absolute.y=r.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=e},n.mouseup=function(e){var r=t(e,n.element,n.pixelRatio);e.changedTouches&&e.preventDefault(),n.button=-1,n.absolute.x=r.x,n.absolute.y=r.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=e},n.mousewheel=function(t){n.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},r.setElement(n,n.element),n},r.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove),e.addEventListener("mousedown",t.mousedown),e.addEventListener("mouseup",t.mouseup),e.addEventListener("mousewheel",t.mousewheel),e.addEventListener("DOMMouseScroll",t.mousewheel),e.addEventListener("touchmove",t.mousemove),e.addEventListener("touchstart",t.mousedown),e.addEventListener("touchend",t.mouseup)},r.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},r.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},r.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y};var t=function(t,e,n){var r,i,a=e.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,u=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,c=t.changedTouches;return c?(r=c[0].pageX-a.left-s,i=c[0].pageY-a.top-u):(r=t.pageX-a.left-s,i=t.pageY-a.top-u),{x:r/(e.clientWidth/e.width*n),y:i/(e.clientHeight/e.height*n)}}}()},function(t,e,n){var r={};t.exports=r;var i=n(102),a=n(40),o=n(104),s=n(63),u=n(103),c=n(107),l=n(64),f=n(30),h=n(24),d=n(41),p=n(3),v=n(39);!function(){r.create=function(t,e){e=p.isElement(t)?e:t,t=p.isElement(t)?t:null,e=e||{},(t||e.render)&&p.log("Engine.create: engine.render is deprecated (see docs)","warn");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],timing:{timestamp:0,timeScale:1},broadphase:{controller:l}},r=p.extend(n,e);if(t||r.render){var a={element:t,controller:s};r.render=p.extend(a,r.render)}return r.render&&r.render.controller&&(r.render=r.render.controller.create(r.render)),r.render&&(r.render.engine=r),r.world=e.world||i.create(r.world),r.pairs=u.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r.metrics=c.create(r.metrics),r},r.update=function(r,i,s){i=i||1e3/60,s=s||1;var l,p=r.world,v=r.timing,m=r.broadphase,_=[];v.timestamp+=i*v.timeScale;var g={timestamp:v.timestamp};f.trigger(r,"beforeUpdate",g);var y=h.allBodies(p),x=h.allConstraints(p);for(c.reset(r.metrics),r.enableSleeping&&a.update(y,v.timeScale),e(y,p.gravity),n(y,i,v.timeScale,s,p.bounds),l=0;l<r.constraintIterations;l++)d.solveAll(x,v.timeScale);d.postSolveAll(y),m.controller?(p.isModified&&m.controller.clear(m),m.controller.update(m,y,r,p.isModified),_=m.pairsList):_=y,p.isModified&&h.setModified(p,!1,!1,!0);var b=m.detector(_,r),w=r.pairs,k=v.timestamp;for(u.update(w,b,k),u.removeOld(w,k),r.enableSleeping&&a.afterCollisions(w.list,v.timeScale),w.collisionStart.length>0&&f.trigger(r,"collisionStart",{pairs:w.collisionStart}),o.preSolvePosition(w.list),l=0;l<r.positionIterations;l++)o.solvePosition(w.list,v.timeScale);for(o.postSolvePosition(y),o.preSolveVelocity(w.list),l=0;l<r.velocityIterations;l++)o.solveVelocity(w.list,v.timeScale);return w.collisionActive.length>0&&f.trigger(r,"collisionActive",{pairs:w.collisionActive}),w.collisionEnd.length>0&&f.trigger(r,"collisionEnd",{pairs:w.collisionEnd}),c.update(r.metrics,r),t(y),f.trigger(r,"afterUpdate",g),r},r.merge=function(t,e){if(p.extend(t,e),e.world){t.world=e.world,r.clear(t);for(var n=h.allBodies(t.world),i=0;i<n.length;i++){var o=n[i];a.set(o,!1),o.id=p.nextId()}}},r.clear=function(t){var e=t.world;u.clear(t.pairs);var n=t.broadphase;if(n.controller){var r=h.allBodies(e);n.controller.clear(n),n.controller.update(n,r,t,!0)}};var t=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.force.x=0,n.force.y=0,n.torque=0}},e=function(t,e){var n=void 0!==e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==n)for(var r=0;r<t.length;r++){var i=t[r];i.isStatic||i.isSleeping||(i.force.y+=i.mass*e.y*n,i.force.x+=i.mass*e.x*n)}},n=function(t,e,n,r,i){for(var a=0;a<t.length;a++){var o=t[a];o.isStatic||o.isSleeping||v.update(o,e,n,r)}}}()},function(t,e,n){var r={};t.exports=r;var i=n(24),a=n(3);!function(){r.create=function(t){var e={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return a.extend(e,!1,t)},r.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},r.update=function(t,e){if(t.extended){var n=e.world,r=i.allBodies(n);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=r.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(r.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}}()},function(t,e,n){t.exports=!n(14)&&!n(36)(function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(26)},function(t,e,n){var r=n(31),i=n(32),a=n(177)(!1),o=n(78)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var r=n(44);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(44);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(6).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(110),i=n(79).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){t.exports={default:n(187),__esModule:!0}},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var r=n(197),i=r("toUpperCase");t.exports=i},function(t,e){function n(t){return r.test(t)}var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=n},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(31),i=n(57),a=n(78)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){t.exports={default:n(218),__esModule:!0}},function(t,e,n){var r=n(58),i=n(5)("iterator"),a=n(38);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},function(t,e,n){var r=n(16),i=n(42),a=n(5)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},function(t,e,n){var r,i,a,o=n(25),s=n(224),u=n(114),c=n(69),l=n(6),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,m=0,_={},g=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},y=function(t){g.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete _[t]},"process"==n(44)(f)?r=function(t){f.nextTick(o(g,t,1))}:v&&v.now?r=function(t){v.now(o(g,t,1))}:p?(i=new p,a=i.port2,i.port1.onmessage=y,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(o(g,t,1),0)}),t.exports={set:h,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(16),i=n(17),a=n(86);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(6),i=n(4),a=n(15),o=n(14),s=n(5)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];o&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(17);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function o(){v&&d&&(v=!1,d.length?p=d.concat(p):m=-1,p.length&&s())}function s(){if(!v){var t=i(o);v=!0;for(var e=p.length;e;){for(d=p,p=[];++m<e;)d&&d[m].run();m=-1,e=p.length}d=null,v=!1,a(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,p=[],v=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(8),i=n(251),a=n(253),o=n(254),s=n(255),u=n(135),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(256);t.exports=function(t){return new Promise(function(e,l){var f=t.data,h=t.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var m=t.auth.username||"",_=t.auth.password||"";h.Authorization="Basic "+c(m+":"+_)}if(d.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?d.response:d.responseText,a={data:r,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};i(e,l,a),d=null}},d.onerror=function(){l(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=n(257),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(h[t.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(h,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),l(t),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(t,e,n){"use strict";var r=n(252);t.exports=function(t,e,n,i,a){var o=new Error(t);return r(o,e,n,i,a)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";var r=n(90),i=n.n(r),a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(50),l=n.n(c),f=n(45),h=n(20),d=n(11),p=n(139),v=n(140),m=n(141),_=n(142),g=n(2),y=n(27),x=function(){function t(e){o()(this,t),e=e||{};this._renderContext=null,this._logger=new h.b("Game"),this._initialized=!1,this._gameScene=e.scene,this._totalElapsedTime=null,this._virtualResolution=null,this._shaderManager=null,this._executionPhase=f.a.EXECUTION_PHASES.WAITING,this._physicsEngine=l.a.Engine.create(),this._physicsEngine.enableSleeping=!0,this._renderExtensions={},this._paused=!1,this._swapScene=null,this._swappingScenes=!1,this._inputHandlersBinded=!1,l.a.Engine.run(this._physicsEngine),this.setVirtualResolution(800,640),Object(g.j)(e.target)&&this.setTarget(e.target)}return u()(t,[{key:"addRenderExtension",value:function(t,e){this._renderExtensions[t]=e}},{key:"removeRenderExtension",value:function(t){delete this._renderExtensions[t]}},{key:"clearRenderExtensions",value:function(){this._renderExtensions=[]}},{key:"getPhysicsEngine",value:function(){return this._physicsEngine}},{key:"pauseGame",value:function(){this._paused=!0}},{key:"resumeGame",value:function(){this._paused=!1}},{key:"getShaderManager",value:function(){return this._shaderManager}},{key:"getActiveCamera",value:function(){return this._gameScene?this._gameScene.getCamera():null}},{key:"getExecutionPhase",value:function(){return this._executionPhase}},{key:"init",value:function(t){if(t=t||{},!Object(g.i)(this._canvas))return void this._logger.warn("Cannot initialize game, the render display target was not provided or is invalid.");this._onAnimationFrame(0),d.a.activeGame=this,t.ignoreInputHandler||this._bindInputHandlers(),this._initalized=!0}},{key:"setActive",value:function(){d.a.activeGame=this}},{key:"setVirtualResolution",value:function(t,e){this._virtualResolution={width:t,height:e},Object(g.i)(this._renderContext)&&(this._renderContext.setVirtualResolution(t,e),this.getActiveCamera().setViewSize(t,e))}},{key:"refreshVirtualResolution",value:function(){this._renderContext.setVirtualResolution(this._virtualResolution.width,this._virtualResolution.height);var t=this.getActiveCamera();t&&t.setViewSize(this._virtualResolution.width,this._virtualResolution.height)}},{key:"getVirtualResolution",value:function(){return this._virtualResolution}},{key:"getRenderContext",value:function(){return this._renderContext}},{key:"setTarget",value:function(t){this._canvas=Object(g.j)(t)?document.getElementById(t):null,Object(g.i)(this._canvas)&&(this._renderContext=new p.a({renderContainer:this._canvas}),d.a.renderContext=this._renderContext,this._shaderManager=new v.a(this),this.refreshVirtualResolution())}},{key:"changeScene",value:function(t){y.a.isGameScene(t)&&(this._executionPhase==f.a.EXECUTION_PHASES.WAITING?(this._swappingScenes=!0,this._gameScene&&this._gameScene.unload(),this._gameScene=t,this._gameScene.setGame(this),d.a.activeScene=t,this.refreshVirtualResolution(),Object(g.g)(this._gameScene.initialize)&&this._gameScene.initialize(),this._swappingScenes=!1):this._swapScene=t)}},{key:"getTotalElapsedTime",value:function(){return this._totalElapsedTime}},{key:"unload",value:function(){this._inputHandlersBinded&&this._unbindInputHandlers()}},{key:"_bindInputHandlers",value:function(){window.addEventListener("keyup",this._keyUpListener.bind(this),!1),window.addEventListener("keydown",this._keyDownListener.bind(this),!1),this._inputHandlersBinded=!0}},{key:"_unbindInputHandlers",value:function(){window.removeEventListener("keyup",this._keyUpListener.bind(this),!1),window.removeEventListener("keydown",this._keyDownListener.bind(this),!1),this._inputHandlersBinded=!1}},{key:"_keyUpListener",value:function(t){var e=[t.keyCode];t.ctrlKey&&e.push(m.a.Ctrl),t.shiftKey&&e.push(m.a.Shift),_.a.removeKeys(e)}},{key:"_keyDownListener",value:function(t){var e=[t.keyCode];t.ctrlKey&&e.push(m.a.Ctrl),t.shiftKey&&e.push(m.a.Shift),_.a.addKeys(e)}},{key:"_onAnimationFrame",value:function(t){null===this._totalElapsedTime&&(this._totalElapsedTime=t),this._swapScene&&!this._swappingScenes&&(this.changeScene(this._swapScene),this._swapScene=null);var e=(t-this._totalElapsedTime)/1e3,n=this;if(this._totalElapsedTime=t,!this._paused&&y.a.isGameScene(this._gameScene)&&!this._swappingScenes){Object(g.g)(this._gameScene.update)&&(this._executionPhase=f.a.EXECUTION_PHASES.UPDATE,this._gameScene.update(e)),this._gameScene.sceneUpdate(e),Object(g.g)(this._gameScene.lateUpdate)&&(this._executionPhase=f.a.EXECUTION_PHASES.LATE_UPDATE,this._gameScene.lateUpdate(e)),this._gameScene.sceneLateUpdate(e),this._gameScene.onBeginFrameRender(),this._gameScene.prepareRender();i()(this._renderExtensions).forEach(function(t){n._renderExtensions[t].render(e)}),Object(g.g)(this._gameScene.render)&&(this._executionPhase=f.a.EXECUTION_PHASES.RENDER,this._gameScene.render(e)),this._executionPhase=f.a.EXECUTION_PHASES.SCENE_RENDER,this._gameScene.sceneRender(e),this._gameScene.flushRender(),Object(g.g)(this._gameScene.lateRender)&&(this._executionPhase=f.a.EXECUTION_PHASES.LATE_RENDER,this._gameScene.prepareRender(),this._gameScene.lateRender(e),this._gameScene.flushRender()),this._executionPhase=f.a.EXECUTION_PHASES.WAITING}this._paused?setTimeout(function(){requestAnimationFrame(n._onAnimationFrame.bind(n))},100):requestAnimationFrame(this._onAnimationFrame.bind(this))}}]),t}();e.a=x},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(20),u=n(45),c=n(2),l=function(){function t(e){i()(this,t),e=e||{},this._logger=new s.b("WebGLContext"),this._canvas=null,this._gl=null,Object(c.i)(e.renderContainer)&&this.assignContextFromContainer(e.renderContainer)}return o()(t,[{key:"setVirtualResolution",value:function(t,e){Object(c.i)(this._gl)&&(this._canvas.width=t,this._canvas.height=e,this._gl.viewport(0,0,t,e))}},{key:"assignContextFromContainer",value:function(t){var e={alpha:!1,antialias:!0},n=this._gl=t.getContext("experimental-webgl",e)||t.getContext("webgl",e)||t.getContext("webkit-3d",e)||t.getContext("moz-webgl",e);if(!Object(c.i)(this._gl))return void this._logger.warn("WebGL not supported, find a container that does (eg. Chrome, Firefox)");n.getExtension("OES_standard_derivatives"),this._canvas=t,n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE),n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA)}},{key:"getName",value:function(){return u.a.WEBGL}},{key:"getContext",value:function(){return this._gl}},{key:"unload",value:function(){}}]),t}();e.a=l},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(2),u=function(){function t(e){i()(this,t),this._game=e,this._gl=this._game.getRenderContext().getContext(),this._activeShader=null}return o()(t,[{key:"unload",value:function(){}},{key:"useShader",value:function(t){Object(s.i)(this._activeShader)&&this._activeShader.getUID()===t.getUID()||(this._activeShader=t,this._gl.useProgram(t.getProgram()))}}]),t}();e.a=u},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=function t(){i()(this,t)};e.a=a,a.Backspace=8,a.Tab=9,a.Enter=13,a.Shift=16,a.Ctrl=17,a.Alt=18,a.Pause=19,a.Break=19,a.CapsLock=20,a.Escape=27,a.PageUp=33,a.PageDown=34,a.End=35,a.Home=36,a.LeftArrow=37,a.UpArrow=38,a.RightArrow=39,a.DownArrow=40,a.Insert=45,a.Delete=46,a.Space=32,a.D0=48,a.D1=49,a.D2=50,a.D3=51,a.D4=52,a.D5=53,a.D6=54,a.D7=55,a.D8=56,a.D9=57,a.A=65,a.B=66,a.C=67,a.D=68,a.E=69,a.F=70,a.G=71,a.H=72,a.I=73,a.J=74,a.K=75,a.L=76,a.M=77,a.N=78,a.O=79,a.P=80,a.Q=81,a.R=82,a.S=83,a.T=84,a.U=85,a.V=86,a.W=87,a.X=88,a.Y=89,a.Z=90,a.LeftWindowKey=91,a.RightWindowKey=92,a.SelectKey=93,a.NumPad0=96,a.NumPad1=97,a.NumPad2=98,a.NumPad3=99,a.NumPad4=100,a.NumPad5=101,a.NumPad6=102,a.NumPad7=103,a.NumPad8=104,a.NumPad9=105,a.Multiply=106,a.Add=107,a.Subtract=109,a.DecimalPoint=110,a.Divide=111,a.F1=112,a.F2=113,a.F3=114,a.F4=115,a.F5=116,a.F6=117,a.F7=118,a.F8=119,a.F9=120,a.F10=121,a.F11=122,a.F12=123,a.NumLock=144,a.ScrollLock=145,a.SemiColon=186,a.EqualSign=187,a.Comma=188,a.Dash=189,a.Period=190,a.ForwardSlash=191,a.GraveAccent=192,a.OpenBracket=219,a.BackSlash=220,a.CloseBraket=221,a.SingleQuote=222},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(19),u=n.n(s),c=n(143),l=u()("keyboardSingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._keys=[]}return o()(t,[{key:"removeKey",value:function(t){var e=this._keys.indexOf(t);e>=0&&this._keys.splice(e,1)}},{key:"removeKeys",value:function(t){t.forEach(function(t){this.removeKey(t)}.bind(this))}},{key:"addKey",value:function(t){this._keys.indexOf(t)<0&&this._keys.push(t)}},{key:"addKeys",value:function(t){t.forEach(function(t){this.addKey(t)}.bind(this))}},{key:"setKeys",value:function(t){this._keys=t}},{key:"clearKeys",value:function(){this._keys=[]}},{key:"getState",value:function(){return new c.a(this._keys)}},{key:"isKeyDown",value:function(t){return this._keys.indexOf(t)>=0}},{key:"isKeyUp",value:function(t){return this._keys.indexOf(t)<0}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),this._keys=[],e.forEach(function(t){this._keys.push(t)}.bind(this))}return o()(t,[{key:"getKeys",value:function(){return this._keys}},{key:"isKeyDown",value:function(t){return this._keys.indexOf(t)>=0}},{key:"isKeyUp",value:function(t){return this._keys.indexOf(t)<0}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(50),h=n.n(f),d=n(33),p=n(21),v=n(145),m=n(11),_=n(49),g=n(146),y=n(2);d.a.addRule("gameScene","_game",{visible:!1}),d.a.addRule("gameScene","_gameObjects",{visible:!1}),d.a.addRule("gameScene","_camera",{visible:!1}),d.a.addRule("gameScene","_spriteBatch",{visible:!1});var x=function(){function t(e){if(u()(this,t),e=e||{},!e.game)throw new Error("Cannot create a game scene without the game parameter");this.name=e.name||"GameScene",this._uid=Object(y.b)(),this._game=e.game||null,this._backgroundColor=e.backgroundColor||p.a.CornflowerBlue,this._gameObjects=e.gameObjects||[],this._camera=e.camera||new v.a(0,0,this._game.getVirtualResolution().width,this._game.getVirtualResolution().height),this._spriteBatch=new g.a(e.game)}return l()(t,[{key:"getUID",value:function(){return this._uid}},{key:"getPhysicsWorld",value:function(){return this._game.getPhysicsEngine().world}},{key:"getCamera",value:function(){return this._camera}},{key:"setGame",value:function(t){this._game=t}},{key:"getGame",value:function(){return this._game}},{key:"setBackgroundColor",value:function(t){this._backgroundColor=t}},{key:"getBackgroundColor",value:function(){return this._backgroundColor}},{key:"addGameObject",value:function(t,e){t.removeParent(),Object(y.i)(e)?this._gameObjects.splice(e,0,t):this._gameObjects.push(t)}},{key:"getGameObjects",value:function(){return this._gameObjects}},{key:"removeGameObject",value:function(t){for(var e=this._gameObjects.length-1;e>=0;e--)if(this._gameObjects[e].getUID()===t.getUID())return this._gameObjects.splice(e,1)}},{key:"getAllGameObjects",value:function(){function t(n){n.forEach(function(n){e.push(n),t(n.getChildren())})}var e=[];return t(this._gameObjects),e}},{key:"onBeginFrameRender",value:function(){var t=this._game.getRenderContext().getContext();t.clearColor(this._backgroundColor.r,this._backgroundColor.g,this._backgroundColor.b,this._backgroundColor.a),t.clear(t.COLOR_BUFFER_BIT)}},{key:"prepareRender",value:function(){this._spriteBatch.begin()}},{key:"flushRender",value:function(){this._spriteBatch.flush()}},{key:"sceneLateUpdate",value:function(t){h.a.Engine.update(this._game.getPhysicsEngine(),1e3/60)}},{key:"sceneUpdate",value:function(t){for(var e=0;e<this._gameObjects.length;e++)this._gameObjects[e].update(t)}},{key:"sceneRender",value:function(t){for(var e=0;e<this._gameObjects.length;e++)this._gameObjects[e].render(t,this._spriteBatch)}},{key:"objectify",value:function(){return{name:this.name,camera:this._camera.objectify(),backgroundColor:this._backgroundColor.objectify(),gameObjects:_.a.array(this._gameObjects)}}},{key:"unload",value:function(){}}],[{key:"restore",value:function(){function e(t){return n.apply(this,arguments)}var n=o()(i.a.mark(function e(n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=m.a.activeGame,e.t2=p.a.restore(n.backgroundColor),e.t3=v.a.restore(n.camera),e.next=6,_.a.restoreArray(n.gameObjects);case 6:return e.t4=e.sent,e.t5={game:e.t1,backgroundColor:e.t2,camera:e.t3,gameObjects:e.t4},r=new e.t0(e.t5),e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=x},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(92),u=n(18),c=function(){function t(e,n,r,a,o){i()(this,t),this.x=e||0,this.y=n||0,this.zoom=o||1,this.viewWidth=r||0,this.viewHeight=a||0,this._lastX=null,this._lastY=null,this._lastZoom=null,this._matrix=new s.a}return o()(t,[{key:"calculateMatrix",value:function(){return this._matrix.orthographic(this.x+-this.viewWidth*this.zoom/2,this.x+this.viewWidth*this.zoom/2,this.y+this.viewHeight*this.zoom/2,this.y+-this.viewHeight*this.zoom/2,0,1),this._lastX=this.x,this._lastY=this.y,this._lastZoom=this.zoom,this._matrix.asArray()}},{key:"setViewSize",value:function(t,e){this.viewWidth=t,this.viewHeight=e,this.calculateMatrix()}},{key:"getViewWidth",value:function(){return this.viewWidth}},{key:"getViewHeight",value:function(){return this.viewHeight}},{key:"getMatrix",value:function(){return this.x!=this._lastX||this.y!=this._lastY||this._lastZoom!=this.zoom?this.calculateMatrix():this._matrix.asArray()}},{key:"screenToWorldCoordinates",value:function(t,e){var n=2*t/this.viewWidth-1,r=1-2*e/this.viewHeight;return u.a.transformMat4(new u.a(n,r),new s.a(this.getMatrix()).invert())}},{key:"unload",value:function(){}},{key:"objectify",value:function(){return{x:this.x,y:this.y,zoom:this.zoom}}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.viewWidth,e.viewHeight,e.zoom)}}]),t}();e.a=c},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(147),u=n(27),c=n(18),l=function(){function t(e){if(i()(this,t),!u.a.isGame(e))throw new Error("Cannot create sprite render, the Game object is missing from the parameters");this._game=e,this._gl=e.getRenderContext().getContext(),this._renderBuffer=this._gl.createBuffer(),this._textureShader=new s.a,this._stride=32,this._singleDataLength=48,this._maxSpritesPerBatch=2048,this._spriteData=new Float32Array(this._singleDataLength*this._maxSpritesPerBatch),this._spriteDataIdx=0,this._sprites=[]}return o()(t,[{key:"clear",value:function(){this._sprites=[],this._spriteDataIdx=0}},{key:"begin",value:function(){this.clear()}},{key:"storeSprite",value:function(t){this._sprites.push(t)}},{key:"_storeColor",value:function(t,e,n,r){this._spriteData[this._spriteDataIdx++]=t,this._spriteData[this._spriteDataIdx++]=e,this._spriteData[this._spriteDataIdx++]=n,this._spriteData[this._spriteDataIdx++]=r}},{key:"_processSprite",value:function(t){var e=t.getMatrix(),n=c.a.transformMat4(new c.a(0,0),e),r=c.a.transformMat4(new c.a(1,0),e),i=c.a.transformMat4(new c.a(0,1),e),a=c.a.transformMat4(new c.a(1,1),e),o=t.getTint(),s=o.r,u=o.g,l=o.b,f=o.a;this._spriteData[this._spriteDataIdx++]=n.x,this._spriteData[this._spriteDataIdx++]=n.y,this._spriteData[this._spriteDataIdx++]=0,this._spriteData[this._spriteDataIdx++]=0,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=r.x,this._spriteData[this._spriteDataIdx++]=r.y,this._spriteData[this._spriteDataIdx++]=1,this._spriteData[this._spriteDataIdx++]=0,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=i.x,this._spriteData[this._spriteDataIdx++]=i.y,this._spriteData[this._spriteDataIdx++]=0,this._spriteData[this._spriteDataIdx++]=1,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=i.x,this._spriteData[this._spriteDataIdx++]=i.y,this._spriteData[this._spriteDataIdx++]=0,this._spriteData[this._spriteDataIdx++]=1,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=r.x,this._spriteData[this._spriteDataIdx++]=r.y,this._spriteData[this._spriteDataIdx++]=1,this._spriteData[this._spriteDataIdx++]=0,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=a.x,this._spriteData[this._spriteDataIdx++]=a.y,this._spriteData[this._spriteDataIdx++]=1,this._spriteData[this._spriteDataIdx++]=1,this._storeColor(s,u,l,f)}},{key:"_renderBatch",value:function(){if(0!==this._spriteDataIdx){var t=this._gl;t.bufferData(t.ARRAY_BUFFER,this._spriteData,t.STATIC_DRAW),t.enableVertexAttribArray(this._textureShader.attributes.aVertexPosition),t.vertexAttribPointer(this._textureShader.attributes.aVertexPosition,2,t.FLOAT,!1,this._stride,0),t.enableVertexAttribArray(this._textureShader.attributes.aTextureCoord),t.vertexAttribPointer(this._textureShader.attributes.aTextureCoord,2,t.FLOAT,!1,this._stride,8),t.enableVertexAttribArray(this._textureShader.attributes.aColor),t.vertexAttribPointer(this._textureShader.attributes.aColor,4,t.FLOAT,!1,this._stride,16),t.drawArrays(t.TRIANGLES,0,this._spriteDataIdx/this._singleDataLength*6),this._spriteDataIdx=0}}},{key:"flush",value:function(){if(0!==this._sprites.length){var t=this._gl,e=-1,n=0,r=void 0,i=void 0;this._game.getShaderManager().useShader(this._textureShader),t.bindBuffer(t.ARRAY_BUFFER,this._renderBuffer),t.uniformMatrix4fv(this._textureShader.uniforms.uMatrix._location,!1,this._game.getActiveCamera().getMatrix());for(var a=0;a<this._sprites.length;a++)r=this._sprites[a],i=r.getTexture(),null!=i&&i.isReady()&&(e!==i.getUID()&&(e>=0&&(this._renderBatch(n),n=0),i.bind(),e=i.getUID()),this._processSprite(r),n++),(n>=this._maxSpritesPerBatch||a===this._sprites.length-1)&&(this._renderBatch(n),n=0)}}},{key:"unload",value:function(){this._gl.deleteBuffer(this._renderBuffer),this._textureShader.unload()}}]),t}();e.a=l},function(t,e,n){"use strict";var r=n(22),i=n.n(r),a=n(0),o=n.n(a),s=n(28),u=n.n(s),c=n(1),l=n.n(c),f=n(29),h=n.n(f),d=n(35),p=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["precision mediump float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat4 uMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void) {","   vTextureCoord = aTextureCoord;","   gl_Position = uMatrix * vec4(aVertexPosition, 0.0, 1.0);","   vColor = aColor;","}"].join("\n"),fragment:["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"].join("\n"),uniforms:{uSampler:{type:"tex",value:0},uMatrix:{type:"mat4",value:new Float32Array(16)}},attributes:{aVertexPosition:-1,aTextureCoord:-1,aColor:-1}}}}]),e}(d.a);e.a=p},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(20),u=n(2),c=function(){function t(){i()(this,t),this._logger=new s.b("WebGLUtils")}return o()(t,[{key:"_compileShader",value:function(t,e,n){var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(r);return this._logger.error("Error compiling shader '"+r+"':"+i),t.deleteShader(r),null}return r}},{key:"createProgram",value:function(t,e,n){var r=t.createProgram();return t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)||this._logger.error("Program filed to link:"+t.getProgramInfoLog(r)),r}},{key:"createShader",value:function(t,e,n){var r=void 0;if("vertex"===n)r=t.VERTEX_SHADER;else if("fragment"===n)r=t.FRAGMENT_SHADER;else if(!n)return this._logger.warn("Shader type not set, discarding.."),null;return this._compileShader(t,e,r)}},{key:"createShaderFromScript",value:function(t,e,n){var r=document.getElementById(e);if(!r)return this._logger.warn("Unknown script target element, discarding.."),null;this.createShader(t,r.text,n)}},{key:"createProgramFromScripts",value:function(t,e,n){var r=this.createShader(t,e,"vertex"),i=this.createShader(t,n,"fragment");return Object(u.i)(r)&&Object(u.i)(i)?this.createProgram(t,r,i):(this._logger.warn("Could not create program because scripts could not be compiled, discarding.."),t.deleteShader(r),t.deleteShader(i),null)}},{key:"createProgramFromScriptElements",value:function(t,e,n){var r=this.createShaderFromScript(t,e,"vertex"),i=this.createShaderFromScript(t,n,"fragment");return Object(u.i)(r)&&Object(u.i)(i)?this.createProgram(t,r,i):(this._logger.warn("Could not create program because scripts could not be compiled, discarding.."),t.deleteShader(r),t.deleteShader(i),null)}}]),t}();e.b=c;var l=new c},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(22),u=n.n(s),c=n(0),l=n.n(c),f=n(1),h=n.n(f),d=n(28),p=n.n(d),v=n(94),m=n.n(v),_=n(29),g=n.n(_),y=n(61),x=n(95),b=n(21),w=n(151),k=n(62),S=n(49),A=n(97),C=n(18),E=n(33),P=n(37),T=n(89),D=n(45),O=n(20),R=n(2);E.a.inherit("sprite","gameobject"),E.a.addRule("sprite","_source",{displayName:"Source",editor:"filepath"}),E.a.addRule("sprite","_tint",{displayName:"Tint"}),E.a.addRule("sprite","_texture",{visible:!1}),E.a.addRule("sprite","_wrapMode",{visible:!1}),E.a.addRule("sprite","_atlasRegion",{displayName:"Region",available:function(){return Object(R.i)(this._atlas)}});var M=function(t){function e(t){l()(this,e),t=t||{},t.name=t.name||"Sprite";var n=p()(this,(e.__proto__||u()(e)).call(this,t));return n._source="",n._atlasRegion="",n._tint=t.tint||b.a.fromRGB(255,255,255),n._textureWidth=0,n._textureHeight=0,n._origin=new C.a(.5,.5),n._wrapMode=w.a.CLAMP,n._atlas=null,n._logger=new O.b("Sprite"),n.setTexture(t.texture),n}return g()(e,t),h()(e,[{key:"getBaseWidth",value:function(){return this._textureWidth}},{key:"getBaseHeight",value:function(){return this._textureHeight}},{key:"getMatrix",value:function(){var t=void 0,e=void 0,n=void 0,r=void 0;return t=this.transform.getPosition().x,e=this.transform.getPosition().y,n=this._textureWidth*this.transform.getScale().x,r=this._textureHeight*this.transform.getScale().y,this._transformMatrix.identity(),this._wrapMode!==w.a.REPEAT?this._transformMatrix.translate([t-n*this._origin.x,e-r*this._origin.y,0]):this._transformMatrix.translate([-n*this._origin.x,-r*this._origin.y,0]),this._transformMatrix.translate([n*this._origin.x,r*this._origin.y,0]),this._transformMatrix.rotate([0,0,1],this.transform.getRotation()),this._transformMatrix.translate([-n*this._origin.x,-r*this._origin.y,0]),this._transformMatrix.scale([n,r,0]),this._transformMatrix.asArray()}},{key:"setWrapMode",value:function(t){this._wrapMode=t}},{key:"getWrapMode",value:function(){return this._wrapMode}},{key:"setOrigin",value:function(t){this._origin=t}},{key:"getOrigin",value:function(){return this._origin}},{key:"setTint",value:function(t){this._tint=t}},{key:"getTint",value:function(){return this._tint}},{key:"setSource",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var n,r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._source=e,!(null==e||e.length<=0)){t.next=5;break}return this._logger.error("Invalid path"),this.setTexture(null),t.abrupt("return");case 5:if((n=A.a.getFileExtension(e))==D.a.CONTENT_EXTENSIONS.ATLAS){t.next=11;break}return this._atlas=null,t.next=10,this._assignTextureFromPath(e);case 10:return t.abrupt("return",t.sent);case 11:return t.next=13,P.a.loadFile(e);case 13:if(!1!==(r=t.sent)){t.next=16;break}return t.abrupt("return");case 16:if(null!=(a=S.a.restoreFromString(r))&&Object(R.i)(a.sourcePath)){t.next=20;break}return this._logger.error("Couldn't restore atlas"),t.abrupt("return");case 20:return this._atlas=a,T.a.emit(D.a.EVENTS.CONTENT_ASSET_LOADED,e),t.next=24,this._assignTextureFromPath(this._atlas.sourcePath);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}},t,this)}));return t}()},{key:"getAtlasRegion",value:function(){return this._atlasRegion}},{key:"setAtlasRegion",value:function(t){this._atlasRegion=t}},{key:"getSource",value:function(){return this._source}},{key:"getType",value:function(){return"Sprite"}},{key:"getTexture",value:function(){return this._texture}},{key:"setTexture",value:function(t){if(!t||!t.isReady())return this._texture=null,this._textureWidth=0,void(this._textureHeight=0);this._texture=t,this._textureWidth=this._texture.getWidth(),this._textureHeight=this._texture.getHeight()}},{key:"render",value:function(t,n){this.enabled&&(n.storeSprite(this),m()(e.prototype.__proto__||u()(e.prototype),"render",this).call(this,t,n))}},{key:"objectify",value:function(){var t=m()(e.prototype.__proto__||u()(e.prototype),"objectify",this).call(this);return S.a.extend(t,{src:this._source,tint:this._tint.objectify()})}},{key:"unload",value:function(){}},{key:"_assignTextureFromPath",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.fromPath(e);case 2:if(null!=(n=t.sent)){t.next=5;break}return t.abrupt("return");case 5:this.setTexture(n);case 6:case"end":return t.stop()}},t,this)}));return t}()}],[{key:"restore",value:function(){function t(t){return n.apply(this,arguments)}var n=o()(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=n.name,t.t2=x.a.restore(n.transform),t.next=5,S.a.restoreArray(n.children);case 5:return t.t3=t.sent,t.next=8,S.a.restoreArray(n.components);case 8:return t.t4=t.sent,t.t5={name:t.t1,transform:t.t2,children:t.t3,components:t.t4},r=new t.t0(t.t5),t.next=13,r.setSource(n.src);case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return t}()}]),e}(y.a);e.a=M},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(18),u=function(){function t(e,n,r,a){i()(this,t),this.topLeft=e||new s.a,this.topRight=n||new s.a,this.bottomRight=r||new s.a,this.bottomLeft=a||new s.a}return o()(t,[{key:"getVertices",value:function(){return[this.topLeft,this.topRight,this.bottomRight,this.bottomLeft]}},{key:"getNormals",value:function(){return{top:new s.a(this.topRight.x-this.topLeft.x,this.topRight.y-this.topLeft.y).normalLeft(),right:new s.a(this.bottomRight.x-this.topRight.x,this.bottomRight.y-this.topRight.y).normalLeft(),bottom:new s.a(this.bottomLeft.x-this.bottomRight.x,this.bottomLeft.y-this.bottomRight.y).normalLeft(),left:new s.a(this.topLeft.x-this.bottomLeft.x,this.topLeft.y-this.bottomLeft.y).normalLeft()}}},{key:"overlapsWith",value:function(e){return t.overlap(this,e)}}],[{key:"getMinMax",value:function(t,e){var n=t.topRight.dot(e),r=t.bottomRight.dot(e),i=t.bottomLeft.dot(e),a=t.topLeft.dot(e);return{max:Math.max(n,r,i,a),min:Math.min(n,r,i,a)}}},{key:"overlap",value:function(e,n){for(var r=e.getNormals(),i=n.getNormals(),a=void 0,o=void 0,s=void 0,u=void 0,c=0;c<4;c++)if(s=c>=2?i:r,u=c%2==0?s.bottom:s.right,a=t.getMinMax(e,u),o=t.getMinMax(n,u),a.max<o.min||o.max<a.min)return!1;return!0}},{key:"fromVector2",value:function(e,n){var r=n/2;return new t(new s.a(e.x-r,e.y-r),new s.a(e.x+r,e.y-r),new s.a(e.x+r,e.y+r),new s.a(e.x-r,e.y+r))}}]),t}();e.a=u},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={CLAMP:0,REPEAT:1}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),a="/"===o(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=a(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=a(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return a(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(133))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(154),u=n(27),c=function(){function t(e){if(i()(this,t),!u.a.isGame(e))throw new Error("Cannot create primitive render the Game object is missing from the parameters");this._game=e,this._gl=e.getRenderContext().getContext(),this._shader=new s.a,this._renderBuffer=this._gl.createBuffer(),this._lineMaxPerBatch=2048,this._lineSingleDataLength=12,this._lineStride=24,this._lineData=new Float32Array(this._lineMaxPerBatch*this._lineSingleDataLength),this._lineDataIdx=0,this._rectangleMaxPerBatch=2048,this._rectangleSingleDataLength=36,this._rectangleStride=24,this._rectangleData=new Float32Array(this._rectangleMaxPerBatch*this._rectangleSingleDataLength),this._rectangleDataIdx=0}return o()(t,[{key:"unload",value:function(){this._gl.deleteBuffer(this._renderBuffer),this._shader.unload()}},{key:"begin",value:function(){this._clear()}},{key:"_clear",value:function(){this._lineDataIdx=0,this._rectangleDataIdx=0}},{key:"storeRectangle",value:function(t,e){var n=t.x,r=t.y,i=t.x+t.width,a=t.y,o=t.x,s=t.y+t.height,u=t.x+t.width,c=t.y+t.height;this._rectangleData[this._rectangleDataIdx++]=o,this._rectangleData[this._rectangleDataIdx++]=s,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=u,this._rectangleData[this._rectangleDataIdx++]=c,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=n,this._rectangleData[this._rectangleDataIdx++]=r,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=n,this._rectangleData[this._rectangleDataIdx++]=r,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=u,this._rectangleData[this._rectangleDataIdx++]=c,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=i,this._rectangleData[this._rectangleDataIdx++]=a,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleDataIdx>=this._rectangleData.length&&this._flushRectangles()}},{key:"_flushRectangles",value:function(){if(0!==this._rectangleDataIdx){var t=this._gl,e=this._rectangleDataIdx/this._rectangleSingleDataLength;t.bufferData(t.ARRAY_BUFFER,this._rectangleData,t.STATIC_DRAW),t.enableVertexAttribArray(this._shader.attributes.aVertexPosition),t.vertexAttribPointer(this._shader.attributes.aVertexPosition,2,t.FLOAT,!1,this._rectangleStride,0),t.enableVertexAttribArray(this._shader.attributes.aVertexColorPosition),t.vertexAttribPointer(this._shader.attributes.aVertexColorPosition,4,t.FLOAT,!0,this._rectangleStride,8),t.drawArrays(t.TRIANGLES,0,6*e),this._rectangleDataIdx=0}}},{key:"storeLine",value:function(t,e,n,r){this._lineData[this._lineDataIdx++]=t.x,this._lineData[this._lineDataIdx++]=t.y,this._lineData[this._lineDataIdx++]=n.r,this._lineData[this._lineDataIdx++]=n.g,this._lineData[this._lineDataIdx++]=n.b,this._lineData[this._lineDataIdx++]=n.a,this._lineData[this._lineDataIdx++]=e.x,this._lineData[this._lineDataIdx++]=e.y,this._lineData[this._lineDataIdx++]=r.r,this._lineData[this._lineDataIdx++]=r.g,this._lineData[this._lineDataIdx++]=r.b,this._lineData[this._lineDataIdx++]=r.a,this._lineDataIdx>=this._lineData.length&&this._flushLines()}},{key:"_flushLines",value:function(){if(0!==this._lineDataIdx){var t=this._gl,e=this._lineDataIdx/this._lineSingleDataLength;t.bufferData(t.ARRAY_BUFFER,this._lineData,t.STATIC_DRAW),t.enableVertexAttribArray(this._shader.attributes.aVertexPosition),t.vertexAttribPointer(this._shader.attributes.aVertexPosition,2,t.FLOAT,!1,this._lineStride,0),t.enableVertexAttribArray(this._shader.attributes.aVertexColorPosition),t.vertexAttribPointer(this._shader.attributes.aVertexColorPosition,4,t.FLOAT,!0,this._lineStride,8),t.drawArrays(t.LINES,0,2*e),this._lineDataIdx=0}}},{key:"flush",value:function(){var t=this._gl;this._game.getShaderManager().useShader(this._shader),t.bindBuffer(t.ARRAY_BUFFER,this._renderBuffer),t.uniformMatrix4fv(this._shader.uniforms.uMatrix._location,!1,this._game.getActiveCamera().getMatrix()),this._flushLines(),this._flushRectangles()}}]),t}();e.a=c},function(t,e,n){"use strict";var r=n(22),i=n.n(r),a=n(0),o=n.n(a),s=n(28),u=n.n(s),c=n(1),l=n.n(c),f=n(29),h=n.n(f),d=n(35),p=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["attribute vec2 aVertexPosition;","attribute vec4 aVertexColorPosition;","uniform mat4 uMatrix;","uniform float uPointSize;","varying vec4 vColor;","void main(void) {","   vColor = aVertexColorPosition;","   gl_PointSize = uPointSize;","   gl_Position = uMatrix * vec4(aVertexPosition, 0.0, 1.0);","}"].join("\n"),fragment:["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"].join("\n"),uniforms:{uMatrix:{type:"mat4",value:new Float32Array(16)},uPointSize:{type:"1i",value:2}},attributes:{aVertexPosition:-1,aVertexColorPosition:-1}}}}]),e}(d.a);e.a=p},function(t,e,n){"use strict";var r=n(22),i=n.n(r),a=n(0),o=n.n(a),s=n(28),u=n.n(s),c=n(29),l=n.n(c),f=n(35),h={vertex:"\n    precision mediump float;\n\t  attribute vec2 aPos;\n\n\t  void main()\n\t  {\t\n      gl_Position = vec4(aPos, 0.0, 1.0);\n    }\n    ",fragment:"\n    precision mediump float;\n    uniform vec4 uColor;\n\n\t  void main()\n\t  {\n\t    gl_FragColor = uColor;\n\t  }\n    ",uniforms:{uColor:[0,0,0,1]},attributes:{aPos:0}},d=function(t){function e(){return o()(this,e),u()(this,(e.__proto__||i()(e)).call(this,h.vertex,h.fragment,h.uniforms,h.attributes))}return l()(e,t),e}(f.a);e.a=d},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(21),u=n(100),c=n(18),l=function(){function t(e,n,r){i()(this,t),this.stroke=e instanceof u.a?e:new u.a(s.a.fromRGBA(0,0,0,1),5),this._rawMaxOffset=n instanceof c.a?n:new c.a(10,10),this._offset=r instanceof c.a?r:new c.a(7,7)}return o()(t,[{key:"getStroke",value:function(){return this.stroke}},{key:"setStroke",value:function(t){t instanceof u.a&&(this.stroke=t)}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){if(!(t instanceof c.a))throw new Error("The given raw max drop shadow offset is invalid");this._offset=t}},{key:"getRawMaxOffset",value:function(){return this._rawMaxOffset}},{key:"setRawMaxOffset",value:function(t){if(!(t instanceof c.a))throw new Error("The given raw max drop shadow offset is invalid");this._rawMaxOffset=t}},{key:"objectify",value:function(){return{stroke:this.getStroke().objectify(),rawMaxOffset:this.getRawMaxOffset().objectify(),offset:this.getOffset().objectify()}}}],[{key:"restore",value:function(e){var n=new t;return n.setStroke(u.a.restore(e.stroke)),n.setRawMaxOffset(c.a.restore(e.rawMaxOffset)),n.setOffset(c.a.restore(e.offset)),n}}]),t}();e.a=l},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(){i()(this,t)}return o()(t,null,[{key:"measureCharacterWidth",value:function(t,e){if(!t||!e)return 0;var n=t.getScale();if(!n)return 0;var r=t.findCharID(e);return null===r?0:t.getFontDescription().chars[r].xadvance*n}},{key:"measureTextWidth",value:function(e,n){if(!e||!n||!e.getScale())return 0;for(var r=0,i=0,a=!1,o=0;o<n.length;o++){var s=n[o];!a&&r>0&&(i=e.getLetterSpacing(),a=!0);var u=t.measureCharacterWidth(e,s);u>0&&(r+=u+i)}return r}},{key:"wrapWordsShortVersion",value:function(e,n,r){var i=[];if(!e||!n||!r||r<=0)return i;var a=n.split(" ");if(1==a.length)return a;for(var o=a.shift(),s=0;s<a.length;s++){var u=a[s],c=o+" "+u;t.measureTextWidth(e,c)>r?(i.push(o),o=u):o+=" "+u}return i.push(o),i}},{key:"wrapWordsLongVersion",value:function(e,n,r,i){var a=[];if(!e||!n||!r||r<=0)return a;for(var o=n.split(" "),s="",u=0,c="",l=0,f=!1,h=0;h<o.length;h++){var d=o[h];!f&&u>0&&(c=" ",l=t.measureCharacterWidth(e,c)+e.getLetterSpacing(),f=!0);var p=t.measureTextWidth(e,d);if(i&&p>r){var v=s+c+d,m=t.wrapTextByCharacter(e,v,r);s=m.splice(-1,1)[0].chars.join(""),u=t.measureTextWidth(e,s),c="",l=0,f=!1;for(var _=0;_<m.length;_++){var g=m[_].chars.join("");a.push(g)}}else{u+p+l>r?(a.push(s),s=d,u=p,c="",l=0,f=!1):(s+=c+d,u+=l+p)}}return a.push(s),a}},{key:"wrapTextByCharacter",value:function(e,n,r){var i=[];if(!e||!n||!r||r<=0)return i;i.push({chars:[],width:0});for(var a=0,o=!1,s=0;s<n.length;s++){var u=n[s],c=i.length-1;!o&&i[c].width>0&&(a=e.getLetterSpacing(),o=!0);var l=t.measureCharacterWidth(e,u);i[c].width+l+a>r&&(i.push({chars:[],width:0}),c++,a=0,o=!1," "===u)||(i[c].width+=l+a,i[c].chars.push(u))}return i}},{key:"convertTextStringToLineFormat",value:function(e,n){var r={chars:Array(),width:0};return e&&n&&e.getScale()?(r.chars=n.split(""),r.width=t.measureTextWidth(e,n),r):r}},{key:"measureText",value:function(e,n,r,i,a){var o=[];if(!(e&&n&&r&&e.getScale()))return o;o.push({chars:[],width:0});var s=n,u=[];if(i){var c="";u=s.split(/(?:\r\n|\r|\n)/);for(var l=0;l<u.length;l++){var f=t.wrapWordsLongVersion(e,u[l],r,a).join("\n");f+="\n",c+=f}s=c}u=s.split(/(?:\r\n|\r|\n)/);for(var h=0;h<u.length;h++){var d=u[h],p=[];!i&&a?p=t.wrapTextByCharacter(e,d,r):p.push(t.convertTextStringToLineFormat(e,d)),Array.prototype.push.apply(o,p)}return o}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(37),h=n(97),d=n(159),p=n(98),v=n(99),m=n(160),_=n(161),g=n.n(_),y=n(162),x=n.n(y),b=n(163),w=n.n(b),k=function(){function t(){u()(this,t)}return l()(t,null,[{key:"isExtensionSupported",value:function(t){return d.a.includes(t)}},{key:"validateFont",value:function(){function e(t,e,r,i,a){return n.apply(this,arguments)}var n=o()(i.a.mark(function e(n,r,a,o,s){var u,c,l,f,d,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=h.a.getBasename(n),c=h.a.getFileExtension(u),!(u.length<=0)&&t.isExtensionSupported(c)){e.next=4;break}return e.abrupt("return",null);case 4:return l=n.substring(0,n.length-c.length),f=l+".png",d=l+".json",e.next=9,t.textureAndSpecExist(f,d,r);case 9:if(p=e.sent,e.t0=p,e.t0){e.next=15;break}return e.next=14,m.a.tryToGenerateAsync(n,a,o,s);case 14:e.t0=e.sent;case 15:if(!e.t0){e.next=19;break}return e.abrupt("return",{imagePath:f,specPath:d});case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"textureAndSpecExist",value:function(){function t(t,n,r){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e,n,r){var a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.fileExistsAsync(e);case 2:return a=t.sent,t.next=5,r.fileExistsAsync(n);case 5:return o=t.sent,t.abrupt("return",a&&o);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadFontAsync",value:function(){function e(t){return n.apply(this,arguments)}var n=o()(i.a.mark(function e(n){var r,a,o,s,u,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a||function(){return!0},d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.a?w()(x.a.writeFile):function(){return!0},_=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m.a.BMFontOptions;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.validateFont(n,l,_,h,d);case 2:if(null!==(r=e.sent)&&r.imagePath&&r.specPath){e.next=5;break}return e.abrupt("return",null);case 5:return a=r.imagePath,o=r.specPath,e.next=9,l.loadImage(a,a);case 9:return s=e.sent,e.next=12,l.loadFile(o,o);case 12:if(u=e.sent,!1!==s&&!1!==u){e.next=15;break}return e.abrupt("return",null);case 15:if(null!==(c=v.a.parse(u))){e.next=18;break}return e.abrupt("return",null);case 18:return e.abrupt("return",new p.a(c,o,s));case 19:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=k},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=[".ttf",".woff",".otf"]},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(84),o=n.n(a),s=n(10),u=n.n(s),c=n(0),l=n.n(c),f=n(1),h=n.n(f),d=n(11),p=n(152),v=n.n(p),m=n(161),_=n.n(m),g=n(162),y=n.n(g),x=n(163),b=n.n(x),w=n(27),k=function(){function t(){l()(this,t)}return h()(t,null,[{key:"_writeTextures",value:function(){function t(t,n){return e.apply(this,arguments)}var e=u()(i.a.mark(function t(e,n){var r=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.all(e.map(function(){var t=u()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e.filename+".png",e.texture);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,r)}));return function(e){return t.apply(this,arguments)}}()));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"_writeBMFontSpecFiles",value:function(){function e(t,e,r){return n.apply(this,arguments)}var n=u()(i.a.mark(function e(n,r,a){var s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t._writeTextures(n,a),u=a(r.filename,r.data),e.next=4,o.a.all([s,u]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_generateAsync",value:function(){function e(t,e,r,i){return n.apply(this,arguments)}var n=u()(i.a.mark(function e(n,r,a,s){var c=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new o.a(function(e,o){a(n,r,function(){var n=u()(i.a.mark(function n(r,a,u){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r&&o(r),n.prev=1,n.next=4,t._writeBMFontSpecFiles(a,u,s);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),o(n.t0);case 9:e(!0);case 10:case"end":return n.stop()}},n,c,[[1,6]])}));return function(t,e,r){return n.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"tryToGenerateAsync",value:function(){function e(t,e){return n.apply(this,arguments)}var n=u()(i.a.mark(function e(n,r){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.a||function(){return!0},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.a?b()(y.a.writeFile):function(){return!0};return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.a.isElectron()){e.next=3;break}return console.warn("BMFont Generator cannot be used in the browser. Use through node instead."),e.abrupt("return",null);case 3:return a=v.a.join(d.a._activeProjectPath,n),e.prev=4,e.next=7,t._generateAsync(a,r,o,s);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),console.error(new Error("Could not create BMFont Spec and Texture files.\nDetails: "+e.t0.message)),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,this,[[4,10]])}));return e}()},{key:"BMFontOptions",get:function(){return{outputType:"json",distanceRange:10,smartSize:!0,pot:!0,fontSize:50,texturePadding:8}}}]),t}();e.a=k},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_161__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_162__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_163__},function(t,e,n){"use strict";var r=n(22),i=n.n(r),a=n(0),o=n.n(a),s=n(28),u=n.n(s),c=n(1),l=n.n(c),f=n(29),h=n.n(f),d=n(35),p=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["attribute vec2 aPos;","attribute vec2 aTexCoord;","uniform mat4 uMatrix;","uniform mat4 uTransform;","uniform vec2 uTexSize;","varying vec2 vTexCoord;","void main() {","   gl_Position = uMatrix * uTransform * vec4(aPos, 0, 1);","   vTexCoord = aTexCoord / uTexSize;","}"].join("\n"),fragment:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","precision highp float;","uniform vec2 uTexSize;","uniform sampler2D uTexture;","uniform vec4 uColor;","uniform float uGamma;","uniform float uOutlineDistance;","uniform vec4 uOutlineColor;","uniform vec4 uDropShadowColor;","uniform float uDropShadowSmoothing;","uniform vec2 uDropShadowOffset;","uniform float uDebug;","uniform float uDropShadow;","uniform float uOutline;","varying vec2 vTexCoord;","float median(float r, float g, float b) {"," return max(min(r, g), min(max(r, g), b));","}","void main() {"," vec2 msdfUnit = 10.0/uTexSize;"," vec3 sample = texture2D(uTexture, vTexCoord).rgb;"," float sigDist = median(sample.r, sample.g, sample.b) - 0.5 - uGamma;"," sigDist = uOutline > 0.0 ? sigDist + uOutlineDistance : sigDist;"," sigDist *= dot(msdfUnit, 0.5/fwidth(vTexCoord));"," vec4 finalColor = uColor;"," if (uDebug > 0.0) {","   gl_FragColor = vec4(sigDist, sigDist, sigDist, 1);","   return;"," }"," if (uOutline > 0.0) {","   float outlineFactor = smoothstep(0.5 - uGamma, 0.5 + uGamma, median(sample.r, sample.g, sample.b));","   vec4 color = mix(uOutlineColor, uColor, outlineFactor);","   float alpha = clamp(sigDist + 0.5 + uGamma - uOutlineDistance, 0.0, 1.0);","   finalColor = mix(vec4(29.0/255.0, 25.0/255.0, 35.0/255.0, 0.0), color, alpha);"," } else {","   float alpha = clamp(sigDist + 0.5 + uGamma, 0.0, 1.0);","   finalColor = mix(vec4(29.0/255.0, 25.0/255.0, 35.0/255.0, 0.0), uColor, alpha);"," }"," if (uDropShadow > 0.0) {","   vec3 shadowDistance = texture2D(uTexture, vTexCoord - uDropShadowOffset).rgb;","   float shadowAlpha = smoothstep(0.5 - uDropShadowSmoothing, 0.5 + uDropShadowSmoothing, median(shadowDistance.r, shadowDistance.g, shadowDistance.b));","   vec4 shadow = vec4(uDropShadowColor.rgb, uDropShadowColor.a * shadowAlpha);","   gl_FragColor = mix(shadow, finalColor, finalColor.a);","   return;"," }"," gl_FragColor = finalColor;","}"].join("\n"),uniforms:{uMatrix:{type:"mat4",value:new Float32Array(16)},uTransform:{type:"mat4",value:new Float32Array(16)},uTexture:{type:"tex",value:0},uTexSize:{type:"1i",value:24},uColor:[1,0,0,1],uOutlineColor:[1,1,1,1],uDropShadowColor:[0,0,0,1],uDropShadowSmoothing:{type:"1i",value:0},uDropShadowOffset:[0,0],uOutlineDistance:{type:"1i",value:0},uGamma:{type:"1i",value:0},uDebug:{type:"1i",value:1},uDropShadow:{type:"1i",value:1},uOutline:{type:"1i",value:1}},attributes:{aPos:0,aTexCoord:0}}}}]),e}(d.a);e.a=p},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),this.gamepadInfo=e}return o()(t,[{key:"isButtonPressed",value:function(t){return this.gamepadInfo.buttons[t]&&this.gamepadInfo.buttons[t].pressed}},{key:"getButtonValue",value:function(t){return this.gamepadInfo.buttons[t]?this.gamepadInfo.buttons[t].value:0}},{key:"getAxisValue",value:function(t){return this.gamepadInfo.axes[t]?this.gamepadInfo.axes[t]:0}}]),t}();e.a=s},function(t,e,n){n(50),t.exports=n(173)},function(t,e,n){var r={};t.exports=r;var i=n(12),a=n(66),o=n(13),s=n(68),u=n(23);!function(){r.ray=function(t,e,n,r){r=r||1e-100;for(var u=i.angle(e,n),c=i.magnitude(i.sub(e,n)),l=.5*(n.x+e.x),f=.5*(n.y+e.y),h=s.rectangle(l,f,c,r,{angle:u}),d=[],p=0;p<t.length;p++){var v=t[p];if(o.overlaps(v.bounds,h.bounds))for(var m=1===v.parts.length?0:1;m<v.parts.length;m++){var _=v.parts[m];if(o.overlaps(_.bounds,h.bounds)){var g=a.collides(_,h);if(g.collided){g.body=g.bodyA=g.bodyB=v,d.push(g);break}}}}return d},r.region=function(t,e,n){for(var r=[],i=0;i<t.length;i++){var a=t[i],s=o.overlaps(a.bounds,e);(s&&!n||!s&&n)&&r.push(a)}return r},r.point=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(o.contains(i.bounds,e))for(var a=1===i.parts.length?0:1;a<i.parts.length;a++){var s=i.parts[a];if(o.contains(s.bounds,e)&&u.contains(s.vertices,e)){n.push(i);break}}}return n}}()},function(t,e,n){var r={};t.exports=r;var i=n(23),a=n(40),o=n(105),s=n(30),u=n(65),c=n(41),l=n(24),f=n(3),h=n(13);!function(){r.create=function(e,n){var i=(e?e.mouse:null)||(n?n.mouse:null);i||(e&&e.render&&e.render.canvas?i=o.create(e.render.canvas):n&&n.element?i=o.create(n.element):(i=o.create(),f.log("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected","warn")));var a=c.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),u={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:a,collisionFilter:{category:1,mask:4294967295,group:0}},h=f.extend(u,n);return s.on(e,"tick",function(){var n=l.allBodies(e.world);r.update(h,n),t(h)}),h},r.update=function(t,e){var n=t.mouse,r=t.constraint,o=t.body;if(0===n.button){if(r.bodyB)a.set(r.bodyB,!1),r.pointA=n.position;else for(var c=0;c<e.length;c++)if(o=e[c],h.contains(o.bounds,n.position)&&u.canCollide(o.collisionFilter,t.collisionFilter))for(var l=o.parts.length>1?1:0;l<o.parts.length;l++){var f=o.parts[l];if(i.contains(f.vertices,n.position)){r.pointA=n.position,r.bodyB=t.body=o,r.pointB={x:n.position.x-o.position.x,y:n.position.y-o.position.y},r.angleB=o.angle,a.set(o,!1),s.trigger(t,"startdrag",{mouse:n,body:o});break}}}else r.bodyB=t.body=null,r.pointB=null,o&&s.trigger(t,"enddrag",{mouse:n,body:o})};var t=function(t){var e=t.mouse,n=e.sourceEvents;n.mousemove&&s.trigger(t,"mousemove",{mouse:e}),n.mousedown&&s.trigger(t,"mousedown",{mouse:e}),n.mouseup&&s.trigger(t,"mouseup",{mouse:e}),o.clearSourceEvents(e)}}()},function(t,e,n){var r={};t.exports=r;var i=n(30),a=n(106),o=n(3);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(o.now())},1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(t){var e={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},n=o.extend(e,t);return n.delta=n.delta||1e3/n.fps,n.deltaMin=n.deltaMin||1e3/n.fps,n.deltaMax=n.deltaMax||1e3/(.5*n.fps),n.fps=1e3/n.delta,n},r.run=function(e,n){return void 0!==e.positionIterations&&(n=e,e=r.create()),function i(a){e.frameRequestId=t(i),a&&e.enabled&&r.tick(e,n,a)}(),e},r.tick=function(t,e,n){var r,o=e.timing,s=1,u={timestamp:o.timestamp};i.trigger(t,"beforeTick",u),i.trigger(e,"beforeTick",u),t.isFixed?r=t.delta:(r=n-t.timePrev||t.delta,t.timePrev=n,t.deltaHistory.push(r),t.deltaHistory=t.deltaHistory.slice(-t.deltaSampleSize),r=Math.min.apply(null,t.deltaHistory),r=r<t.deltaMin?t.deltaMin:r,r=r>t.deltaMax?t.deltaMax:r,s=r/t.delta,t.delta=r),0!==t.timeScalePrev&&(s*=o.timeScale/t.timeScalePrev),0===o.timeScale&&(s=0),t.timeScalePrev=o.timeScale,t.correction=s,t.frameCounter+=1,n-t.counterTimestamp>=1e3&&(t.fps=t.frameCounter*((n-t.counterTimestamp)/1e3),t.counterTimestamp=n,t.frameCounter=0),i.trigger(t,"tick",u),i.trigger(e,"tick",u),e.world.isModified&&e.render&&e.render.controller&&e.render.controller.clear&&e.render.controller.clear(e.render),i.trigger(t,"beforeUpdate",u),a.update(e,r,s),i.trigger(t,"afterUpdate",u),e.render&&e.render.controller&&(i.trigger(t,"beforeRender",u),i.trigger(e,"beforeRender",u),e.render.controller.world(e.render),i.trigger(t,"afterRender",u),i.trigger(e,"afterRender",u)),i.trigger(t,"afterTick",u),i.trigger(e,"afterTick",u)},r.stop=function(t){e(t.frameRequestId)},r.start=function(t,e){r.run(t,e)}}()},function(t,e,n){var r={};t.exports=r;var i=n(24),a=n(41),o=n(3),s=n(39),u=n(68);!function(){r.stack=function(t,e,n,r,a,o,u){for(var c,l=i.create({label:"Stack"}),f=t,h=e,d=0,p=0;p<r;p++){for(var v=0,m=0;m<n;m++){var _=u(f,h,m,p,c,d);if(_){var g=_.bounds.max.y-_.bounds.min.y,y=_.bounds.max.x-_.bounds.min.x;g>v&&(v=g),s.translate(_,{x:.5*y,y:.5*g}),f=_.bounds.max.x+a,i.addBody(l,_),c=_,d+=1}else f+=a}h+=v+o,f=t}return l},r.chain=function(t,e,n,r,s,u){for(var c=t.bodies,l=1;l<c.length;l++){var f=c[l-1],h=c[l],d=f.bounds.max.y-f.bounds.min.y,p=f.bounds.max.x-f.bounds.min.x,v=h.bounds.max.y-h.bounds.min.y,m=h.bounds.max.x-h.bounds.min.x,_={bodyA:f,pointA:{x:p*e,y:d*n},bodyB:h,pointB:{x:m*r,y:v*s}},g=o.extend(_,u);i.addConstraint(t,a.create(g))}return t.label+=" Chain",t},r.mesh=function(t,e,n,r,s){var u,c,l,f,h,d=t.bodies;for(u=0;u<n;u++){for(c=1;c<e;c++)l=d[c-1+u*e],f=d[c+u*e],i.addConstraint(t,a.create(o.extend({bodyA:l,bodyB:f},s)));if(u>0)for(c=0;c<e;c++)l=d[c+(u-1)*e],f=d[c+u*e],i.addConstraint(t,a.create(o.extend({bodyA:l,bodyB:f},s))),r&&c>0&&(h=d[c-1+(u-1)*e],i.addConstraint(t,a.create(o.extend({bodyA:h,bodyB:f},s)))),r&&c<e-1&&(h=d[c+1+(u-1)*e],i.addConstraint(t,a.create(o.extend({bodyA:h,bodyB:f},s))))}return t.label+=" Mesh",t},r.pyramid=function(t,e,n,i,a,o,u){return r.stack(t,e,n,i,a,o,function(e,r,o,c,l,f){var h=Math.min(i,Math.ceil(n/2)),d=l?l.bounds.max.x-l.bounds.min.x:0;if(!(c>h)){c=h-c;var p=c,v=n-1-c;if(!(o<p||o>v)){1===f&&s.translate(l,{x:(o+(n%2==1?1:-1))*d,y:0});return u(t+(l?o*d:0)+o*a,r,o,c,l,f)}}})},r.newtonsCradle=function(t,e,n,r,o){for(var s=i.create({label:"Newtons Cradle"}),c=0;c<n;c++){var l=u.circle(t+c*(1.9*r),e+o,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),f=a.create({pointA:{x:t+c*(1.9*r),y:e},bodyB:l});i.addBody(s,l),i.addConstraint(s,f)}return s},r.car=function(t,e,n,r,o){var c=s.nextGroup(!0),l=.5*-n-20,f=.5*n- -20,h=i.create({label:"Car"}),d=u.trapezoid(t,e,n,r,.3,{collisionFilter:{group:c},friction:.01,chamfer:{radius:10}}),p=u.circle(t+l,e+0,o,{collisionFilter:{group:c},friction:.8,density:.01}),v=u.circle(t+f,e+0,o,{collisionFilter:{group:c},friction:.8,density:.01}),m=a.create({bodyA:d,pointA:{x:l,y:0},bodyB:p,stiffness:.2}),_=a.create({bodyA:d,pointA:{x:f,y:0},bodyB:v,stiffness:.2});return i.addBody(h,d),i.addBody(h,p),i.addBody(h,v),i.addConstraint(h,m),i.addConstraint(h,_),h},r.softBody=function(t,e,n,i,a,s,c,l,f,h){f=o.extend({inertia:1/0},f),h=o.extend({stiffness:.4},h);var d=r.stack(t,e,n,i,a,s,function(t,e){return u.circle(t,e,l,f)});return r.mesh(d,n,i,c,h),d.label="Soft Body",d}}()},function(t,e,n){var r={};t.exports=r;n(13);!function(){r.pathToVertices=function(e,n){var r,i,a,o,s,u,c,l,f,h,d,p,v=[],m=0,_=0,g=0;n=n||15;var y=function(t,e,n){var r=n%2==1&&n>1;if(!f||t!=f.x||e!=f.y){f&&r?(d=f.x,p=f.y):(d=0,p=0);var i={x:d+t,y:p+e};!r&&f||(f=i),v.push(i),_=d+t,g=p+e}},x=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":_=t.x,g=t.y;break;case"H":_=t.x;break;case"V":g=t.y}y(_,g,t.pathSegType)}};for(t(e),a=e.getTotalLength(),u=[],r=0;r<e.pathSegList.numberOfItems;r+=1)u.push(e.pathSegList.getItem(r));for(c=u.concat();m<a;){if(h=e.getPathSegAtLength(m),(s=u[h])!=l){for(;c.length&&c[0]!=s;)x(c.shift());l=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=e.getPointAtLength(m),y(o.x,o.y,0)}m+=n}for(r=0,i=c.length;r<i;++r)x(c[r]);return v};var t=function(t){for(var e,n,r,i,a,o,s=t.pathSegList,u=0,c=0,l=s.numberOfItems,f=0;f<l;++f){var h=s.getItem(f),d=h.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in h&&(u=h.x),"y"in h&&(c=h.y);else switch("x1"in h&&(r=u+h.x1),"x2"in h&&(a=u+h.x2),"y1"in h&&(i=c+h.y1),"y2"in h&&(o=c+h.y2),"x"in h&&(u+=h.x),"y"in h&&(c+=h.y),d){case"m":s.replaceItem(t.createSVGPathSegMovetoAbs(u,c),f);break;case"l":s.replaceItem(t.createSVGPathSegLinetoAbs(u,c),f);break;case"h":s.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(u),f);break;case"v":s.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),f);break;case"c":s.replaceItem(t.createSVGPathSegCurvetoCubicAbs(u,c,r,i,a,o),f);break;case"s":s.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(u,c,a,o),f);break;case"q":s.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(u,c,r,i),f);break;case"t":s.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(u,c),f);break;case"a":s.replaceItem(t.createSVGPathSegArcAbs(u,c,h.r1,h.r2,h.angle,h.largeArcFlag,h.sweepFlag),f);break;case"z":case"Z":u=e,c=n}"M"!=d&&"m"!=d||(e=u,n=c)}}}()},function(t,e,n){var r={};t.exports=r;var i=n(24),a=n(3);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(a.now())},1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(t){a.log("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)","warn");var e={controller:r,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=a.extend(e,t),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:t.background},n.mouse=t.mouse,n.engine=t.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),a.isElement(n.element)?n.element.appendChild(n.canvas):a.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},r.run=function(e){!function n(i){e.frameRequestId=t(n),r.world(e)}()},r.stop=function(t){e(t.frameRequestId)},r.clear=function(t){for(var e=t.container,n=t.spriteContainer;e.children[0];)e.removeChild(e.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var r=t.sprites["bg-0"];t.textures={},t.sprites={},t.primitives={},t.sprites["bg-0"]=r,r&&e.addChildAt(r,0),t.container.addChild(t.spriteContainer),t.currentBackground=null,e.scale.set(1,1),e.position.set(0,0)},r.setBackground=function(t,e){if(t.currentBackground!==e){var n=e.indexOf&&-1!==e.indexOf("#"),r=t.sprites["bg-0"];if(n){var i=a.colorToNumber(e);t.renderer.backgroundColor=i,r&&t.container.removeChild(r)}else if(!r){var o=s(t,e);r=t.sprites["bg-0"]=new PIXI.Sprite(o),r.position.x=0,r.position.y=0,t.container.addChildAt(r,0)}t.currentBackground=e}},r.world=function(t){var e,n=t.engine,a=n.world,o=t.renderer,s=t.container,u=t.options,c=i.allBodies(a),l=i.allConstraints(a),f=[];u.wireframes?r.setBackground(t,u.wireframeBackground):r.setBackground(t,u.background);var h=t.bounds.max.x-t.bounds.min.x,d=t.bounds.max.y-t.bounds.min.y,p=h/t.options.width,v=d/t.options.height;if(u.hasBounds){for(e=0;e<c.length;e++){var m=c[e];m.render.sprite.visible=Bounds.overlaps(m.bounds,t.bounds)}for(e=0;e<l.length;e++){var _=l[e],g=_.bodyA,y=_.bodyB,x=_.pointA,b=_.pointB;g&&(x=Vector.add(g.position,_.pointA)),y&&(b=Vector.add(y.position,_.pointB)),x&&b&&((Bounds.contains(t.bounds,x)||Bounds.contains(t.bounds,b))&&f.push(_))}s.scale.set(1/p,1/v),s.position.set(-t.bounds.min.x*(1/p),-t.bounds.min.y*(1/v))}else f=l;for(e=0;e<c.length;e++)r.body(t,c[e]);for(e=0;e<f.length;e++)r.constraint(t,f[e]);o.render(s)},r.constraint=function(t,e){var n=(t.engine,e.bodyA),r=e.bodyB,i=e.pointA,o=e.pointB,s=t.container,u=e.render,c="c-"+e.id,l=t.primitives[c];if(l||(l=t.primitives[c]=new PIXI.Graphics),!u.visible||!e.pointA||!e.pointB)return void l.clear();-1===a.indexOf(s.children,l)&&s.addChild(l),l.clear(),l.beginFill(0,0),l.lineStyle(u.lineWidth,a.colorToNumber(u.strokeStyle),1),n?l.moveTo(n.position.x+i.x,n.position.y+i.y):l.moveTo(i.x,i.y),r?l.lineTo(r.position.x+o.x,r.position.y+o.y):l.lineTo(o.x,o.y),l.endFill()},r.body=function(t,e){var r=(t.engine,e.render);if(r.visible)if(r.sprite&&r.sprite.texture){var i="b-"+e.id,s=t.sprites[i],u=t.spriteContainer;s||(s=t.sprites[i]=n(t,e)),-1===a.indexOf(u.children,s)&&u.addChild(s),s.position.x=e.position.x,s.position.y=e.position.y,s.rotation=e.angle,s.scale.x=r.sprite.xScale||1,s.scale.y=r.sprite.yScale||1}else{var c="b-"+e.id,l=t.primitives[c],f=t.container;l||(l=t.primitives[c]=o(t,e),l.initialAngle=e.angle),-1===a.indexOf(f.children,l)&&f.addChild(l),l.position.x=e.position.x,l.position.y=e.position.y,l.rotation=e.angle-l.initialAngle}};var n=function(t,e){var n=e.render,r=n.sprite.texture,i=s(t,r),a=new PIXI.Sprite(i);return a.anchor.x=e.render.sprite.xOffset,a.anchor.y=e.render.sprite.yOffset,a},o=function(t,e){var n,r=e.render,i=t.options,o=new PIXI.Graphics,s=a.colorToNumber(r.fillStyle),u=a.colorToNumber(r.strokeStyle),c=a.colorToNumber(r.strokeStyle),l=a.colorToNumber("#bbb"),f=a.colorToNumber("#CD5C5C");o.clear();for(var h=e.parts.length>1?1:0;h<e.parts.length;h++){n=e.parts[h],i.wireframes?(o.beginFill(0,0),o.lineStyle(1,l,1)):(o.beginFill(s,1),o.lineStyle(r.lineWidth,u,1)),o.moveTo(n.vertices[0].x-e.position.x,n.vertices[0].y-e.position.y);for(var d=1;d<n.vertices.length;d++)o.lineTo(n.vertices[d].x-e.position.x,n.vertices[d].y-e.position.y);o.lineTo(n.vertices[0].x-e.position.x,n.vertices[0].y-e.position.y),o.endFill(),(i.showAngleIndicator||i.showAxes)&&(o.beginFill(0,0),i.wireframes?o.lineStyle(1,f,1):o.lineStyle(1,c),o.moveTo(n.position.x-e.position.x,n.position.y-e.position.y),o.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-e.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-e.position.y),o.endFill())}return o},s=function(t,e){var n=t.textures[e];return n||(n=t.textures[e]=PIXI.Texture.fromImage(e)),n}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"XPTO",function(){return v});var r=n(19),i=n.n(r),a=n(183);n.d(e,"AttributeDictionary",function(){return a.a}),n.d(e,"CallbackResponse",function(){return a.c}),n.d(e,"CONSTANTS",function(){return a.b}),n.d(e,"ContentLoader",function(){return a.d}),n.d(e,"EventManager",function(){return a.f}),n.d(e,"FileContext",function(){return a.g}),n.d(e,"Logger",function(){return a.h}),n.d(e,"Debug",function(){return a.e}),n.d(e,"SetterDictionary",function(){return a.i}),n.d(e,"isObjectAssigned",function(){return a.r}),n.d(e,"isString",function(){return a.s}),n.d(e,"isNumber",function(){return a.q}),n.d(e,"isFunction",function(){return a.p}),n.d(e,"inheritsFrom",function(){return a.n}),n.d(e,"generateUID",function(){return a.k}),n.d(e,"splitCamelCase",function(){return a.t}),n.d(e,"capitalize",function(){return a.j}),n.d(e,"getType",function(){return a.l}),n.d(e,"isEqual",function(){return a.o}),n.d(e,"indexOfArray",function(){return a.m});var o=n(265);n.d(e,"RigidBody",function(){return o.a});var s=n(282);n.d(e,"ContentObject",function(){return s.a}),n.d(e,"ProjectFile",function(){return s.b}),n.d(e,"TextureAtlas",function(){return s.c}),n.d(e,"WorkspaceFile",function(){return s.d});var u=n(287);n.d(e,"Camera2D",function(){return u.a}),n.d(e,"Color",function(){return u.b}),n.d(e,"FontStyle",function(){return u.d}),n.d(e,"Game",function(){return u.e}),n.d(e,"GameManager",function(){return u.f}),n.d(e,"GameObject",function(){return u.g}),n.d(e,"GameScene",function(){return u.h}),n.d(e,"PrimitiveBatch",function(){return u.j}),n.d(e,"Geometry",function(){return u.i}),n.d(e,"Script",function(){return u.k}),n.d(e,"Scripts",function(){return u.l}),n.d(e,"addScript",function(){return u.u}),n.d(e,"assignScript",function(){return u.v}),n.d(e,"Sound",function(){return u.m}),n.d(e,"Sprite",function(){return u.n}),n.d(e,"SpriteBatch",function(){return u.o}),n.d(e,"Stroke",function(){return u.p}),n.d(e,"Dropshadow",function(){return u.c}),n.d(e,"Text",function(){return u.q}),n.d(e,"Texture2D",function(){return u.r}),n.d(e,"Transform",function(){return u.s}),n.d(e,"WrapMode",function(){return u.t});var c=n(297);n.d(e,"GridExtension",function(){return c.a});var l=n(299);n.d(e,"KeyboardState",function(){return l.d}),n.d(e,"Keyboard",function(){return l.c}),n.d(e,"Keys",function(){return l.e}),n.d(e,"GamepadState",function(){return l.b}),n.d(e,"Gamepad",function(){return l.a});var f=n(301);n.d(e,"Boundary",function(){return f.a}),n.d(e,"MathHelper",function(){return f.b}),n.d(e,"Matrix3",function(){return f.c}),n.d(e,"Matrix4",function(){return f.d}),n.d(e,"Ray",function(){return f.e}),n.d(e,"Rectangle",function(){return f.f}),n.d(e,"Vector2",function(){return f.g}),n.d(e,"Vector3",function(){return f.h}),n.d(e,"Vector4",function(){return f.i});var h=n(306);n.d(e,"Shader",function(){return h.d}),n.d(e,"PrimitiveShader",function(){return h.c}),n.d(e,"ShaderManager",function(){return h.e}),n.d(e,"BasicShader",function(){return h.a}),n.d(e,"TextShader",function(){return h.f}),n.d(e,"MSDFTextShader",function(){return h.b}),n.d(e,"TextureShader",function(){return h.g});var d=n(308);n.d(e,"Objectify",function(){return d.e}),n.d(e,"Path",function(){return d.f}),n.d(e,"Utils",function(){return d.h}),n.d(e,"TextMetrics",function(){return d.g}),n.d(e,"BMFontParser",function(){return d.b}),n.d(e,"FontLoader",function(){return d.c}),n.d(e,"FontSupportedTypes",function(){return d.d}),n.d(e,"BMFontGenerator",function(){return d.a});var p=n(309);n.d(e,"WebGLContext",function(){return p.b}),n.d(e,"WebGLUtils",function(){return p.c}),n.d(e,"GLU",function(){return p.a});var v=i()("#########!232131232")},function(t,e,n){n(175),n(82),n(181),n(182),t.exports=n(4).Symbol},function(t,e,n){"use strict";var r=n(6),i=n(31),a=n(14),o=n(7),s=n(109),u=n(71).KEY,c=n(36),l=n(72),f=n(43),h=n(53),d=n(5),p=n(73),v=n(74),m=n(176),_=n(113),g=n(16),y=n(32),x=n(70),b=n(52),w=n(56),k=n(180),S=n(81),A=n(15),C=n(55),E=S.f,P=A.f,T=k.f,D=r.Symbol,O=r.JSON,R=O&&O.stringify,M=d("_hidden"),I=d("toPrimitive"),B={}.propertyIsEnumerable,j=l("symbol-registry"),L=l("symbols"),F=l("op-symbols"),G=Object.prototype,N="function"==typeof D,W=r.QObject,U=!W||!W.prototype||!W.prototype.findChild,z=a&&c(function(){return 7!=w(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=E(G,e);r&&delete G[e],P(t,e,n),r&&t!==G&&P(G,e,r)}:P,V=function(t){var e=L[t]=w(D.prototype);return e._k=t,e},q=N&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},H=function(t,e,n){return t===G&&H(F,e,n),g(t),e=x(e,!0),g(n),i(L,e)?(n.enumerable?(i(t,M)&&t[M][e]&&(t[M][e]=!1),n=w(n,{enumerable:b(0,!1)})):(i(t,M)||P(t,M,b(1,{})),t[M][e]=!0),z(t,e,n)):P(t,e,n)},K=function(t,e){g(t);for(var n,r=m(e=y(e)),i=0,a=r.length;a>i;)H(t,n=r[i++],e[n]);return t},X=function(t,e){return void 0===e?w(t):K(w(t),e)},Y=function(t){var e=B.call(this,t=x(t,!0));return!(this===G&&i(L,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(L,t)||i(this,M)&&this[M][t])||e)},J=function(t,e){if(t=y(t),e=x(e,!0),t!==G||!i(L,e)||i(F,e)){var n=E(t,e);return!n||!i(L,e)||i(t,M)&&t[M][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=T(y(t)),r=[],a=0;n.length>a;)i(L,e=n[a++])||e==M||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===G,r=T(n?F:y(t)),a=[],o=0;r.length>o;)!i(L,e=r[o++])||n&&!i(G,e)||a.push(L[e]);return a};N||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(F,n),i(this,M)&&i(this[M],t)&&(this[M][t]=!1),z(this,t,b(1,n))};return a&&U&&z(G,t,{configurable:!0,set:e}),V(t)},s(D.prototype,"toString",function(){return this._k}),S.f=J,A.f=H,n(115).f=k.f=Z,n(80).f=Y,n(112).f=Q,a&&!n(54)&&s(G,"propertyIsEnumerable",Y,!0),p.f=function(t){return V(d(t))}),o(o.G+o.W+o.F*!N,{Symbol:D});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)d($[tt++]);for(var et=C(d.store),nt=0;et.length>nt;)v(et[nt++]);o(o.S+o.F*!N,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=D(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!N,"Object",{create:X,defineProperty:H,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),O&&o(o.S+o.F*(!N||c(function(){var t=D();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&_(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,R.apply(O,r)}}}),D.prototype[I]||n(26)(D.prototype,I,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(55),i=n(112),a=n(80);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var o,s=n(t),u=a.f,c=0;s.length>c;)u.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,n){var r=n(32),i=n(76),a=n(178);t.exports=function(t){return function(e,n,o){var s,u=r(e),c=i(u.length),l=a(o,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(77),i=Math.max,a=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):a(t,e)}},function(t,e,n){var r=n(15),i=n(16),a=n(55);t.exports=n(14)?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),s=o.length,u=0;s>u;)r.f(t,n=o[u++],e[n]);return t}},function(t,e,n){var r=n(32),i=n(115).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):i(r(t))}},function(t,e,n){n(74)("asyncIterator")},function(t,e,n){n(74)("observable")},function(t,e,n){"use strict";var r=n(33);n.d(e,"a",function(){return r.a});var i=n(209);n.d(e,"c",function(){return i.a});var a=n(45);n.d(e,"b",function(){return a.a});var o=n(37);n.d(e,"d",function(){return o.a});var s=n(89);n.d(e,"f",function(){return s.a});var u=n(59);n.d(e,"g",function(){return u.a});var c=n(20);n.d(e,"h",function(){return c.b}),n.d(e,"e",function(){return c.a});var l=n(34);n.d(e,"i",function(){return l.a});var f=n(2);n.d(e,"j",function(){return f.a}),n.d(e,"k",function(){return f.b}),n.d(e,"l",function(){return f.c}),n.d(e,"m",function(){return f.d}),n.d(e,"n",function(){return f.e}),n.d(e,"o",function(){return f.f}),n.d(e,"p",function(){return f.g}),n.d(e,"q",function(){return f.h}),n.d(e,"r",function(){return f.i}),n.d(e,"s",function(){return f.j}),n.d(e,"t",function(){return f.k})},function(t,e,n){t.exports={default:n(185),__esModule:!0}},function(t,e,n){n(186);var r=n(4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(7);r(r.S+r.F*!n(14),"Object",{defineProperty:n(15).f})},function(t,e,n){n(188);var r=n(4).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(7);r(r.S,"Object",{create:n(56)})},function(t,e,n){var r=n(190),i=n(118),a=r(function(t,e,n){return t+(n?" ":"")+i(e)});t.exports=a},function(t,e,n){function r(t){return function(e){return i(o(a(e).replace(s,"")),t,"")}}var i=n(191),a=n(192),o=n(193),s=RegExp("[']","g");t.exports=r},function(t,e){function n(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){return t=o(t),e=n?void 0:e,void 0===e?a(t)?s(t):i(t):t.match(e)||[]}var i=n(194),a=n(195),o=n(117),s=n(196);t.exports=r},function(t,e){function n(t){return t.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=n},function(t,e){function n(t){return r.test(t)}var r=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=n},function(t,e){function n(t){return t.match(v)||[]}var r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+r+"]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+r+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[A-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:"+a+"|"+o+")",f="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,u].join("|")+")[\\ufe0e\\ufe0f]?"+f+")*",d="[\\ufe0e\\ufe0f]?"+f+h,p="(?:"+["[\\u2700-\\u27bf]",s,u].join("|")+")"+d,v=RegExp([c+"?"+a+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[i,c,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[i,c+l,"$"].join("|")+")",c+"?"+l+"+(?:['](?:d|ll|m|re|s|t|ve))?",c+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",p].join("|"),"g");t.exports=n},function(t,e,n){function r(t){return function(e){e=s(e);var n=a(e)?o(e):void 0,r=n?n[0]:e.charAt(0),u=n?i(n,1).join(""):e.slice(1);return r[t]()+u}}var i=n(198),a=n(119),o=n(200),s=n(117);t.exports=r},function(t,e,n){function r(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:i(t,e,n)}var i=n(199);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}t.exports=n},function(t,e,n){function r(t){return a(t)?o(t):i(t)}var i=n(201),a=n(119),o=n(202);t.exports=r},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t){return t.match(f)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,a,o,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");t.exports=n},function(t,e,n){function r(t){return"number"==typeof t||a(t)&&i(t)==o}var i=n(120),a=n(121),o="[object Number]";t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!a(t)&&o(t)&&i(t)==s}var i=n(120),a=n(205),o=n(121),s="[object String]";t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=null==n?0:a(n);return s<0&&(s=o(r+s,0)),i(t,e,s)}var i=n(207),a=n(208),o=Math.max;t.exports=r},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.success=e.success,this.data=e.data||{}}return o()(t,[{key:"isSuccessful",value:function(){return this.success}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(211),a=r(i),o=n(124),s=r(o);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=(0,s.default)(t);!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(212),__esModule:!0}},function(t,e,n){n(46),n(47),t.exports=n(217)},function(t,e,n){"use strict";var r=n(214),i=n(122),a=n(38),o=n(32);t.exports=n(83)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(56),i=n(52),a=n(43),o={};n(26)(o,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var r=n(77),i=n(75);t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},function(t,e,n){var r=n(58),i=n(5)("iterator"),a=n(38);t.exports=n(4).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(r(e))}},function(t,e,n){n(46),n(47),t.exports=n(219)},function(t,e,n){var r=n(16),i=n(125);t.exports=n(4).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){n(82),n(47),n(46),n(221),n(227),n(228),t.exports=n(4).Promise},function(t,e,n){"use strict";var r,i,a,o,s=n(54),u=n(6),c=n(25),l=n(58),f=n(7),h=n(17),d=n(42),p=n(85),v=n(48),m=n(126),_=n(127).set,g=n(225)(),y=n(86),x=n(128),b=n(129),w=u.TypeError,k=u.process,S=u.Promise,A="process"==l(k),C=function(){},E=i=y.f,P=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(C,C)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e}catch(t){}}(),T=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,i=1==t._s,a=0;n.length>a;)!function(e){var n,a,o=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{o?(i||(2==t._h&&M(t),t._h=1),!0===o?n=r:(c&&c.enter(),n=o(r),c&&c.exit()),n===e.promise?u(w("Promise-chain cycle")):(a=T(n))?a.call(n,s,u):s(n)):u(r)}catch(t){u(t)}}(n[a++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){_.call(u,function(){var e,n,r,i=t._v,a=R(t);if(a&&(e=x(function(){A?k.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=A||R(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},R=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!R(e.promise))return!1;return!0},M=function(t){_.call(u,function(){var e;A?k.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=T(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(B,r,1),c(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};P||(S=function(t){p(this,S,"Promise","_h"),d(t),r.call(this);try{t(c(B,this,1),c(I,this,1))}catch(t){I.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(87)(S.prototype,{then:function(t,e){var n=E(m(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=c(B,t,1),this.reject=c(I,t,1)},y.f=E=function(t){return t===S||t===o?new a(t):i(t)}),f(f.G+f.W+f.F*!P,{Promise:S}),n(43)(S,"Promise"),n(130)("Promise"),o=n(4).Promise,f(f.S+f.F*!P,"Promise",{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function(t){return b(s&&this===o?S:this,t)}}),f(f.S+f.F*!(P&&n(226)(function(t){S.all(t).catch(C)})),"Promise",{all:function(t){var e=this,n=E(e),r=n.resolve,i=n.reject,a=x(function(){var n=[],a=0,o=1;v(t,!1,function(t){var s=a++,u=!1;n.push(void 0),o++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=E(e),r=n.reject,i=x(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){var r=n(16);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e,n){var r=n(38),i=n(5)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(6),i=n(127).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n(44)(o);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=o.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){o.nextTick(c)};else if(a){var l=!0,f=document.createTextNode("");new a(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var h=s.resolve();n=function(){h.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},t(a)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(7),i=n(4),a=n(6),o=n(126),s=n(129);r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(7),i=n(86),a=n(128);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=a(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(230),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var a=e&&e.prototype instanceof i?e:i,o=Object.create(a.prototype),s=new d(r||[]);return o._invoke=c(t,n,s),o}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function a(){}function o(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,i,a,o){var s=r(t[n],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(c).then(function(t){u.value=t,a(u)},o)}o(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(t,e,n){var i=A;return function(a,o){if(i===E)throw new Error("Generator is already running");if(i===P){if("throw"===a)throw o;return v()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===T)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===A)throw i=P,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=E;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?P:C,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=P,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,l(t,e),"throw"===e.method))return T;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,T;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,T):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,T)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,_=Object.prototype,g=_.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},x=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag",k="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(k&&(t.exports=S));S=e.regeneratorRuntime=k?t.exports:{},S.wrap=n;var A="suspendedStart",C="suspendedYield",E="executing",P="completed",T={},D={};D[x]=function(){return this};var O=Object.getPrototypeOf,R=O&&O(O(p([])));R&&R!==_&&g.call(R,x)&&(D=R);var M=o.prototype=i.prototype=Object.create(D);a.prototype=M.constructor=o,o.constructor=a,o[w]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(M),t},S.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[b]=function(){return this},S.AsyncIterator=u,S.async=function(t,e,r,i){var a=new u(n(t,e,r,i));return S.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},s(M),M[w]="Generator",M[x]=function(){return this},M.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return a.type="throw",a.arg=t,n.next=e,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,T):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),T},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),T}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),T}}}(function(){return this}()||Function("return this")())},function(t,e,n){t.exports={default:n(232),__esModule:!0}},function(t,e,n){n(82),n(47),n(46),n(233),n(239),n(242),n(244),t.exports=n(4).Set},function(t,e,n){"use strict";var r=n(234),i=n(131);t.exports=n(235)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(15).f,i=n(56),a=n(87),o=n(25),s=n(85),u=n(48),c=n(83),l=n(122),f=n(130),h=n(14),d=n(71).fastKey,p=n(131),v=h?"_s":"size",m=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&u(r,n,t[c],t)});return a(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return p(this,e)[v]}}),l},def:function(t,e,n){var r,i,a=m(t,e);return a?a.v=n:(t._l=a={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[v]++,"F"!==i&&(t._i[i]=a)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(6),i=n(7),a=n(71),o=n(36),s=n(26),u=n(87),c=n(48),l=n(85),f=n(17),h=n(43),d=n(15).f,p=n(236)(0),v=n(14);t.exports=function(t,e,n,m,_,g){var y=r[t],x=y,b=_?"set":"add",w=x&&x.prototype,k={};return v&&"function"==typeof x&&(g||w.forEach&&!o(function(){(new x).entries().next()}))?(x=e(function(e,n){l(e,x,t,"_c"),e._c=new y,void 0!=n&&c(n,_,e[b],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!g||"clear"!=t)&&s(x.prototype,t,function(n,r){if(l(this,x,t),!e&&g&&!f(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),g||d(x.prototype,"size",{get:function(){return this._c.size}})):(x=m.getConstructor(e,t,_,b),u(x.prototype,n),a.NEED=!0),h(x,t),k[t]=x,i(i.G+i.W+i.F,k),g||m.setStrong(x,t,_),x}},function(t,e,n){var r=n(25),i=n(111),a=n(57),o=n(76),s=n(237);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var v,m,_=a(e),g=i(_),y=r(s,p,3),x=o(g.length),b=0,w=n?d(e,x):u?d(e,0):void 0;x>b;b++)if((h||b in g)&&(v=g[b],m=y(v,b,_),t))if(n)w[b]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:w.push(v)}else if(l)return!1;return f?-1:c||l?l:w}}},function(t,e,n){var r=n(238);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(17),i=n(113),a=n(5)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(7);r(r.P+r.R,"Set",{toJSON:n(240)("Set")})},function(t,e,n){var r=n(58),i=n(241);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(48);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(243)("Set")},function(t,e,n){"use strict";var r=n(7);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(245)("Set")},function(t,e,n){"use strict";var r=n(7),i=n(42),a=n(25),o=n(48);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(n=[],e?(r=0,s=a(u,arguments[2],2),o(t,!1,function(t){n.push(s(t,r++))})):o(t,!1,n.push,n),new this(n))}})}},function(t,e,n){t.exports=n(247)},function(t,e,n){"use strict";function r(t){var e=new o(t),n=a(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var i=n(8),a=n(132),o=n(249),s=n(88),u=r(s);u.Axios=o,u.create=function(t){return r(i.merge(s,t))},u.Cancel=n(137),u.CancelToken=n(263),u.isCancel=n(136),u.all=function(t){return Promise.all(t)},u.spread=n(264),t.exports=u,t.exports.default=u},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new o,response:new o}}var i=n(88),a=n(8),o=n(258),s=n(259);r.prototype.request=function(t){"string"==typeof t&&(t=a.merge({url:arguments[0]},arguments[1])),t=a.merge(i,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},a.forEach(["delete","get","head","options"],function(t){r.prototype[t]=function(e,n){return this.request(a.merge(n||{},{method:t,url:e}))}}),a.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,n,r){return this.request(a.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=r},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(135);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(8);t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)&&(e+="[]"),i.isArray(t)||(t=[t]),i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,n){"use strict";var r=n(8),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(r.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=r.trim(t.substr(0,a)).toLowerCase(),n=r.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var r=n(8);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(n){var i=r.isString(n)?t(n):n;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}function i(t){for(var e,n,i=String(t),o="",s=0,u=a;i.charAt(0|s)||(u="=",s%1);o+=u.charAt(63&e>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;e=e<<8|n}return o}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=i},function(t,e,n){"use strict";var r=n(8);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function r(){this.handlers=[]}var i=n(8);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=n(8),a=n(260),o=n(136),s=n(88),u=n(261),c=n(262);t.exports=function(t){return r(t),t.baseURL&&!u(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return r(t),e.data=a(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(r(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}var i=n(137);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=n(266);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(50),u=n.n(s),c=n(11),l=n(2),f=n(27),h=function(){function t(e){i()(this,t),e=e||{},this.gameObject=null,this._isStatic=e.static||!1,this._mass=e.mass||null,this._friction=e.friction||null,this._body=null}return o()(t,[{key:"setMass",value:function(t){this._mass=t,u.a.Body.setMass(this._body,this._mass)}},{key:"getMass",value:function(){return this.mass}},{key:"setGameObject",value:function(t){this._sync()}},{key:"onGameObjectDetach",value:function(){this.gameObject.transform.clearPositionGetter(),this.gameObject.transform.clearScaleGetter(),this.gameObject.transform.clearRotationGetter()}},{key:"onGameObjectPositionUpdated",value:function(t){Object(l.i)(this._body)&&u.a.Body.setPosition(this._body,t)}},{key:"onGameObjectRotationUpdated",value:function(t){Object(l.i)(this._body)&&u.a.Body.setAngle(this._body,t)}},{key:"onGameObjectScaleUpdated",value:function(t){Object(l.i)(this._body)&&u.a.Body.scale(this._body,t.x,t.y)}},{key:"unload",value:function(){}},{key:"_sync",value:function(){var t=this;if(Object(l.i)(this.gameObject)){if(!Object(l.i)(this._body)){var e=this.gameObject.transform.getPosition(),n=1,r=1;f.a.isSprite(this.gameObject)&&(n=this.gameObject.getTexture().getWidth(),r=this.gameObject.getTexture().getHeight()),this._body=u.a.Bodies.rectangle(e.x,e.y,n,r,{isStatic:this._isStatic}),u.a.World.add(c.a.activeScene.getPhysicsWorld(),[this._body]);var i=this.gameObject.transform.getScale();u.a.Body.scale(this._body,i.x,i.y),this.gameObject.transform.overridePositionGetter(function(){return{x:t._body.position.x,y:t._body.position.y}}),this.gameObject.transform.overrideRotationGetter(function(){return t._body.angle})}Object(l.i)(this._mass)&&u.a.Body.setMass(this._body,this._mass),Object(l.i)(this._friction)&&(this._body.friction=this._friction)}}}]),t}();e.a=h},function(t,e,n){n(268),t.exports=n(4).Object.keys},function(t,e,n){var r=n(57),i=n(55);n(91)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){t.exports={default:n(270),__esModule:!0}},function(t,e,n){var r=n(4),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(272),t.exports=n(4).Object.getPrototypeOf},function(t,e,n){var r=n(57),i=n(123);n(91)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){t.exports={default:n(274),__esModule:!0}},function(t,e,n){n(47),n(46),t.exports=n(73).f("iterator")},function(t,e,n){t.exports={default:n(276),__esModule:!0}},function(t,e,n){n(277),t.exports=n(4).Object.setPrototypeOf},function(t,e,n){var r=n(7);r(r.S,"Object",{setPrototypeOf:n(278).set})},function(t,e,n){var r=n(17),i=n(16),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(25)(Function.call,n(81).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){t.exports={default:n(280),__esModule:!0}},function(t,e,n){n(281);var r=n(4).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(32),i=n(81).f;n(91)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){"use strict";var r=n(283);n.d(e,"a",function(){return r.a});var i=n(284);n.d(e,"b",function(){return i.a});var a=n(285);n.d(e,"c",function(){return a.a});var o=n(286);n.d(e,"d",function(){return o.a})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=function t(e){i()(this,t)};e.a=a},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.name=e.name||"New Project",this.settings=e.settings||{},this.content=e.content||{scripts:[]},this.ensureContentStructure()}return o()(t,[{key:"ensureContentStructure",value:function(){this.content=this.content||{},this.content.hasOwnProperty("scripts")||(this.content.scripts=[])}}],[{key:"restore",value:function(e){return new t(e)}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.sourcePath=e.sourcePath||"",this.mapping=[]}return o()(t,[{key:"objectify",value:function(){return{sourcePath:this.sourcePath}}},{key:"getType",value:function(){return"TextureAtlas"}}],[{key:"restore",value:function(e){return new t({sourcePath:e.sourcePath})}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.activeLayout=e.activeLayout||{}}return o()(t,null,[{key:"restore",value:function(e){return new t(e)}}]),t}();e.a=s},function(t,e,n){"use strict";n.d(e,"u",function(){return k}),n.d(e,"v",function(){return S});var r=n(145);n.d(e,"a",function(){return r.a});var i=n(21);n.d(e,"b",function(){return i.a});var a=n(98);n.d(e,"d",function(){return a.a});var o=n(138);n.d(e,"e",function(){return o.a});var s=n(11);n.d(e,"f",function(){return s.a});var u=n(61);n.d(e,"g",function(){return u.a});var c=n(144);n.d(e,"h",function(){return c.a});var l=n(153);n.d(e,"j",function(){return l.a});var f=n(292);n.d(e,"i",function(){return f.a});var h=n(293);n.d(e,"k",function(){return h.a});var d=n(294);n.d(e,"l",function(){return d.a});var p=n(295);n.d(e,"m",function(){return p.a});var v=n(149);n.d(e,"n",function(){return v.a});var m=n(146);n.d(e,"o",function(){return m.a});var _=n(100);n.d(e,"p",function(){return _.a});var g=n(156);n.d(e,"c",function(){return g.a});var y=n(296);n.d(e,"q",function(){return y.a});var x=n(62);n.d(e,"r",function(){return x.a});var b=n(95);n.d(e,"s",function(){return b.a});var w=n(151);n.d(e,"t",function(){return w.a});var k=d.a.addScript.bind(d.a),S=d.a.assign.bind(d.a)},function(t,e){function n(t,e){if(!(t=t.replace(/\t+/g," ").trim()))return null;var n=t.indexOf(" ");if(-1===n)throw new Error("no named row at line "+e);var i=t.substring(0,n);t=t.substring(n+1),t=t.replace(/letter=[\'\"]\S+[\'\"]/gi,""),t=t.split("="),t=t.map(function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var a=[],o=0;o<t.length;o++){var s=t[o];0===o?a.push({key:s[0],data:""}):o===t.length-1?a[a.length-1].data=r(s[0]):(a[a.length-1].data=r(s[0]),a.push({key:s[1],data:""}))}var u={key:i,data:{}};return a.forEach(function(t){u.data[t.key]=t.data}),u}function r(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?i(t):parseInt(t,10):""}function i(t){return t.split(",").map(function(t){return parseInt(t,10)})}t.exports=function(t){if(!t)throw new Error("no data provided");t=t.toString().trim();var e={pages:[],chars:[],kernings:[]},r=t.split(/\r\n?|\n/g);if(0===r.length)throw new Error("no data in BMFont file");for(var i=0;i<r.length;i++){var a=n(r[i],i);if(a)if("page"===a.key){if("number"!=typeof a.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof a.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');e.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?e.chars.push(a.data):"kerning"===a.key?e.kernings.push(a.data):e[a.key]=a.data)}return e}},function(t,e,n){function r(t){return i(t).reduce(function(t,e){return t[a(e.nodeName)]=e.nodeValue,t},{})}function i(t){for(var e=[],n=0;n<t.attributes.length;n++)e.push(t.attributes[n]);return e}function a(t){return u[t.toLowerCase()]||t}var o=n(290),s=n(291),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};t.exports=function(t){t=t.toString();var e=s(t),n={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(t){var i=e.getElementsByTagName(t)[0];i&&(n[t]=o(r(i)))});var i=e.getElementsByTagName("pages")[0];if(!i)throw new Error("malformed file -- no <pages> element");for(var a=i.getElementsByTagName("page"),u=0;u<a.length;u++){var c=a[u],l=parseInt(c.getAttribute("id"),10),f=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!f)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(l,10)]=f}return["chars","kernings"].forEach(function(t){var i=e.getElementsByTagName(t)[0];if(i)for(var a=t.substring(0,t.length-1),s=i.getElementsByTagName(a),u=0;u<s.length;u++){var c=s[u];n[t].push(o(r(c)))}}),n}},function(t,e){function n(t){return t.split(",").map(function(t){return parseInt(t,10)})}t.exports=function(t){"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset);for(var e in t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?n(t[e]):parseInt(t[e],10));return t}},function(t,e){t.exports=function(){return void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new self.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e}}()},function(t,e,n){"use strict";var r=n(22),i=n.n(r),a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(28),l=n.n(c),f=n(94),h=n.n(f),d=n(29),p=n.n(d),v=n(61),m=(n(35),n(155)),_=n(11),g=n(21),y=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"Geometry",meshVertices:[[0,.5],[-.5,-.5],[.5,-.5]],color:g.a.fromRGBA(0,0,0,1),shader:new m.a};o()(this,e);var n=l()(this,(e.__proto__||i()(e)).call(this,t));return n._shader=t.shader,n._triangleVertices=t.meshVertices.reduce(function(t,e){return t.concat(e)}),n._color=t.color,n._gl=_.a.renderContext.getContext(),n._program=n._shader.getProgram(),n._gl.useProgram(n._program),n._vertexBuffer=null,n._positionAttribLocation=null,n._shader.attributes.aPos=void 0===n._shader.attributes.aPos?null:n._shader.attributes.aPos,n._shader.uniforms.uColor=void 0===n._shader.uniforms.uColor?null:n._shader.uniforms.uColor,n.setup(),n}return p()(e,t),u()(e,[{key:"setup",value:function(){null!==this._shader.attributes.aPos&&(this._vertexBuffer=this._gl.createBuffer(),this._gl.enableVertexAttribArray(this._shader.attributes.aPos),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._vertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(this._triangleVertices),this._gl.STATIC_DRAW),this._gl.vertexAttribPointer(this._shader.attributes.aPos,2,this._gl.FLOAT,!1,0,0)),null!==this._shader.uniforms.uColor&&this._gl.uniform4fv(this._shader.uniforms.uColor._location,[this._color.r,this._color.g,this._color.b,this._color.a])}},{key:"unload",value:function(){null!==this._vertexBuffer&&this._gl.deleteBuffer(this._vertexBuffer)}},{key:"render",value:function(t,n){null!==this._shader.attributes.aPos&&(this._gl.useProgram(this._program),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._vertexBuffer),this._gl.vertexAttribPointer(this._shader.attributes.aPos,2,this._gl.FLOAT,!1,0,0),this._gl.enableVertexAttribArray(this._shader.attributes.aPos),this._gl.drawArrays(this._gl.TRIANGLES,0,this._triangleVertices.length/2)),h()(e.prototype.__proto__||i()(e.prototype),"render",this).call(this,t,n)}},{key:"getMatrix",value:function(){var t=void 0,e=void 0;return t=this.transform.getPosition().x,e=this.transform.getPosition().y,this._transformMatrix.identity(),this._transformMatrix.translate([t,e,0]),this._transformMatrix.asArray()}}]),e}(v.a);e.a=y},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(){i()(this,t)}return o()(t,[{key:"update",value:function(t){}},{key:"render",value:function(t,e){}}]),t}();e.a=s},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(19),u=n.n(s),c=n(20),l=u()("scriptsSingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._store={},this._logger=new c.b("ScriptEngine")}return o()(t,[{key:"clear",value:function(){this._store={}}},{key:"addScript",value:function(t,e){this._store[t]=e}},{key:"assign",value:function(t,e){var n=this.generateComponent(t);return null===n?void this._logger.warn("Could not generate script component: "+t):(e.addComponent(n),n)}},{key:"generateComponent",value:function(t){return this._store[t]?new this._store[t]:(this._logger.warn("No script is available under the name: "+t),null)}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(37),h=n(2),d=function(){function t(e){if(u()(this,t),!Object(h.i)(e))throw new Error("Cannot create Sound without a valid audio source");this._source=e}return l()(t,[{key:"setAudioSource",value:function(t){this._source=t}},{key:"play",value:function(){this._source.play()}},{key:"pause",value:function(){this._source.pause()}},{key:"stop",value:function(){this._source.pause(),this._source.currentTime=0}},{key:"setLoop",value:function(t){this._source.loop=t}},{key:"setVolume",value:function(t){this._source.volume=t}}],[{key:"fromPath",value:function(){function e(t){return n.apply(this,arguments)}var n=o()(i.a.mark(function e(n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.loadAudio(n);case 2:if(!1!==(r=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new t(r));case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=d},function(t,e,n){"use strict";var r=n(9),i=n.n(r),a=n(10),o=n.n(a),s=n(22),u=n.n(s),c=n(0),l=n.n(c),f=n(28),h=n.n(f),d=n(94),p=n.n(d),v=n(1),m=n.n(v),_=n(29),g=n.n(_),y=n(18),x=n(60),b=n(49),w=n(157),k=n(61),S=n(21),A=n(100),C=n(156),E=n(11),P=n(62),T=n(33),D=n(2),O=n(158),R=n(164);n(98);T.a.inherit("text","gameobject"),T.a.addRule("text","_fontPathAsync",{displayName:"Font Src",editor:"filepath"}),T.a.addRule("text","_color",{displayName:"Color"}),T.a.addRule("text","_text",{displayName:"Text"}),T.a.addRule("text","_texture",{visible:!1}),T.a.addRule("text","_fontStyle",{ownContainer:!0}),T.a.addRule("text","_stroke",{ownContainer:!0,available:function(){return!!this.getStrokeEnabled()}}),T.a.addRule("text","_dropShadow",{ownContainer:!0,available:function(){return!!this.getDropShadowEnabled()}});var M=function(t){function e(t){l()(this,e),t=t||{},t.name=t.name||"Text";var n=h()(this,(e.__proto__||u()(e)).call(this,t));return n._fontPathAsync="",n._wordWrap=t.wordWrap||!0,n._characterWrap=t.characterWrap||!0,n._alignType=t.alignType||e.AlignType.LEFT,n._color=t.color||S.a.fromRGBA(164,56,32,1),n._text=t.text||"",n._gamma=t.gamma||2,n._strokeEnabled=!0,n._stroke=new A.a(S.a.fromRGBA(255,0,0,1),0),n._dropShadowEnabled=!0,n._dropShadow=new C.a,n._debug=!1,n._gl=E.a.renderContext.getContext(),n._vertexBuffer=null,n._textureBuffer=null,n._vertexIndicesBuffer=null,n._textShader=t.shader,n._textureSrc="",n._texture=null,n._textureWidth=0,n._textureHeight=0,n.setTexture(t.texture||null),n}return g()(e,t),m()(e,null,[{key:"AlignType",get:function(){return{LEFT:"LEFT",CENTER:"CENTER",RIGHT:"RIGHT"}}}]),m()(e,[{key:"getShader",value:function(){return this._textShader}},{key:"render",value:function(t,n){if(this.enabled&&null!==this.getTexture()){var r=this._gl;if(E.a.activeGame.getShaderManager().useShader(this._textShader),r.enableVertexAttribArray(this._textShader.attributes.aPos),r.enableVertexAttribArray(this._textShader.attributes.aTexCoord),null!==this._drawText()){var i=E.a.activeGame.getActiveCamera().getMatrix();r.uniformMatrix4fv(this._textShader.uniforms.uMatrix._location,!1,i),r.uniformMatrix4fv(this._textShader.uniforms.uTransform._location,!1,this.getMatrix()),r.activeTexture(r.TEXTURE0),this._texture.bind(),r.uniform1i(this._textShader.uniforms.uTexture._location,0),r.uniform1f(this._textShader.uniforms.uDebug._location,this._debug?1:0),r.uniform1f(this._textShader.uniforms.uOutline._location,this._strokeEnabled?1:0),r.uniform1f(this._textShader.uniforms.uDropShadow._location,this._dropShadowEnabled?1:0),r.bindBuffer(r.ARRAY_BUFFER,this._vertexBuffer),r.vertexAttribPointer(this._textShader.attributes.aPos,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this._textureBuffer),r.vertexAttribPointer(this._textShader.attributes.aTexCoord,2,r.FLOAT,!1,0,0);var a=this.getStroke().getColor();r.uniform4fv(this._textShader.uniforms.uOutlineColor._location,[a.r,a.g,a.b,a.a]),r.uniform1f(this._textShader.uniforms.uOutlineDistance._location,this.getNormalizedStrokeSize());var o=this.getDropShadow().getStroke().getColor();r.uniform4fv(this._textShader.uniforms.uDropShadowColor._location,[o.r,o.g,o.b,o.a]),r.uniform1f(this._textShader.uniforms.uDropShadowSmoothing._location,this.getNormalizedDropShadowSmoothing());var s=this.getNormalizedDropShadowOffset();r.uniform2fv(this._textShader.uniforms.uDropShadowOffset._location,[s.x,s.y]);var c=this.getColor();r.uniform4fv(this._textShader.uniforms.uColor._location,[c.r,c.g,c.b,c.a]),r.uniform1f(this._textShader.uniforms.uGamma._location,.25/(10*this.getFontStyle().getScale())),r.drawElements(r.TRIANGLES,this._vertexIndicesBuffer.numItems,r.UNSIGNED_SHORT,0),p()(e.prototype.__proto__||u()(e.prototype),"render",this).call(this,t,n)}}}},{key:"unload",value:function(){Object(D.i)(this._vertexBuffer)&&this._gl.deleteBuffer(this._vertexBuffer),Object(D.i)(this._textureBuffer)&&this._gl.deleteBuffer(this._textureBuffer),Object(D.i)(this._vertexIndicesBuffer)&&this._gl.deleteBuffer(this._vertexIndicesBuffer),Object(D.i)(this._textShader)&&this._textShader.unload()}},{key:"getMatrix",value:function(){var t=void 0,e=void 0;return t=this.transform.getPosition().x,e=this.transform.getPosition().y,this._transformMatrix.identity(),this._transformMatrix.translate([t,e,0]),this._transformMatrix.asArray()}},{key:"getType",value:function(){return"Text"}},{key:"getTexture",value:function(){return this._texture}},{key:"setTextureSrc",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.fromPath(e);case 2:n=t.sent,this.setTexture(n);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"setFontPathAsync",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.loadFontAsync(e);case 2:if(null!=(n=t.sent)&&null!=n.getFontImage()){t.next=5;break}return t.abrupt("return",!1);case 5:return r=new P.a(n.getFontImage()),this.setTexture(r),this._fontStyle=n,this._fontPathAsync=e,t.abrupt("return",!0);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"getFontPathAsync",value:function(){return this._fontPathAsync}},{key:"setTexture",value:function(t){if(null==t||!t.isReady())return this._textureSrc="",this._texture=null,this._textureWidth=0,void(this._textureHeight=0);this._setTextureParameters(),this._textShader=this._textShader||new R.a,this._textureSrc=t.getTextureSrc(),this._texture=t,this._textureWidth=this._texture.getWidth(),this._textureHeight=this._texture.getHeight(),this._vertexBuffer=this._gl.createBuffer(),this._textureBuffer=this._gl.createBuffer(),this._vertexIndicesBuffer=this._gl.createBuffer(),this._gl.uniform2f(this._textShader.uniforms.uTexSize._location,this._textureWidth,this._textureHeight)}},{key:"setColor",value:function(t){this._color=t}},{key:"getColor",value:function(){return this._color}},{key:"setStroke",value:function(t){this._stroke=t}},{key:"getStroke",value:function(){return this._stroke}},{key:"getDropShadow",value:function(){return this._dropShadow}},{key:"setDropShadow",value:function(t){this._dropShadow=t}},{key:"setText",value:function(t){this._text=t}},{key:"getText",value:function(){return this._text}},{key:"getFontStyle",value:function(){return this._fontStyle}},{key:"setFontStyle",value:function(t){this._fontStyle=t}},{key:"getNormalizedStrokeSize",value:function(){var t=x.a.normalize(this.getStroke().getSize(),0,this.getStroke().getMaxSize(),0,.5);return t=.5-t}},{key:"getNormalizedDropShadowSmoothing",value:function(){var t=this.getDropShadow().getStroke();return x.a.normalize(t.getSize(),0,t.getMaxSize(),0,.5)}},{key:"getNormalizedDropShadowOffset",value:function(){var t=this.getDropShadow().getOffset(),e=this.getDropShadow().getRawMaxOffset(),n=x.a.normalize(t.x,-1*e.x,e.x,-1*this.maxDropShadowOffsetX,this.maxDropShadowOffsetX),r=x.a.normalize(t.y,-1*e.y,e.y,-1*this.maxDropShadowOffsetY,this.maxDropShadowOffsetY);return new y.a(n,r)}},{key:"setFontSize",value:function(t){this.getFontStyle().setFontSize(t)}},{key:"getFontSize",value:function(){return this.getFontStyle().getFontSize()}},{key:"getLetterSpacing",value:function(){return this.getFontStyle().getLetterSpacing()}},{key:"setLetterSpacing",value:function(t){this.getFontStyle().setLetterSpacing(t)}},{key:"setGamma",value:function(t){this._gamma=t}},{key:"getGamma",value:function(){return this._gamma}},{key:"setDebug",value:function(t){this._debug=!!t}},{key:"getDebug",value:function(){return this._debug}},{key:"setDropShadowEnabled",value:function(t){this._dropShadowEnabled=!!t}},{key:"getDropShadowEnabled",value:function(){return this._dropShadowEnabled}},{key:"setStrokeEnabled",value:function(t){this._strokeEnabled=!!t}},{key:"getStrokeEnabled",value:function(){return this._strokeEnabled}},{key:"setWordWrap",value:function(t){this._wordWrap=t}},{key:"getWordWrap",value:function(){return this._wordWrap}},{key:"setCharacterWrap",value:function(t){this._characterWrap=t}},{key:"getCharacterWrap",value:function(){return this._characterWrap}},{key:"setAlign",value:function(t){this._alignType=t}},{key:"getAlign",value:function(){return this._alignType}},{key:"getTextureSrc",value:function(){return this._textureSrc}},{key:"objectify",value:function(){var t=p()(e.prototype.__proto__||u()(e.prototype),"objectify",this).call(this);return b.a.extend(t,{fontPath:this.getFontPathAsync(),wordWrap:this.getWordWrap(),characterWrap:this.getCharacterWrap(),alignType:this.getAlign(),color:this.getColor().objectify(),text:this.getText(),gamma:this.getGamma(),strokeEnabled:this.getStrokeEnabled(),stroke:this.getStroke().objectify(),dropShadowEnabled:this.getDropShadowEnabled(),dropShadow:this.getDropShadow().objectify(),debug:this.getDebug()})}},{key:"_setTextureParameters",value:function(){var t=this._gl;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}},{key:"_drawText",value:function(){var t=this.getFontStyle();if(!t)return null;var e=t.getFontDescription();if(!e||!e.common||!e.common.lineHeight)return null;var n=e.common.lineHeight||this.getFontSize(),r=t.getScale();if(!r)return null;var i=w.a.measureText(t,this.getText(),1500,this.getWordWrap(),this.getCharacterWrap());this._drawLines(i,r,n)}},{key:"_alignLine",value:function(t){var n=void 0;switch(this.getAlign()){case e.AlignType.LEFT:n=this.transform.getPosition().x;break;case e.AlignType.CENTER:n=this.transform.getPosition().x+750-t/2;break;case e.AlignType.RIGHT:n=this.transform.getPosition().x+1500-t;break;default:n=0}return n}},{key:"_drawLines",value:function(t,e,n){if(t&&e&&!(e<=0)&&n&&0!==n){for(var r=this._gl,i=[],a=[],o=[],s={x:0,y:this.transform.getPosition().y},u=0;u<t.length;u++){s.x=this._alignLine(t[u].width);var c=t[u].chars;this._prepareLineToBeDrawn(c,e,s,i,a,o),s.y+=n*e}r.bindBuffer(r.ARRAY_BUFFER,this._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array(i),r.STATIC_DRAW),this._vertexBuffer.numItems=i.length/2,r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this._vertexIndicesBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),r.STATIC_DRAW),this._vertexIndicesBuffer.numItems=o.length,r.bindBuffer(r.ARRAY_BUFFER,this._textureBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array(a),r.STATIC_DRAW),this._textureBuffer.numItems=a.length/2}}},{key:"_prepareLineToBeDrawn",value:function(t,e,n,r,i,a){for(var o=0,s=0;s<t.length;s++){var u=t[s];o=this._createGlyph(u,e,n,o,r,i,a)}}},{key:"_createGlyph",value:function(t,e,n,r,i,a,o){var s=this.getFontStyle();if(!s)return 0;var u=s.getFontDescription();if(!(u&&u.chars&&t&&e&&!(e<=0)&&n&&null!=r&&i&&a&&o))return 0;var c=s.findCharID(t);if(null===c)return 0;var l=u.chars[c],f=l.width,h=l.height,d=l.xoffset,p=l.yoffset,v=l.xadvance,m=l.x,_=l.y,g=l.id,y=0;if(f>0&&h>0){r&&(y=s.getKerning(r,g));var x=o.length/6*4;o.push(0+x,1+x,2+x,1+x,2+x,3+x),i.push(n.x+(d+y)*e,n.y+p*e,n.x+(d+y+f)*e,n.y+p*e,n.x+(d+y)*e,n.y+(h+p)*e,n.x+(d+y+f)*e,n.y+(h+p)*e),a.push(m,_,m+f,_,m,_+h,m+f,_+h)}return n.x=n.x+s.getLetterSpacing()+(v+y)*e,g}},{key:"maxDropShadowOffsetX",get:function(){return 0!==this._textureWidth&&null!=this._fontStyle?this._fontStyle.getSpread()/this._textureWidth:0}},{key:"maxDropShadowOffsetY",get:function(){return 0!==this._textureHeight&&null!=this._fontStyle?this._fontStyle.getSpread()/this._textureHeight:0}}],[{key:"restore",value:function(){function t(t){return n.apply(this,arguments)}var n=o()(i.a.mark(function t(n){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=p()(e.__proto__||u()(e),"restore",this).call(this,n),a=new e,t.next=4,a.setFontPathAsync(n.fontPath);case 4:return a.setWordWrap(n.wordWrap),a.setCharacterWrap(n.characterWrap),a.setAlign(n.alignType),a.setColor(S.a.restore(n.color)),a.setText(n.text),a.setGamma(n.gamma),a.setStrokeEnabled(n.strokeEnabled),a.setStroke(A.a.restore(n.stroke)),a.setDropShadowEnabled(n.dropShadowEnabled),a.setDropShadow(C.a.restore(n.dropShadow)),a.setDebug(n.debug),t.abrupt("return",b.a.extend(a,r));case 16:case"end":return t.stop()}},t,this)}));return t}()}]),e}(k.a);e.a=M},function(t,e,n){"use strict";var r=n(298);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(21),u=n(153),c=n(96),l=function(){function t(e){if(i()(this,t),e=e||{},!e.game)throw new Error("Cannot create debug extension without game parameter");this.enabled=!0,this._game=e.game||null,this._gridSize=e.gridSize||32,this._gridColor=e.gridColor||s.a.Red,this._originLines=!0,this._zoomMultiplier=2,this._primitiveBatch=new u.a(e.game),this._useDynamicColor=e.dynamicColor||!0}return o()(t,[{key:"setOriginLines",value:function(t){this._originLines=t}},{key:"setGridSize",value:function(t){this._gridSize=t}},{key:"getGridSize",value:function(){return this._gridSize}},{key:"setGridColor",value:function(t){this._gridColor=t}},{key:"render",value:function(){if(this.enabled){this._primitiveBatch.begin();for(var t=this._game.getActiveCamera().zoom,e=Math.floor(t),n=this._gridSize,r=0;r<e-1;r++)r%this._zoomMultiplier==0&&(n*=2);var i=2*n,a=this._game.getVirtualResolution(),o=this._game.getActiveCamera().x-this._game.getActiveCamera().x%n,s=this._game.getActiveCamera().y-this._game.getActiveCamera().y%n,u=t*a.width*2,l=t*a.height*2,f=Math.floor((a.width+u)/n+2),h=Math.floor((a.height+l)/n+2),d=Math.floor(f/2)%2==0,p=Math.floor(h/2)%2==0,v=-(a.width+u)/2,m=(a.width+u)/2,_=-(a.height+l)/2,g=(a.height+l)/2,y=this._gridColor.clone(),x=null;t>1&&this._useDynamicColor&&(y.a=1-t%this._zoomMultiplier/this._zoomMultiplier);for(var b=0;b<f;b++)x=this._gridColor,this._useDynamicColor&&(b*n+o+(d?n:0))%i&&(x=y),this._primitiveBatch.storeLine({x:b*n+v-v%n+o,y:g+n+s},{x:b*n+v-v%n+o,y:_-n+s},x,x);for(var w=0;w<h;w++)x=this._gridColor,this._useDynamicColor&&(w*n+s+(p?n:0))%i&&(x=y),this._primitiveBatch.storeLine({x:m+this._gridSize+o,y:w*n+_-_%n+s},{x:v-n+o,y:w*n+_-_%n+s},x,x);this._originLines&&(this._primitiveBatch.storeRectangle(new c.a(-2,_-this._gridSize+s,4,a.height+l),this._gridColor),this._primitiveBatch.storeRectangle(new c.a(v-this._gridSize+o,-2,a.width+u,4),this._gridColor)),this._primitiveBatch.flush()}}}]),t}();e.a=l},function(t,e,n){"use strict";var r=n(143);n.d(e,"d",function(){return r.a});var i=n(142);n.d(e,"c",function(){return i.a});var a=n(141);n.d(e,"e",function(){return a.a});var o=n(165);n.d(e,"b",function(){return o.a});var s=n(300);n.d(e,"a",function(){return s.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(19),u=n.n(s),c=n(89),l=n(45),f=n(165),h=n(20),d=u()("gamepadSingleton"),p=function(){function t(e){if(i()(this,t),d!==e)throw new Error("Cannot instantiate directly.");this._logger=new h.b("Gamepad"),this._initialize()}return o()(t,[{key:"getGamepadState",value:function(t){if(void 0===navigator.getGamepads)return void this._logger.warn("Gamepad module not available on this system!");var e=navigator.getGamepads();return e[t]?new f.a(e[t]):null}},{key:"_initialize",value:function(){window.addEventListener("gamepadconnected",this._onGamepadConnected.bind(this),!1),window.addEventListener("gamepaddisconnected",this._onGamepadDisconnected.bind(this),!1)}},{key:"_onGamepadConnected",value:function(t){var e=t.gamepad;this._logger.log("Gamepad ["+e.index+"] connected"),c.a.emit(l.a.EVENTS.INPUT.GAMEPAD_CONNECTED,e)}},{key:"_onGamepadDisconnected",value:function(t){var e=t.gamepad;this._logger.log("Gamepad ["+e.index+"] disconnected"),c.a.emit(l.a.EVENTS.INPUT.GAMEPAD_DISCONNECTED,e)}}],[{key:"instance",get:function(){return this[d]||(this[d]=new t(d)),this[d]}}]),t}(),v=p.instance},function(t,e,n){"use strict";var r=n(150);n.d(e,"a",function(){return r.a});var i=n(60);n.d(e,"b",function(){return i.a});var a=n(302);n.d(e,"c",function(){return a.a});var o=n(92);n.d(e,"d",function(){return o.a});var s=n(303);n.d(e,"e",function(){return s.a});var u=n(96);n.d(e,"f",function(){return u.a});var c=n(18);n.d(e,"g",function(){return c.a});var l=n(304);n.d(e,"h",function(){return l.a});var f=n(305);n.d(e,"i",function(){return f.a})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=function(){function t(e){i()(this,t),(e instanceof Array||e instanceof Float32Array)&&9===e.length?this._matrix=new Float32Array(e):this._matrix=new Float32Array(9)}return o()(t,[{key:"copy",value:function(e){e instanceof t&&e.setFromArray(this.asArray())}},{key:"setFromArray",value:function(t){(t instanceof Array||t instanceof Float32Array)&&9===t.length&&(this._matrix=new Float32Array(t))}},{key:"clone",value:function(){return new t(this._matrix.asArray())}},{key:"asArray",value:function(){return this._matrix}},{key:"invert",value:function(){var t=this._matrix[4]*this._matrix[8]-this._matrix[5]*this._matrix[7],e=this._matrix[1]*this._matrix[8]-this._matrix[2]*this._matrix[7],n=this._matrix[1]*this._matrix[5]-this._matrix[2]*this._matrix[4],r=1/(this._matrix[0]*t-this._matrix[3]*e+this._matrix[6]*n);return this._matrix[0]=r*t,this._matrix[1]=-r*e,this._matrix[2]=r*n,this._matrix[3]=-r*(this._matrix[3]*this._matrix[8]-this._matrix[5]*this._matrix[6]),this._matrix[4]=r*(this._matrix[0]*this._matrix[8]-this._matrix[2]*this._matrix[6]),this._matrix[5]=-r*(this._matrix[0]*this._matrix[5]-this._matrix[2]*this._matrix[3]),this._matrix[6]=r*(this._matrix[3]*this._matrix[7]-this._matrix[4]*this._matrix[6]),this._matrix[7]=-r*(this._matrix[0]*this._matrix[7]-this._matrix[1]*this._matrix[6]),this._matrix[8]=r*(this._matrix[0]*this._matrix[4]-this._matrix[1]*this._matrix[3]),this._matrix}},{key:"multiply",value:function(t){var e=this._matrix[0],n=this._matrix[1],r=this._matrix[2],i=this._matrix[3],a=this._matrix[4],o=this._matrix[5],s=this._matrix[6],u=this._matrix[7],c=this._matrix[8],l=t[0],f=t[1],h=t[2],d=t[3],p=t[4],v=t[5],m=t[6],_=t[7],g=t[8];return this._matrix[0]=e*l+n*d+r*m,this._matrix[1]=e*f+n*p+r*_,this._matrix[2]=e*h+n*v+r*g,this._matrix[3]=i*l+a*d+o*m,this._matrix[4]=i*f+a*p+o*_,this._matrix[5]=i*h+a*v+o*g,this._matrix[6]=s*l+u*d+c*m,this._matrix[7]=s*f+u*p+c*_,this._matrix[8]=s*h+u*v+c*g,this._matrix}},{key:"identity",value:function(){return this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=1,this._matrix[5]=0,this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=1,this._matrix}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a);n(34).a.addRule("ray",["origin","direction"]);var s=function(){function t(e,n){i()(this,t),this.origin=0,this.direction=0,this.set(e,n)}return o()(t,[{key:"set",value:function(t,e){this.origin=t||0,this.direction=e||0}},{key:"objectify",value:function(){return{origin:this.origin,direction:this.direction}}},{key:"equals",value:function(t){return t.origin===this.origin&&t.direction===this.direction}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t(e.origin,e.direction)}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a);n(34).a.addRule("vector3",["x","y","z"]);var s=function(){function t(e,n,r){i()(this,t),this.x=0,this.y=0,this.z=0,this.set(e,n,r)}return o()(t,[{key:"set",value:function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}},{key:"objectify",value:function(){return{x:this.x,y:this.y,z:this.z}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"unload",value:function(){}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"sqrMagnitude",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"distanceTo",value:function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y)+(this.z-t.z)*(this.z-t.z))}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"cross",value:function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.z)}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n.n(a);n(34).a.addRule("vector4",["x","y","z","w"]);var s=function(){function t(e,n,r,a){i()(this,t),this.x=0,this.y=0,this.z=0,this.w=0,this.set(e,n,r,a)}return o()(t,[{key:"set",value:function(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=r||0}},{key:"objectify",value:function(){return{x:this.x,y:this.y,z:this.z,w:this.w}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.z,e.w)}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(35);n.d(e,"d",function(){return r.a});var i=n(154);n.d(e,"c",function(){return i.a});var a=n(140);n.d(e,"e",function(){return a.a});var o=n(155);n.d(e,"a",function(){return o.a});var s=n(307);n.d(e,"f",function(){return s.a});var u=n(164);n.d(e,"b",function(){return u.a});var c=n(147);n.d(e,"g",function(){return c.a})},function(t,e,n){"use strict";var r=n(22),i=n.n(r),a=n(0),o=n.n(a),s=n(28),u=n.n(s),c=n(1),l=n.n(c),f=n(29),h=n.n(f),d=n(35),p=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["attribute vec2 aPos;","attribute vec2 aTexCoord;","uniform mat4 uMatrix;","uniform mat4 uTransform;","uniform vec2 uTexSize;","varying vec2 vTexCoord;","void main() {","   gl_Position = uMatrix * uTransform * vec4(aPos, 0, 1);","   vTexCoord = aTexCoord / uTexSize;","}"].join("\n"),fragment:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","#ifdef GL_ES","   precision mediump float;","#endif","uniform sampler2D uTexture;","uniform vec4 uColor;","uniform float uGamma;","uniform float uOutlineDistance;","uniform vec4 uOutlineColor;","uniform vec4 uDropShadowColor;","uniform float uDropShadowSmoothing;","uniform vec2 uDropShadowOffset;","uniform float uDebug;","uniform float uDropShadow;","uniform float uOutline;","varying vec2 vTexCoord;","float aastep(float value) {","  #ifdef GL_OES_standard_derivatives","    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;","  #else","    float afwidth = (1.0 / 72.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  #endif","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","void main() {","   float distance = texture2D(uTexture, vTexCoord).a;","   vec4 finalColor = uColor;","   if (uDebug > 0.0) {","       gl_FragColor = vec4(distance, distance, distance, 1);","       return;","   }","   if (uOutline > 0.0) {","       float outlineFactor = smoothstep(0.5 - uGamma, 0.5 + uGamma, distance);","       vec4 color = mix(uOutlineColor, uColor, outlineFactor);","       float alpha = smoothstep(uOutlineDistance - uGamma, uOutlineDistance + uGamma, distance);","       finalColor = vec4(color.rgb, color.a * alpha);","   } else {","       float alpha = aastep(distance);","       finalColor = vec4(uColor.rgb, uColor.a * alpha);","   }","   if (uDropShadow > 0.0) {","       float shadowDistance = texture2D(uTexture, vTexCoord - uDropShadowOffset).a;","       float shadowAlpha = smoothstep(0.5 - uDropShadowSmoothing, 0.5 + uDropShadowSmoothing, shadowDistance);","       vec4 shadow = vec4(uDropShadowColor.rgb, uDropShadowColor.a * shadowAlpha);","       gl_FragColor = mix(shadow, finalColor, finalColor.a);","       return;","   }","   gl_FragColor = finalColor;","}"].join("\n"),uniforms:{uMatrix:{type:"mat4",value:new Float32Array(16)},uTransform:{type:"mat4",value:new Float32Array(16)},uTexture:{type:"tex",value:0},uTexSize:{type:"1i",value:24},uColor:[1,0,0,1],uOutlineColor:[1,1,1,1],uDropShadowColor:[0,0,0,1],uDropShadowSmoothing:{type:"1i",value:0},uDropShadowOffset:[0,0],uOutlineDistance:{type:"1i",value:0},uGamma:{type:"1i",value:0},uDebug:{type:"1i",value:1},uDropShadow:{type:"1i",value:1},uOutline:{type:"1i",value:1}},attributes:{aPos:0,aTexCoord:0}}}}]),e}(d.a);e.a=p},function(t,e,n){"use strict";var r=n(49);n.d(e,"e",function(){return r.a});var i=n(97);n.d(e,"f",function(){return i.a});var a=n(27);n.d(e,"h",function(){return a.a});var o=n(157);n.d(e,"g",function(){return o.a});var s=n(99);n.d(e,"b",function(){return s.a});var u=n(158);n.d(e,"c",function(){return u.a});var c=n(159);n.d(e,"d",function(){return c.a});var l=n(160);n.d(e,"a",function(){return l.a})},function(t,e,n){"use strict";var r=n(139);n.d(e,"b",function(){return r.a});var i=n(148);n.d(e,"c",function(){return i.b}),n.d(e,"a",function(){return i.a})}])});